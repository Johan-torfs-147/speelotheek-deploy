(this["webpackJsonpspeelotheek-react"]=this["webpackJsonpspeelotheek-react"]||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(28),i=n.n(c),s=(n(89),n(3)),o=n.n(s),l=n(14),d=n(4),j=n(12),u=n(2),b=n(13),h=n(19),p=n(114),O=n(0);function f(){return Object(O.jsx)("div",{className:"jt-banner jt-no-print"})}var x=n(122),m=n(121),g=n(111),v=n(123),k=n(82),N=n(120),y=n(11);function w(e){var t=e.isLoggedIn,n=e.toggleSearchbar,r=e.searchbarActive,a=e.updateFilters,c=e.searchbarText;return Object(O.jsx)(O.Fragment,{children:t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"jt-searchbar-expand",children:[Object(O.jsx)("div",{className:"flex-fill"}),Object(O.jsx)(m.a,{placement:"bottom",overlay:Object(O.jsx)(g.a,{children:"Zoeken"}),children:Object(O.jsx)("div",{className:"jt-searchbar-button border-0",children:Object(O.jsx)("a",{onClick:n,className:r?"jt-searchbar-link jt-searchbar-link-active":"jt-searchbar-link",children:Object(O.jsx)(y.h,{size:"1.5em"})})})},"bottom")]}),Object(O.jsx)("div",{className:"jt-searchbar jt-searchbar-full",children:Object(O.jsx)("div",{className:"jt-searchbar-container",children:Object(O.jsx)("input",{id:"searchbar",type:"text",placeholder:"Zoeken",className:"jt-searchbar-input",onChange:function(e){return a("search",e.target.value,!1)},value:c})})})]}):Object(O.jsx)("div",{className:"flex-fill"})})}function C(e){var t=e.title,n=e.faIcon,r=e.collapse,a=e.to,c=e.shoppingCartLength;return Object(O.jsx)(m.a,{placement:"bottom",overlay:Object(O.jsx)(g.a,{className:"d-none d-"+r+"-block",children:t}),children:Object(O.jsxs)(v.a.Link,{to:a,as:b.b,className:"position-relative",children:[n,Object(O.jsx)("span",{className:"d-md-none ml-2",children:t}),c>0?Object(O.jsx)("div",{className:"jt-shopping-cart-number",children:Object(O.jsx)("span",{children:c})}):Object(O.jsx)(O.Fragment,{})]})},"bottom")}function S(e){var t=e.title,n=e.faIcon,r=e.collapse,a=e.dropdownMenu;return Object(O.jsxs)(N.a,{as:v.a.Item,className:"d-flex align-items-center",children:[Object(O.jsx)(m.a,{placement:"bottom",overlay:Object(O.jsx)(g.a,{className:"d-none d-"+r+"-block",children:t}),children:Object(O.jsxs)(N.a.Toggle,{as:v.a.Link,children:[n,Object(O.jsx)("span",{className:"d-md-none ml-2",children:t})]})},"bottom"),a]})}function I(e){var t=e.isLoggedIn,n=e.role,r=e.onLogout,a=e.toggleSearchbar,c=e.searchbarActive,i=e.updateFilters,s=e.searchbarText,l=e.winkelWagen,d=Object(h.f)();function u(){return(u=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/logout.php");case 2:return t=e.sent,e.next=5,t.json();case 5:e.sent.ok&&r();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p="md";return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(x.a,{activeKey:"/",className:"bg-light p-2 container-fluid",expand:p,children:[Object(O.jsx)(m.a,{placement:"bottom",overlay:Object(O.jsx)(g.a,{className:"d-none d-md-block",children:"Go back"}),children:Object(O.jsx)(v.a,{children:Object(O.jsx)(v.a.Link,{as:b.b,onClick:function(){d.length<2||d.goBack()},className:"px-2",children:Object(O.jsx)(y.g,{size:"1.8em"})})})},"bottom"),Object(O.jsxs)(k.a,{to:"/",as:b.b,className:"d-flex align-items-center",children:[Object(O.jsx)("img",{src:"./images/logo_tballonneke_klein.svg",width:"48",height:"48",alt:"Logo"}),Object(O.jsx)("span",{className:"jt-nav-title d-none d-sm-inline",children:"Speelotheek"})]}),Object(O.jsx)(w,{isLoggedIn:t,toggleSearchbar:a,searchbarActive:c,updateFilters:i,searchbarText:s}),Object(O.jsx)(x.a.Toggle,{"aria-controls":"navbar-links",className:"border-0"}),Object(O.jsx)(x.a.Collapse,{className:"jt-nav-collapse",id:"navbar-links",children:Object(O.jsx)(v.a,{children:t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v.a.Item,{className:"d-flex align-items-center",children:Object(O.jsx)(C,{title:"Home",faIcon:Object(O.jsx)(y.d,{size:"1.8em"}),collapse:p,to:"/"})}),"Admin"===n?Object(O.jsx)(S,{title:"Admin",faIcon:Object(O.jsx)(y.n,{size:"1.8em"}),collapse:p,dropdownMenu:Object(O.jsxs)(N.a.Menu,{className:"bg-light dropdown-menu-right",children:[Object(O.jsx)(N.a.Item,{to:"/admin/speelgoed",as:b.b,className:"bg-light text-dark",children:"Speelgoed"}),Object(O.jsx)(N.a.Item,{to:"/admin/reservaties",as:b.b,className:"bg-light text-dark",children:"Reservaties"}),Object(O.jsx)(N.a.Item,{to:"/admin/gebruikers",as:b.b,className:"bg-light text-dark",children:"Gebruikers"}),Object(O.jsx)(N.a.Item,{to:"/admin/categorieen",as:b.b,className:"bg-light text-dark",children:"Categorie\xebn"}),Object(O.jsx)(N.a.Item,{to:"/admin/periodes",as:b.b,className:"bg-light text-dark",children:"Periodes"}),Object(O.jsx)(N.a.Item,{to:"/admin/reviews",as:b.b,className:"bg-light text-dark",children:"Reviews"}),Object(O.jsx)(N.a.Item,{to:"/admin/doelgroepen",as:b.b,className:"bg-light text-dark",children:"Doelgroepen"})]})}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(v.a.Item,{className:"d-flex align-items-center",children:Object(O.jsx)(C,{title:"Winkelkar",faIcon:Object(O.jsx)(y.i,{size:"1.8em"}),collapse:p,to:"/winkelwagen",shoppingCartLength:l.length})}),Object(O.jsx)(S,{title:"Profiel",faIcon:Object(O.jsx)(y.m,{size:"1.8em"}),collapse:p,dropdownMenu:Object(O.jsxs)(N.a.Menu,{className:"bg-light dropdown-menu-right",children:[Object(O.jsx)(N.a.Item,{to:"/mijnreservaties",as:b.b,className:"bg-light text-dark",children:"Mijn reservaties"}),Object(O.jsx)(N.a.Item,{onClick:function(){return u.apply(this,arguments)},className:"bg-light text-dark",children:"Logout"})]})})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v.a.Item,{className:"d-flex align-items-center",children:Object(O.jsx)(v.a.Link,{to:"/login",as:b.b,children:"Login"})}),Object(O.jsx)(v.a.Item,{className:"d-flex align-items-center",children:Object(O.jsx)(v.a.Link,{to:"/sign_up",as:b.b,children:"Registreer"})})]})})})]})})}function A(e){var t=e.isLoggedIn,n=e.updateFilters,r=e.searchbarText;return Object(O.jsx)(O.Fragment,{children:t?Object(O.jsx)("div",{className:"jt-searchbar d-md-none",children:Object(O.jsx)("input",{id:"searchbar",type:"text",placeholder:"Zoeken",className:"jt-searchbar-input flex-fill",onChange:function(e){return n("search",e.target.value,!1)},value:r})}):Object(O.jsx)("div",{className:"flex-fill"})})}function L(e){var t=e.isLoggedIn,n=e.role,a=e.onLogout,c=e.updateFilters,i=e.searchbarText,s=e.winkelWagen,o=Object(r.useState)(!1),l=Object(u.a)(o,2),d=l[0],j=l[1];return Object(O.jsxs)("header",{className:"jt-no-print",children:[Object(O.jsx)(I,{isLoggedIn:t,role:n,onLogout:a,toggleSearchbar:function(){j(!d),c("search","",!1)},searchbarActive:d,updateFilters:c,searchbarText:i,winkelWagen:s}),d?Object(O.jsx)(A,{isLoggedIn:t,updateFilters:c,searchbarText:i}):Object(O.jsx)(O.Fragment,{})]})}C.defaultProps={shoppingCartLength:0};var D=n(112);function F(){return Object(O.jsxs)("h2",{children:[Object(O.jsx)(D.a,{animation:"grow",role:"status",children:Object(O.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(O.jsx)("span",{className:"ml-2",children:"Laden..."})]})}function T(){return Object(O.jsx)("footer",{className:"container-fluid py-4 jt-no-print",children:Object(O.jsx)("span",{children:"\xa9 vzw 't Ballonneke"})})}var G=n(119),E=n(113),B=n(83),H=n(81),P=n(44);function W(e){var t=e.onLogin,n=e.onLoginFailed,a=e.doelgroepen,c=Object(r.useState)(""),i=Object(u.a)(c,2),s=i[0],l=i[1],d=Object(r.useState)(""),b=Object(u.a)(d,2),h=b[0],p=b[1],f=Object(r.useState)(-1),x=Object(u.a)(f,2),m=x[0],g=x[1],v=Object(r.useState)(!1),k=Object(u.a)(v,2),N=k[0],y=k[1];function w(){if(-1===m)return alert("Selecteer een doelgroep");y(!0)}function C(){return(C=Object(j.a)(o.a.mark((function e(r){var a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,w();case 3:if(!N){e.next=15;break}return a=Object(P.sha256)(h),e.next=7,fetch("./php/login.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:s,encrpass:a,doelgroep:m})});case 7:return c=e.sent,e.next=10,c.json();case 10:(i=e.sent).ok?t(i.userData):n(i.errMsg?i.errMsg:"Emailadres en wachtwoord combinatie onbekend"),l(""),p(""),y(!1);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsxs)(G.a,{onSubmit:function(e){return C.apply(this,arguments)},children:[Object(O.jsxs)(G.a.Group,{as:E.a,controlId:"formBasicUser",children:[Object(O.jsx)(G.a.Label,{column:!0,lg:3,children:"Naam of email:"}),Object(O.jsx)(B.a,{lg:9,children:Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Voer naam of email in",value:s,onChange:function(e){return l(e.target.value)},required:!0})})]}),Object(O.jsxs)(G.a.Group,{as:E.a,controlId:"formBasicPassword",children:[Object(O.jsx)(G.a.Label,{column:!0,lg:3,children:"Wachtwoord:"}),Object(O.jsx)(B.a,{lg:9,children:Object(O.jsx)(G.a.Control,{type:"password",placeholder:"Wachtwoord",value:h,onChange:function(e){return p(e.target.value)},required:!0})})]}),Object(O.jsxs)(G.a.Group,{as:E.a,controlId:"formBasicDoelgroep",children:[Object(O.jsx)(G.a.Label,{column:!0,lg:3,children:"Doelgroep:"}),Object(O.jsx)(B.a,{lg:9,children:Object(O.jsxs)(G.a.Control,{as:"select",value:m,onChange:function(e){return g(e.target.value)},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Kies..."}),a.length>0?a.filter((function(e){return!e.isArchief})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.naam})})):Object(O.jsx)("option",{value:"-1",children:"Geen doelgroepen"})]})})]}),Object(O.jsx)(H.a,{variant:"primary",type:"submit",children:"Log in"})]})}function R(e){var t=e.onLogin,n=e.doelgroepen,a=e.isLoggedIn,c=Object(r.useState)(!1),i=Object(u.a)(c,2),s=i[0],o=i[1],l=Object(r.useState)(""),d=Object(u.a)(l,2),j=d[0],b=d[1];return a?Object(O.jsx)(h.a,{to:"/"}):Object(O.jsxs)("main",{className:"container jt-login-container",children:[Object(O.jsx)("h1",{children:"Login Form"}),Object(O.jsx)(p.a,{show:s,variant:"danger",onClose:function(){return o(!1)},dismissible:!0,children:Object(O.jsx)("p",{className:"mb-0",children:j})}),Object(O.jsx)(W,{onLogin:t,onLoginFailed:function(e){o(!0),b(e)},doelgroepen:n})]})}function J(e){var t=e.doelgroepen,n=e.onSignUp,a=Object(r.useState)(""),c=Object(u.a)(a,2),i=c[0],s=c[1],l=Object(r.useState)(""),d=Object(u.a)(l,2),b=d[0],h=d[1],p=Object(r.useState)(""),f=Object(u.a)(p,2),x=f[0],m=f[1],g=Object(r.useState)(""),v=Object(u.a)(g,2),k=v[0],N=v[1],y=Object(r.useState)(-1),w=Object(u.a)(y,2),C=w[0],S=w[1],I=Object(r.useState)(!1),A=Object(u.a)(I,2),L=A[0],D=A[1];var F=function(){var e=Object(j.a)(o.a.mark((function e(t){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),-1===C?alert("Selecteer een doelgroep"):x!==k||""===b||""===x?alert("Zorg dat wachtwoord juist bevestigd is"):D(!0),!L){e.next=16;break}return r=Object(P.sha256)(x),e.next=6,fetch("./php/signUp.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:i,encrpass:r,email:b,doelgroep:C})});case 6:return a=e.sent,e.next=9,a.json();case 9:e.sent.ok?n(!0):n(!1),s(""),m(""),h(""),N(""),D(!1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(G.a,{onSubmit:F,children:[Object(O.jsxs)(G.a.Group,{as:E.a,controlId:"formUser",children:[Object(O.jsx)(G.a.Label,{column:!0,lg:2,children:"Naam:"}),Object(O.jsx)(B.a,{lg:10,children:Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Voer gebruikersnaam in",value:i,onChange:function(e){return s(e.target.value)},required:!0})})]}),Object(O.jsxs)(G.a.Group,{as:E.a,controlId:"formEmail",children:[Object(O.jsx)(G.a.Label,{column:!0,lg:2,children:"Emailadres:"}),Object(O.jsx)(B.a,{lg:10,children:Object(O.jsx)(G.a.Control,{type:"email",placeholder:"Voer emailadres in",value:b,onChange:function(e){return h(e.target.value)},required:!0})})]}),Object(O.jsxs)(G.a.Group,{as:E.a,controlId:"formDoelgroep",children:[Object(O.jsx)(G.a.Label,{column:!0,lg:2,children:"Doelgroep:"}),Object(O.jsx)(B.a,{lg:10,children:Object(O.jsxs)(G.a.Control,{as:"select",value:C,onChange:function(e){return S(e.target.value)},children:[Object(O.jsx)("option",{value:"-1",children:"Kies..."}),t.length>0?t.filter((function(e){return!e.isArchief})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.naam})})):Object(O.jsx)("option",{value:"-1",children:"Geen doelgroepen"})]})})]}),Object(O.jsxs)(G.a.Group,{as:E.a,children:[Object(O.jsxs)(B.a,{lg:6,className:"mb-3",children:[Object(O.jsx)(G.a.Label,{children:"Wachtwoord:"}),Object(O.jsx)(G.a.Control,{id:"formPassword",type:"password",placeholder:"Wachtwoord",value:x,onChange:function(e){return m(e.target.value)},required:!0})]}),Object(O.jsxs)(B.a,{lg:6,className:"mb-3",children:[Object(O.jsx)(G.a.Label,{children:"Bevestig wachtwoord:"}),Object(O.jsx)(G.a.Control,{id:"formPasswordConfirm",type:"password",placeholder:"Wachtwoord",value:k,onChange:function(e){return N(e.target.value)},required:!0})]})]}),Object(O.jsx)(H.a,{variant:"primary",type:"submit",children:"Registreer"})]})}function V(e){var t=e.doelgroepen,n=e.isLoggedIn,a=Object(r.useState)(!1),c=Object(u.a)(a,2),i=c[0],s=c[1],o=Object(r.useState)(!1),l=Object(u.a)(o,2),d=l[0],j=l[1];return n?Object(O.jsx)(h.a,{to:"/"}):Object(O.jsxs)("main",{className:"container jt-login-container",children:[Object(O.jsx)("h1",{children:"Registreer"}),Object(O.jsxs)(p.a,{show:i,variant:"success",onClose:function(){return s(!1)},dismissible:!0,children:[Object(O.jsx)(p.a.Heading,{className:"mb-0",children:"Uw gegevens werden verzonden"}),Object(O.jsx)("p",{className:"mb-0",children:"U kan inloggen vanaf dat een administrator uw account heeft geactiveerd."})]}),Object(O.jsxs)(p.a,{show:d,variant:"danger",onClose:function(){return j(!1)},dismissible:!0,children:[Object(O.jsx)(p.a.Heading,{className:"mb-0",children:"Er is iets misgegaan"}),Object(O.jsx)("p",{className:"mb-0",children:"Probeer een andere combinatie"})]}),Object(O.jsx)(J,{doelgroepen:t,onSignUp:function(e){s(e),j(!e)}})]})}var q=n(124);function z(e){var t=e.categorie,n=e.updateFilters,a=e.filters,c=(e.initialShow,Object(r.useState)(!1)),i=Object(u.a)(c,2),s=i[0],o=i[1],d=Object(r.useState)(t.subCategorieen.map((function(e){return e.id})).filter((function(e){return a.leeftijden.concat.apply([],a.categorieen.map((function(e){return e.subCategorieen}))).includes(e)||a.leeftijden.includes(e)}))),j=Object(u.a)(d,2),b=j[0],h=j[1];return Object(O.jsx)(q.a,{className:"mr-2 mb-2",children:Object(O.jsxs)(q.a.Body,{children:[Object(O.jsx)(q.a.Title,{children:Object(O.jsx)(G.a.Check,{id:"all"+t.id,type:"checkbox",label:t.naam,onChange:function(e){return function(){var e=[];s?(h([]),n("Leeftijd"==t.naam?"leeftijd":"subCategorie",[],t.subCategorieen.map((function(e){return e.id})),t.id),o(!1)):(e=t.subCategorieen.map((function(e){return e.id})),n("Leeftijd"==t.naam?"leeftijd":"subCategorie",e,e,t.id),h(e),o(!0))}()},checked:s})}),Object(O.jsx)(q.a.Text,{children:t.subCategorieen.map((function(e){return Object(O.jsx)(G.a.Check,{id:e.id,type:"checkbox",label:e.naam,onChange:function(r){return a=e.id,o(!1),void(b.includes(a)?(h(b.filter((function(e){return e!=a}))),n("Leeftijd"==t.naam?"leeftijd":"subCategorie",[],[a],t.id)):(n("Leeftijd"==t.naam?"leeftijd":"subCategorie",[a],[],t.id),h([].concat(Object(l.a)(b),[a]))));var a},checked:b.includes(e.id)})}))})]})})}function M(e){var t=e.filters,n=e.updateFilters,a=e.categorieen,c=e.leeftijd,i=e.userData,s=e.removeCategorieFromFilters,o=Object(r.useState)(),d=Object(u.a)(o,2),j=(d[0],d[1],Object(r.useState)(t.categorieen.map((function(e){return e.id})))),b=Object(u.a)(j,2),h=b[0],p=b[1],f=Object(r.useState)(t.leeftijden.length>0),x=Object(u.a)(f,2),m=x[0],g=x[1];return Object(O.jsxs)("div",{className:"rounded p-3 my-3 bg-filter jt-no-print",children:[Object(O.jsx)("h2",{children:"Filters"}),Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsxs)("div",{className:"d-flex flex-row flex-wrap mb-2",children:[-1!==c.id?Object(O.jsx)(H.a,{variant:(m?"":"outline-")+"primary",onClick:function(){return e=c.id,void(m?(g(!1),s("leeftijd",e)):g(!0));var e},className:"mr-2 mb-2",children:"Leeftijd"}):Object(O.jsx)(O.Fragment,{}),a.map((function(e){return Object(O.jsx)(H.a,{variant:(h.includes(e.id)?"":"outline-")+"primary",onClick:function(){return t=e.id,void(h.includes(t)?(p(h.filter((function(e){return!(e===t)}))),s("categorie",t)):p([].concat(Object(l.a)(h),[t])));var t},className:"mr-2  mb-2",children:e.naam})}))]}),Object(O.jsxs)("div",{className:"d-flex flex-row flex-wrap mb-2",children:[m?Object(O.jsx)(z,{categorie:c,updateFilters:n,filters:t,initialShow:function(e){c.id===e?g(!0):p([].concat(Object(l.a)(h),[e]))}}):Object(O.jsx)(O.Fragment,{}),a.filter((function(e){return h.includes(e.id)})).map((function(e){return Object(O.jsx)(z,{categorie:e,updateFilters:n,filters:t})}))]})]}),"Admin"===i.role?Object(O.jsx)(E.a,{children:Object(O.jsxs)(G.a.Group,{className:"mb-0",children:[Object(O.jsx)(B.a,{xs:"auto",className:"d-flex flex-row align-items-center",children:Object(O.jsx)(G.a.Label,{className:"mb-0",children:"Archief:"})}),Object(O.jsx)(B.a,{xs:"auto",children:Object(O.jsxs)(G.a.Control,{as:"select",value:t.showArchief,onChange:function(e){return n("showArchief",parseInt(e.target.value))},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Toon alles"}),Object(O.jsx)("option",{value:"0",children:"Verberg archief"}),Object(O.jsx)("option",{value:"1",children:"Toon archief"})]})})]})}):Object(O.jsx)(O.Fragment,{})]})}var U=n(116),K=n(118),_=n(115),Z=n(84),Y=n.n(Z);function Q(e){var t=e.speelgoedItem,n=e.categorieen,r=e.leeftijd,a=e.addSpeelgoed,c=e.reservaties,i=e.periodes,s=e.winkelWagen;return Object(O.jsxs)(q.a,{bg:"light",children:[Object(O.jsx)(q.a.Header,{to:"/speelgoedFiche?id="+t.id,className:"px-3 pt-3",children:Object(O.jsx)("img",{className:"img-fluid",src:t.foto?t.foto:"/images/placeholder.jpg"})}),Object(O.jsxs)(q.a.Body,{children:[Object(O.jsx)(q.a.Title,{as:b.b,to:"/speelgoedfiche?id="+t.id,className:"jt-card-title",children:t.naam}),Object(O.jsx)(q.a.Text,{children:Object(O.jsx)(Y.a,{text:t.korteInhoud,min:40,ideal:60,max:120,readMoreText:Object(O.jsx)("a",{className:"jt-read-more jt-clickable",children:"Lees meer..."})})}),Object(O.jsx)("div",{className:"jt-card-tags",children:t.leeftijden.map((function(e){return Object(O.jsx)(_.a,{pill:!0,variant:"secondary",children:r.subCategorieen.filter((function(t){return t.id==e})).map((function(e){return e.naam}))})}))}),Object(O.jsx)("div",{className:"jt-card-tags",children:t.subCategorieen.map((function(e){return Object(O.jsx)(_.a,{pill:!0,variant:"secondary",children:n.filter((function(t){return t.subCategorieen.map((function(e){return e.id})).includes(e)}))[0].subCategorieen.filter((function(t){return t.id==e})).map((function(e){return e.naam}))})}))}),Object(O.jsx)(H.a,{variant:!t.beschikbaar||t.specialeAanvraag||t.isArchief||0===i.filter((function(e){return!(e.isArchief||c.filter((function(e){return!e.isArchief&&e.speelgoedId===t.id})).map((function(e){return e.periodeId})).includes(e.id)||s.filter((function(e){return e.speelgoedId===t.id})).map((function(e){return e.periodeId})).includes(e.id))})).length?"danger":"success",disabled:!t.beschikbaar||t.specialeAanvraag||t.isArchief||0===i.filter((function(e){return!(e.isArchief||c.filter((function(e){return!e.isArchief&&e.speelgoedId===t.id})).map((function(e){return e.periodeId})).includes(e.id)||s.filter((function(e){return e.speelgoedId===t.id})).map((function(e){return e.periodeId})).includes(e.id))})).length,className:"mt-2",onClick:function(){return a(t.id)},children:t.specialeAanvraag?"Speciale aanvraag":"Reserveren"})]})]})}function X(e){var t=e.onHide,n=e.item,r=e.show,a=e.periode;return Object(O.jsxs)(K.a,{show:r,onHide:t,children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Speelgoed toegevoegd"})}),Object(O.jsxs)(K.a.Body,{children:[Object(O.jsx)(b.b,{to:"/speelgoedfiche?id="+n.id,id:n.id+"-naam",children:Object(O.jsxs)(E.a,{children:[Object(O.jsx)(B.a,{xs:"2",children:Object(O.jsx)("img",{src:n.foto?n.foto:"/images/placeholder.jpg",alt:"",className:"img-fluid"})}),Object(O.jsx)(B.a,{xs:"10",className:"d-flex flex-row align-items-center",children:n.naam})]})}),Object(O.jsx)("p",{children:"Van "+a.startDatum+" tot "+a.eindDatum})]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(H.a,{variant:"secondary",onClick:t,children:"Verder winkelen"}),Object(O.jsx)(H.a,{as:b.b,to:"/winkelwagen",variant:"success",children:"Naar winkelwagen"})]})]})}function $(e){var t=e.isLoggedIn,n=e.filters,a=e.updateFilters,c=e.categorieen,i=e.leeftijd,s=e.userData,o=e.removeCategorieFromFilters,l=e.filteredSpeelgoed,j=e.periodes,b=e.onWinkelWagenAdd,p=e.winkelWagen,f=e.reservaties,x=Object(r.useState)(!1),m=Object(u.a)(x,2),g=m[0],v=m[1],k=Object(r.useState)({speelgoedId:-1,periodeId:-1}),N=Object(u.a)(k,2),y=N[0],w=N[1],C=Object(r.useState)(!1),S=Object(u.a)(C,2),I=S[0],A=S[1],L=Object(r.useState)({}),D=Object(u.a)(L,2),F=D[0],T=D[1],E=Object(r.useState)({}),B=Object(u.a)(E,2),P=B[0],W=B[1];function R(e){w(Object(d.a)(Object(d.a)({},y),{},{speelgoedId:e})),v(!0)}function J(){w({speelgoedId:-1,periodeId:-1}),v(!1)}return t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("main",{className:"container",children:[Object(O.jsx)("h1",{children:"Hoofdpagina"}),Object(O.jsx)(M,{filters:n,updateFilters:a,categorieen:c,leeftijd:i,userData:s,removeCategorieFromFilters:o}),Object(O.jsx)(U.a,{className:"jt-card-columns",children:l.map((function(e){return Object(O.jsx)(Q,{speelgoedItem:e,categorieen:c,leeftijd:i,addSpeelgoed:R,reservaties:f,periodes:j,winkelWagen:p})}))})]}),Object(O.jsxs)(K.a,{show:g,onHide:function(){return J()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Toevoegen aan winkelwagen"})}),Object(O.jsxs)(G.a,{onSubmit:function(e){var t,n;e.preventDefault(),y.periodeId&&-1===y.periodeId?alert("Selecteer een periode"):(p.map((function(e){return e.speelgoedId})).includes(y.speelgoedId)&&p.map((function(e){return e.periodeId})).includes(y.periodeId)?alert("Deze reservatie zit reeds in uw winkelwagen"):(b(y.speelgoedId,y.periodeId),t=y.speelgoedId,n=y.periodeId,T(l.find((function(e){return e.id===t}))),W(j.find((function(e){return e.id===n}))),A(!0)),J())},children:[Object(O.jsx)(K.a.Body,{children:Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Periode:"}),Object(O.jsxs)(G.a.Control,{as:"select",value:y.periodeId,onChange:function(e){return w(Object(d.a)(Object(d.a)({},y),{},{periodeId:parseInt(e.target.value)}))},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Kies..."}),j.filter((function(e){return!e.isArchief})).length>0?j.filter((function(e){return!(e.isArchief||f.filter((function(e){return!e.isArchief&&e.speelgoedId===y.speelgoedId})).map((function(e){return e.periodeId})).includes(e.id)||p.filter((function(e){return e.speelgoedId===y.speelgoedId})).map((function(e){return e.periodeId})).includes(e.id))})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:"Van "+e.startDatum+" tot "+e.eindDatum})})):Object(O.jsx)("option",{value:"-1",children:"Geen periodes beschikbaar"})]})]})}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(H.a,{variant:"secondary",onClick:function(){return J()},children:"Sluiten"}),Object(O.jsx)(H.a,{variant:"success",type:"submit",children:"Toevoegen"})]})]})]}),Object(O.jsx)(X,{show:I,onHide:function(){A(!1)},item:F,periode:P})]}):Object(O.jsx)(h.a,{to:"/login"})}X.defaultProps={periode:{},item:{}};var ee=n(117);function te(e){var t=e.isLoggedIn,n=e.filteredSpeelgoed,a=e.filters,c=e.updateFilters,i=e.removeCategorieFromFilters,s=e.archiveSpeelgoed,d=e.onDeleteSpeelgoed,f=e.onToggleBeschikbaar,x=e.onToggleSpecialeAanvraag,m=e.categorieen,g=e.leeftijd,v=e.userData,k=Object(h.g)(),N=Object(r.useState)(),w=Object(u.a)(N,2),C=w[0],S=w[1],I=Object(r.useState)([]),A=Object(u.a)(I,2),L=A[0],D=A[1],F=Object(r.useState)(!1),T=Object(u.a)(F,2),E=T[0],B=T[1],P=Object(r.useState)(!1),W=Object(u.a)(P,2),R=W[0],J=W[1],V=Object(r.useState)([]),q=Object(u.a)(V,2),z=q[0],U=q[1];function Z(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(j.a)(o.a.mark((function e(t,n){var r,a,c,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],-1==t?r=L:r.push(t),a=new Date,c=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),e.next=6,fetch("/php/admin/speelgoedArchive.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:r,isArchief:n,archiefDatum:c})});case 6:return i=e.sent,e.next=9,i.json();case 9:(l=e.sent).ok?s(l.ids,l.isArchief,l.archiefDatum):alert("Het arciveren is mislukt");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){J(!0);var t=[];-1==e?t=L:t.push(e),U(t)}function X(e){e&&function(){$.apply(this,arguments)}(),J(!1)}function $(){return($=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/admin/speelgoedDelete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toDelete:z})});case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent).ok?d(n.ids):alert("Het verwijderen is mislukt");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(j.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/admin/speelgoedBeschikbaar.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,status:n})});case 2:return r=e.sent,e.next=5,r.json();case 5:(a=e.sent).ok?f(a.id,a.status):alert('Het veranderen van status "beschikbaar" is mislukt');case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(j.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/admin/speelgoedSpecialeAanvraag.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,status:n})});case 2:return r=e.sent,e.next=5,r.json();case 5:(a=e.sent).ok?x(a.id,a.status):alert('Het veranderen van status "speciale aanvraag" is mislukt');case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){var e=k.search,t={};e&&((e=e.slice(1,e.length)).split("&").forEach((function(e){t[e.split("=")[0]]=e.split("=")[1]})),S(t.action))}),[]),t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("main",{className:"container-fluid",children:[Object(O.jsx)("h1",{children:"Admin Speelgoed"}),Object(O.jsx)(p.a,{show:"toegevoegd"==C,variant:"success",onClose:function(){return S("")},dismissible:!0,children:Object(O.jsx)("p",{className:"mb-0",children:"Speelgoed succesvol aangemaakt"})}),Object(O.jsx)(p.a,{show:"bewerkt"==C,variant:"success",onClose:function(){return S("")},dismissible:!0,children:Object(O.jsx)("p",{className:"mb-0",children:"Speelgoed succesvol bewerkt"})}),Object(O.jsx)(M,{filters:a,updateFilters:c,categorieen:m,leeftijd:g,userData:v,removeCategorieFromFilters:i}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"jt-table-check-container"}),Object(O.jsx)("th",{className:"jt-table-center jt-table-id-container",children:"#"}),Object(O.jsx)("th",{children:"Naam"}),Object(O.jsx)("th",{})]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(e){E?(D([]),B(!1)):(D(n.map((function(e){return e.id}))),B(!0))},checked:E})})})}),Object(O.jsx)("td",{colSpan:"2"}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(H.a,{as:b.b,to:"/admin/speelgoedfiche?action=toevoegen",variant:"success",className:"rounded-circle",children:Object(O.jsx)(y.f,{})}),Object(O.jsx)(H.a,{variant:"archive",className:"rounded-circle",onClick:function(){return Z(-1,1)},children:Object(O.jsx)(y.b,{})}),Object(O.jsx)(H.a,{variant:"danger",className:"rounded-circle",onClick:function(){return Q(-1)},children:Object(O.jsx)(y.l,{})})]})]}),n.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(t){return n=e.id,B(!1),void(L.includes(n)?D(L.filter((function(e){return e!=n}))):D([].concat(Object(l.a)(L),[n])));var n},checked:L.includes(e.id)})})})}),Object(O.jsx)("td",{className:"jt-table-id",children:e.oudCode}),Object(O.jsxs)("td",{children:[Object(O.jsxs)(b.b,{to:"/speelgoedfiche?id="+e.id,id:e.id+"-naam",children:[Object(O.jsx)("img",{src:e.foto?e.foto:"/images/placeholder.jpg",className:"jt-table-img"}),Object(O.jsx)("span",{className:"jt-table-naam",children:e.naam})]}),e.isArchief?Object(O.jsxs)(_.a,{pill:!0,variant:"archive",className:"mr-2",children:[Object(O.jsx)("span",{className:"mr-2",children:e.archiefDatum}),Object(O.jsx)(y.j,{as:H.a,onClick:function(){return Z(e.id,0)},className:"jt-clickable"})]}):Object(O.jsx)(O.Fragment,{}),e.beschikbaar?Object(O.jsx)(O.Fragment,{}):Object(O.jsxs)(_.a,{pill:!0,variant:"danger",className:"mr-2",children:[Object(O.jsx)("span",{className:"mr-2",children:"Niet beschikbaar"}),Object(O.jsx)(y.j,{as:H.a,onClick:function(){return function(e,t){return te.apply(this,arguments)}(e.id,1)},className:"jt-clickable"})]}),e.specialeAanvraag?Object(O.jsxs)(_.a,{pill:!0,variant:"primary",className:"mr-2",children:[Object(O.jsx)("span",{className:"mr-2",children:"Speciale Aanvraag"}),Object(O.jsx)(y.j,{as:H.a,onClick:function(){return function(e,t){return ne.apply(this,arguments)}(e.id,0)},className:"jt-clickable"})]}):Object(O.jsx)(O.Fragment,{})]}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(H.a,{as:b.b,to:"/admin/speelgoedfiche?action=bewerken&id="+e.id,variant:"info",className:"rounded-circle",children:Object(O.jsx)(y.e,{})}),Object(O.jsx)(H.a,{variant:"archive",className:"rounded-circle",onClick:function(){return Z(e.id,1)},children:Object(O.jsx)(y.b,{})}),Object(O.jsx)(H.a,{variant:"danger",className:"rounded-circle",onClick:function(){return Q(e.id)},children:Object(O.jsx)(y.l,{})})]})]})}))]})]})]}),Object(O.jsxs)(K.a,{show:R,onHide:function(){return X(!1)},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Speelgoed verwijderen"})}),Object(O.jsxs)(K.a.Body,{children:["Weet u zeker dat u ",z.length," stuk",1==z.length?"ken":""," speelgoed wilt verwijderen?"]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(H.a,{variant:"secondary",onClick:function(){return X(!1)},children:"Sluiten"}),Object(O.jsx)(H.a,{variant:"danger",onClick:function(){return X(!0)},children:"Verwijder"})]})]})]}):Object(O.jsx)(h.a,{to:"/login"})}function ne(e){var t=e.isLoggedIn,n=(e.doelgroepen,e.userData),a=e.leeftijd,c=e.categorieen,i=e.speelgoed,s=e.onAddSpeelgoed,b=e.onUpdateSpeelgoed,p=e.onDeleteSpeelgoed,f=Object(h.g)(),x=Object(r.useState)(""),m=Object(u.a)(x,2),g=m[0],v=m[1],k=Object(r.useState)(-1),N=Object(u.a)(k,2),y=N[0],w=N[1],C=Object(r.useState)({url:"/images/placeholder.jpg",bestand:void 0}),S=Object(u.a)(C,2),I=S[0],A=S[1],L=Object(r.useState)(""),D=Object(u.a)(L,2),F=D[0],T=D[1],P=Object(r.useState)(""),W=Object(u.a)(P,2),R=W[0],J=W[1],V=Object(r.useState)(n.sessDoelgroep),q=Object(u.a)(V,2),z=q[0],M=(q[1],Object(r.useState)([])),U=Object(u.a)(M,2),K=U[0],_=U[1],Z=Object(r.useState)([]),Y=Object(u.a)(Z,2),Q=Y[0],X=Y[1],$=Object(r.useState)(""),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],re=Object(r.useState)(""),ae=Object(u.a)(re,2),ce=ae[0],ie=ae[1],se=Object(r.useState)([{id:1,text:"",aantal:0,kapot:0,tekort:0}]),oe=Object(u.a)(se,2),le=oe[0],de=oe[1],je=Object(r.useState)([{id:1,text:""}]),ue=Object(u.a)(je,2),be=ue[0],he=ue[1],pe=Object(r.useState)(""),Oe=Object(u.a)(pe,2),fe=Oe[0],xe=Oe[1],me=Object(r.useState)([{id:1,naam:"",bestand:void 0}]),ge=Object(u.a)(me,2),ve=ge[0],ke=ge[1],Ne=Object(r.useState)(!0),ye=Object(u.a)(Ne,2),we=ye[0],Ce=ye[1],Se=Object(r.useState)(!1),Ie=Object(u.a)(Se,2),Ae=Ie[0],Le=Ie[1],De=Object(h.f)();function Fe(){return(Fe=Object(j.a)(o.a.mark((function e(t){var r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(r=new FormData).append("foto",I.bestand),r.append("titel",F),r.append("oudCode",R),r.append("doelgroep",""+z),Q.forEach((function(e){r.append("subCategorieen[]",e)})),K.forEach((function(e){r.append("leeftijd[]",e)})),r.append("merk",te),r.append("aankoopDatum",ce),le.forEach((function(e){e.text&&!e.removed&&r.append("inhoud[]",JSON.stringify(e))})),be.forEach((function(e){e.text&&!e.removed&&r.append("tips[]",JSON.stringify(e))})),r.append("korteInhoud",fe),ve.forEach((function(e){e.naam&&e.bestand&&!e.removed&&(r.append("bijlagesBestand[]",e.bestand),r.append("bijlagesNaam[]",e.naam))})),r.append("beschikbaar",we?"1":"0"),r.append("specialeAanvraag",Ae?"1":"0"),e.next=18,fetch("../php/admin/speelgoedInsert.php",{method:"POST",body:r});case 18:return a=e.sent,e.next=21,a.json();case 21:(c=e.sent).ok?(c.doelgroep==n.sessDoelgroep&&s(c.speelgoed),De.push("/admin/speelgoed?action=toegevoegd")):alert("Speelgoed aanmaken mislukt");case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(){return(Te=Object(j.a)(o.a.mark((function e(t){var r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(r=new FormData).append("id",""+y),r.append("foto",I.bestand),r.append("titel",F),r.append("oudCode",R),r.append("doelgroep",""+z),Q.forEach((function(e){r.append("subCategorieen[]",e)})),K.forEach((function(e){r.append("leeftijd[]",e)})),r.append("merk",te),r.append("aankoopDatum",ce),le.forEach((function(e){(e.text||e.removed&&e.original)&&r.append("inhoud[]",JSON.stringify(e))})),be.forEach((function(e){(e.text||e.removed&&e.original)&&r.append("tips[]",JSON.stringify(e))})),r.append("korteInhoud",fe),ve.forEach((function(e){(e.naam&&e.bestand||e.original)&&(r.append("bijlagesBestand[]",e.bestand),r.append("bijlagesNaam[]",JSON.stringify({id:e.id,naam:e.naam,original:e.original,removed:e.removed})))})),r.append("beschikbaar",we?"1":"0"),r.append("specialeAanvraag",Ae?"1":"0"),e.next=19,fetch("../php/admin/speelgoedUpdate.php",{method:"POST",body:r});case 19:return a=e.sent,e.next=22,a.json();case 22:(c=e.sent).ok?(c.doelgroep==n.sessDoelgroep?b(c.speelgoed):p(c.speelgoed.id),De.push("/admin/speelgoed?action=bewerkt")):alert("Speelgoed bewerken mislukt");case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e,t,n){var r=[];le.forEach((function(a){if(a.id==n.id&&"lostFocus"!=e){var c={};switch(e){case"text":c=Object(d.a)(Object(d.a)({},n),{},{text:t});break;case"aantal":c=Object(d.a)(Object(d.a)({},n),{},{aantal:t});break;case"kapot":c=Object(d.a)(Object(d.a)({},n),{},{kapot:t});break;case"tekort":c=Object(d.a)(Object(d.a)({},n),{},{tekort:t});break;default:c=n}r.push(c)}else""!==a.text?r.push(a):r.push(Object(d.a)(Object(d.a)({},a),{},{removed:1}))})),""!==r[r.length-1].text&&r.push({id:r[r.length-1].id-1,text:"",aantal:0,kapot:0,tekort:0}),r[r.length-1].removed=0,de(r)}function Ee(e,t,n){var r=[];be.forEach((function(a){if(a.id==n.id&&"lostFocus"!=e){var c;c=Object(d.a)(Object(d.a)({},n),{},{text:t}),r.push(c)}else""!==a.text?r.push(a):r.push(Object(d.a)(Object(d.a)({},a),{},{removed:1}))})),""!==r[r.length-1].text&&r.push({id:r[r.length-1].id-1,text:""}),r[r.length-1].removed=0,he(r)}function Be(e,t,n){var r=[];ve.forEach((function(a){if(a.id==n.id&&"lostFocus"!=e){var c={};switch(e){case"bestand":c=Object(d.a)(Object(d.a)({},n),{},{bestand:t.target.files[0]});break;case"naam":c=Object(d.a)(Object(d.a)({},n),{},{naam:t.target.value});break;default:c=n}r.push(c)}else""!==a.naam?r.push(a):r.push(Object(d.a)(Object(d.a)({},a),{},{removed:1}))})),""!==r[r.length-1].naam&&r.push({id:r[r.length-1].id-1,naam:"",bestand:""}),r[r.length-1].removed=0,ke(r)}function He(e,t){switch(e){case"subCategorie":if(Q.includes(t)){X(Q.filter((function(e){return e!=t})));break}X([].concat(Object(l.a)(Q),[t]));break;case"leeftijd":if(K.includes(t)){_(K.filter((function(e){return e!=t})));break}_([].concat(Object(l.a)(K),[t]))}}return Object(r.useEffect)((function(){var e=f.search,t={};if(e&&((e=e.slice(1,e.length)).split("&").forEach((function(e){t[e.split("=")[0]]=e.split("=")[1]})),v(t.action),"bewerken"==t.action&&t.id)){var n=i.filter((function(e){return e.id==t.id}))[0];w(n.id),A({url:n.foto?n.foto:"/images/placeholder.jpg",bestand:void 0}),T(n.naam),J(n.oudCode),_(n.leeftijden),X(n.subCategorieen),ne(n.merk),ie(n.aankoopDatum),de([].concat(Object(l.a)(n.inhoud.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{original:1,removed:0})}))),[{id:0,text:"",aantal:0,kapot:0,tekort:0}])),he([].concat(Object(l.a)(n.tips.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{original:1,removed:0})}))),[{id:0,text:""}])),xe(n.korteInhoud),ke([].concat(Object(l.a)(n.bijlages.map((function(e){return{id:e.id,naam:e.type,path:e.path,bestand:void 0,original:1,removed:0}}))),[{id:0,naam:"",bestand:void 0}])),Ce(n.beschikbaar),Le(n.specialeAanvraag)}}),[]),t?Object(O.jsxs)("main",{className:"container",children:["toevoegen"==g?Object(O.jsx)("h1",{children:"Admin speelgoed aanmaken"}):Object(O.jsx)("h1",{children:"Admin speelgoed bewerken"}),Object(O.jsxs)(G.a,{className:"row",onSubmit:"toevoegen"==g?function(e){return Fe.apply(this,arguments)}:function(e){return Te.apply(this,arguments)},children:[Object(O.jsx)("div",{className:"col-12 col-md-4",children:Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)("img",{id:"foto",src:I.url,alt:"",className:"m-auto"}),Object(O.jsx)("input",{id:"foto-",type:"file",className:"form-control-file mt-2",onChange:function(e){return function(e){A({bestand:e.target.files[0],url:URL.createObjectURL(e.target.files[0])})}(e)}})]})}),Object(O.jsxs)("div",{className:"col",children:[Object(O.jsxs)(G.a.Group,{controlId:"title",children:[Object(O.jsx)(G.a.Label,{children:"Titel:"}),Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Titel",value:F,onChange:function(e){return T(e.target.value)},required:!0})]}),Object(O.jsxs)(G.a.Group,{as:E.a,className:"mb-0",children:[Object(O.jsxs)(B.a,{lg:6,children:[Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Oude code:"}),Object(O.jsx)(G.a.Control,{id:"oudeCode",type:"text",placeholder:"Oude code",value:R,onChange:function(e){return J(e.target.value)}})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Leeftijd:"}),Object(O.jsx)(G.a.Control,{id:"leeftijd",as:"select",htmlSize:3,custom:!0,value:K,multiple:!0,children:a.subCategorieen.length>0?a.subCategorieen.map((function(e){return Object(O.jsx)("option",{value:e.id,selected:K.includes(e.id),onClick:function(){return He("leeftijd",e.id)},children:e.naam})})):Object(O.jsx)("option",{value:"-1",children:"Geen leeftijden"})})]})]}),Object(O.jsx)(B.a,{lg:6,children:Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Categorie\xebn:"}),Object(O.jsx)(G.a.Control,{id:"categorieen",as:"select",htmlSize:7,custom:!0,value:Q,multiple:!0,children:c.length>0?c.map((function(e){return e.subCategorieen.length>0?Object(O.jsx)("optgroup",{label:e.naam,children:e.subCategorieen.map((function(e){return Object(O.jsx)("option",{value:e.id,selected:Q.includes(e.id),onClick:function(){return He("subCategorie",e.id)},children:e.naam})}))}):Object(O.jsx)(O.Fragment,{})})):Object(O.jsx)("option",{value:"-1",children:"Geen doelgroepen"})})]})})]}),Object(O.jsxs)(G.a.Group,{as:E.a,className:"mb-0",children:[Object(O.jsx)(B.a,{lg:6,children:Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Merk:"}),Object(O.jsx)(G.a.Control,{id:"merk",type:"text",placeholder:"Merk",value:te,onChange:function(e){return ne(e.target.value)}})]})}),Object(O.jsx)(B.a,{lg:6,children:Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Aankoopdatum:"}),Object(O.jsx)(G.a.Control,{id:"aankoopDatum",type:"date",value:ce,onChange:function(e){return ie(e.target.value)}})]})})]}),Object(O.jsxs)(G.a.Group,{as:E.a,className:"mb-0",children:[Object(O.jsx)(B.a,{xs:6,children:Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Inhoud:"}),le.filter((function(e){return!e.removed})).map((function(e){return Object(O.jsx)(G.a.Control,{id:"inhoudItem-"+e.id,type:"text",placeholder:"Inhoud",value:e.text,onChange:function(t){return Ge("text",t.target.value,e)},onBlur:function(t){return Ge("lostFocus",t.target.value,e)},className:"mb-1"})}))]})}),Object(O.jsx)(B.a,{xs:2,children:Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Aantal:"}),le.filter((function(e){return!e.removed})).map((function(e){return Object(O.jsx)(G.a.Control,{id:"inhoudAantal-"+e.id,type:"number",value:e.aantal,onChange:function(t){return Ge("aantal",t.target.value,e)},className:"mb-1"})}))]})}),Object(O.jsx)(B.a,{xs:2,children:Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Kapot:"}),le.filter((function(e){return!e.removed})).map((function(e){return Object(O.jsx)(G.a.Control,{id:"inhoudKapot-"+e.id,type:"number",value:e.kapot,onChange:function(t){return Ge("kapot",t.target.value,e)},className:"mb-1"})}))]})}),Object(O.jsx)(B.a,{xs:2,children:Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Tekort:"}),le.filter((function(e){return!e.removed})).map((function(e){return Object(O.jsx)(G.a.Control,{id:"inhoudTekort-"+e.id,type:"number",value:e.tekort,onChange:function(t){return Ge("tekort",t.target.value,e)},className:"mb-1"})}))]})})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Tips:"}),be.filter((function(e){return!e.removed})).map((function(e){return Object(O.jsx)(G.a.Control,{id:"tipItem-"+e.id,as:"textarea",placeholder:"Geef een tip...",value:e.text,onChange:function(t){return Ee("text",t.target.value,e)},onBlur:function(t){return Ee("lostFocus",t.target.value,e)},rows:1,className:"mb-1"})}))]}),Object(O.jsxs)(G.a.Group,{controlId:"korteInhoud",children:[Object(O.jsx)(G.a.Label,{children:"Korte beschrijving:"}),Object(O.jsx)(G.a.Control,{as:"textarea",placeholder:"Korte beschrijving",value:fe,onChange:function(e){return xe(e.target.value)}})]}),Object(O.jsxs)(G.a.Group,{as:E.a,children:[Object(O.jsx)(B.a,{xs:12,children:Object(O.jsx)(G.a.Label,{children:"Bijlages:"})}),ve.filter((function(e){return!e.removed})).map((function(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(B.a,{xs:6,children:Object(O.jsx)(G.a.Control,{id:"bijlage-"+e.id,type:"text",placeholder:"Naam bijlage",value:e.naam,onChange:function(t){return Be("naam",t,e)},onBlur:function(t){return Be("lostFocus",t.target.value,e)},className:"mb-1",required:e.bestand})}),Object(O.jsx)(B.a,{xs:6,className:"d-flex align-items-center",children:e.path?Object(O.jsx)("a",{href:e.path,target:"_blank",children:e.naam}):Object(O.jsx)("input",{id:"file-"+e.id,type:"file",onChange:function(t){return Be("bestand",t,e)},className:"form-control-file mb-1"})})]})}))]}),Object(O.jsx)(G.a.Group,{children:Object(O.jsx)(G.a.Check,{id:"beschikbaar",type:"checkbox",label:"Beschikbaar",onChange:function(e){return Ce(!we)},checked:we})}),Object(O.jsx)(G.a.Group,{children:Object(O.jsx)(G.a.Check,{id:"specialeAanvraag",type:"checkbox",label:"Speciale Aanvraag",onChange:function(e){return Le(!Ae)},checked:Ae})}),"toevoegen"==g?Object(O.jsx)(H.a,{variant:"primary",type:"submit",children:"Speelgoed aanmaken"}):Object(O.jsx)(H.a,{variant:"primary",type:"submit",children:"Speelgoed bewerken"})]})]})]}):Object(O.jsx)(h.a,{to:"/login"})}function re(e){var t=e.categorie,n=e.onAddSubCategorie,a=e.onRemoveSubCategorie,c=e.onEditCategorie,i=e.onEditSubCategorie,s=Object(r.useState)(),d=Object(u.a)(s,2),b=d[0],h=d[1],p=Object(r.useState)(!1),f=Object(u.a)(p,2),x=f[0],m=f[1],g=Object(r.useState)(!1),v=Object(u.a)(g,2),k=v[0],N=v[1],w=Object(r.useState)(),C=Object(u.a)(w,2),S=C[0],I=C[1],A=Object(r.useState)([]),L=Object(u.a)(A,2),D=L[0],F=L[1],T=Object(r.useState)(!1),E=Object(u.a)(T,2),P=E[0],W=E[1],R=Object(r.useState)(t.naam),J=Object(u.a)(R,2),V=J[0],q=J[1],z=Object(r.useState)(),M=Object(u.a)(z,2),U=M[0],K=M[1];function _(){return(_=Object(j.a)(o.a.mark((function e(r){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,fetch("/php/admin/addSubCategorie.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({categorieId:t.id,subCategorieNaam:S})});case 3:return a=e.sent,e.next=6,a.json();case 6:(c=e.sent).ok?(n(c.subCategorie,t),I("")):alert("Het aanmaken van een nieuwe subcategorie is mislukt");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(j.a)(o.a.mark((function e(n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch("/php/admin/editCategorie.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({categorieId:t.id,editedCategorieNaam:V})});case 3:return r=e.sent,e.next=6,r.json();case 6:(a=e.sent).ok?(c(a.newCategorieNaam,t),m(!1)):alert("Het bewerken van de categorie is mislukt");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(j.a)(o.a.mark((function e(n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch("/php/admin/editSubCategorie.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subCategorieId:b,editedSubCategorieNaam:U})});case 3:return r=e.sent,e.next=6,r.json();case 6:(a=e.sent).ok?(i(a.newSubCategorieNaam,t,b),h(0)):alert("Het bewerken van de subcategorie is mislukt");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return $.apply(this,arguments)}function $(){return($=Object(j.a)(o.a.mark((function e(n){var r,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],c=!1,-1===n?"Leeftijd"===t.naam?r=D:0===D.length?(c=!0,r=t.subCategorieen.map((function(e){return e.id}))):(c=P,r=D):r.push(n),e.next=5,fetch("/php/admin/removeSubCategories.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subCategorieIds:r,removeCategorie:c,categorieId:t.id})});case 5:return i=e.sent,e.next=8,i.json();case 8:(s=e.sent).ok?a(s.removedSubCategorieIds,t,s.categorieRemoved):alert("Het verwijderen van de subcategorie is mislukt");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"jt-table-vertical-center",children:x?Object(O.jsx)("div",{children:Object(O.jsx)(G.a,{onSubmit:function(e){return Z.apply(this,arguments)},children:Object(O.jsxs)(G.a.Group,{className:"d-flex flex-row my-2",children:[Object(O.jsx)(B.a,{xs:10,children:Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Categorie naam",value:V,onChange:function(e){return q(e.target.value)},required:!0})}),Object(O.jsx)(B.a,{xs:2,children:Object(O.jsx)(H.a,{variant:"primary",type:"submit",className:"form-control",children:"Bewerk"})})]})})}):Object(O.jsxs)("div",{className:"d-flex flex-row",children:[Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(e){P?(F([]),W(!1)):(F(t.subCategorieen.map((function(e){return e.id}))),W(!0))},checked:P})}),Object(O.jsx)("div",{className:"d-flex align-items-center",children:t.naam}),Object(O.jsx)(H.a,{variant:"outline-info",size:"sm",onClick:function(){N(!k)},className:"ml-3",children:k?"Verberg":"Toon"})]})}),Object(O.jsx)("th",{className:"jt-table-actions",children:"Leeftijd"!=t.naam?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(H.a,{variant:"info",className:"rounded-circle",onClick:function(){m(!x),h(0)},children:x?Object(O.jsx)(y.j,{}):Object(O.jsx)(y.e,{})}),Object(O.jsx)(H.a,{variant:"danger",className:"rounded-circle",onClick:function(){return X(-1)},children:Object(O.jsx)(y.l,{})})]}):Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(H.a,{variant:"danger",className:"rounded-circle",onClick:function(){return X(-1)},children:Object(O.jsx)(y.l,{})})})})]})}),Object(O.jsxs)("tbody",{className:k?"":"d-none",children:[Object(O.jsx)("tr",{children:Object(O.jsx)("td",{colSpan:2,className:"jt-table-vertical-center",children:Object(O.jsx)("div",{children:Object(O.jsx)(G.a,{onSubmit:function(e){return _.apply(this,arguments)},children:Object(O.jsxs)(G.a.Group,{className:"d-flex flex-row my-2",children:[Object(O.jsx)(G.a.Label,{column:!0,lg:3,children:"Nieuwe subcategorie: "}),Object(O.jsx)(B.a,{xs:10,lg:7,children:Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Subcategorie naam",value:S,onChange:function(e){return I(e.target.value)},required:!0})}),Object(O.jsx)(B.a,{xs:2,children:Object(O.jsx)(H.a,{variant:"primary",type:"submit",className:"form-control",children:"Maak aan"})})]})})})})}),t.subCategorieen.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-vertical-center",children:e.id==b?Object(O.jsx)("div",{children:Object(O.jsx)(G.a,{onSubmit:Y,children:Object(O.jsxs)(G.a.Group,{className:"d-flex flex-row my-2",children:[Object(O.jsx)(B.a,{xs:10,children:Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Subcategorie naam",value:U,onChange:function(e){return K(e.target.value)},required:!0})}),Object(O.jsx)(B.a,{xs:2,children:Object(O.jsx)(H.a,{variant:"primary",type:"submit",className:"form-control",children:"Bewerk"})})]})})}):Object(O.jsxs)("div",{className:"d-flex flex-row",children:[Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(t){return n=e.id,W(!1),void(D.includes(n)?F(D.filter((function(e){return e!=n}))):F([].concat(Object(l.a)(D),[n])));var n},checked:D.includes(e.id)})}),Object(O.jsx)("div",{children:e.naam})]})}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(H.a,{variant:"info",className:"rounded-circle",onClick:function(){return function(e){if(b==e)return h(0);h(e),K(t.subCategorieen.filter((function(t){return t.id==e}))[0].naam),m(!1)}(e.id)},children:e.id==b?Object(O.jsx)(y.j,{}):Object(O.jsx)(y.e,{})}),Object(O.jsx)(H.a,{variant:"danger",className:"rounded-circle",onClick:function(){return X(e.id)},children:Object(O.jsx)(y.l,{})})]})]})}))]})]})}function ae(e){var t=e.isLoggedIn,n=e.categorieen,a=e.leeftijd,c=e.onAddCategorie,i=e.onAddSubCategorie,s=e.onRemoveSubCategorie,l=e.onEditCategorie,d=e.onEditSubCategorie,b=Object(r.useState)(),f=Object(u.a)(b,2),x=f[0],m=f[1];function g(){return(g=Object(j.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/php/admin/addCategorie.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({categorieNaam:x})});case 3:return n=e.sent,e.next=6,n.json();case 6:(r=e.sent).ok?c(r.categorie):alert("Het aanmaken van een nieuwe categorie is mislukt"),m("");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t?Object(O.jsxs)("main",{className:"container",children:[Object(O.jsx)("h1",{children:"Admin Categorie\xebn"}),Object(O.jsx)(G.a,{onSubmit:function(e){return g.apply(this,arguments)},children:Object(O.jsxs)(G.a.Group,{as:E.a,controlId:"formBasicUser",children:[Object(O.jsx)(G.a.Label,{column:!0,lg:3,children:"Nieuwe categorie: "}),Object(O.jsx)(B.a,{xs:10,lg:7,children:Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Categorie naam",value:x,onChange:function(e){return m(e.target.value)},required:!0})}),Object(O.jsx)(B.a,{xs:2,children:Object(O.jsx)(H.a,{variant:"primary",type:"submit",className:"form-control",children:"Maak aan"})})]})}),-1!=a.id?Object(O.jsx)(re,{categorie:a,onAddSubCategorie:i,onRemoveSubCategorie:s,onEditCategorie:l,onEditSubCategorie:d}):Object(O.jsxs)(p.a,{variant:"danger",children:[Object(O.jsx)(p.a.Heading,{children:"Categorie leeftijd ontbreekt!!!"}),Object(O.jsx)("p",{className:"mb-0",children:"Gelieve een categorie aan te maken met de naam 'Leeftijd'."})]}),n.map((function(e){return Object(O.jsx)(re,{categorie:e,onAddSubCategorie:i,onRemoveSubCategorie:s,onEditCategorie:l,onEditSubCategorie:d})}))]}):Object(O.jsx)(h.a,{to:"/login"})}var ce=n(79),ie=n(125),se=n(67),oe=n.n(se);function le(e){var t=e.waardering;return Object(O.jsx)(oe.a,{count:5,size:24,value:t,edit:!1,activeColor:"#ffd700"})}function de(e){var t=e.review,n=e.gebruiker;return Object(O.jsxs)(q.a,{className:"mb-2",children:[Object(O.jsxs)(q.a.Header,{children:[Object(O.jsxs)("div",{className:"d-flex flex-row align-items-center mb-2",children:[Object(O.jsx)(q.a.Title,{className:"mb-0 mr-2",children:n.naam}),Object(O.jsx)(le,{waardering:t.waardering})]}),Object(O.jsx)(q.a.Subtitle,{children:t.datum})]}),Object(O.jsx)(q.a.Body,{children:t.inhoud})]})}function je(e){var t=e.isLoggedIn,n=e.speelgoed,a=e.leeftijd,c=e.categorieen,i=e.userData,s=e.reviews,l=e.gebruikers,p=e.periodes,f=e.onAddReview,m=e.reservaties,g=e.onWinkelWagenAdd,v=e.winkelWagen,k=Object(h.g)(),N=Object(r.useState)(!0),w=Object(u.a)(N,2),C=w[0],S=w[1],I=Object(r.useState)({}),A=Object(u.a)(I,2),L=A[0],D=A[1],T=Object(r.useState)(-1),P=Object(u.a)(T,2),W=P[0],R=P[1],J=Object(r.useState)({}),V=Object(u.a)(J,2),z=V[0],M=V[1],U=Object(r.useState)(!1),K=Object(u.a)(U,2),_=K[0],Z=K[1],Y=Object(r.useState)({}),Q=Object(u.a)(Y,2),$=Q[0],ee=Q[1],te=Object(r.useState)({}),ne=Object(u.a)(te,2),re=ne[0],ae=ne[1];function se(e){M(Object(d.a)(Object(d.a)({},z),{},{waardering:e}))}function le(){return(le=Object(j.a)(o.a.mark((function e(t){var n,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=new Date,r=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate(),e.next=5,fetch("/php/reviewAdd.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(d.a)(Object(d.a)({},z),{},{gebruikerId:i.id,speelgoedId:L.id,datum:r}))});case 5:return a=e.sent,e.next=8,a.json();case 8:(c=e.sent).ok?(f(c.review),M({waardering:0,inhoud:""}),se(0)):alert("Het aanmaken van een review is mislukt");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){var e=k.search,t={};e&&((e=e.slice(1,e.length)).split("&").forEach((function(e){t[e.split("=")[0]]=e.split("=")[1]})),D(n.find((function(e){return e.id==t.id}))),S(!1))}),[]),t?C?Object(O.jsx)(F,{}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("main",{className:"container position-relative",children:["Admin"==i.role?Object(O.jsx)(x.a,{className:"jt-edit-btn jt-no-printt",children:Object(O.jsx)(ce.a,{as:b.b,to:"/admin/speelgoedfiche?action=bewerken&id="+L.id,children:Object(O.jsx)(y.e,{})})}):Object(O.jsx)(O.Fragment,{}),Object(O.jsxs)("h1",{children:[Object(O.jsx)("span",{className:"mr-2",children:L.naam}),Object(O.jsx)("span",{className:"jt-subtitle",children:(L.oudCode?L.oudCode+", ":"")+(L.merk?L.merk+", ":"")+L.aankoopDatum})]}),Object(O.jsxs)(E.a,{children:[Object(O.jsx)(B.a,{xs:12,md:4,children:Object(O.jsx)("img",{id:"foto",src:L.foto?L.foto:"/images/placeholder.jpg",alt:"",className:"m-auto"})}),Object(O.jsxs)(B.a,{className:"col",children:[Object(O.jsxs)(E.a,{children:[Object(O.jsxs)(B.a,{xl:6,children:[Object(O.jsx)("h3",{children:"Leeftijd"}),L.leeftijden.length>0?Object(O.jsx)(ie.a,{className:"mb-3",children:L.leeftijden.map((function(e){return Object(O.jsx)(ie.a.Item,{children:a.subCategorieen.find((function(t){return t.id==e})).naam})}))}):Object(O.jsx)("p",{children:"Geen leeftijden beschikbaar"})]}),Object(O.jsxs)(B.a,{xl:6,children:[Object(O.jsx)("h3",{children:"Categorieen"}),L.subCategorieen.length>0?Object(O.jsx)(ie.a,{className:"mb-3",children:L.subCategorieen.map((function(e){return Object(O.jsx)(ie.a.Item,{children:c.find((function(t){return t.subCategorieen.map((function(e){return e.id})).includes(e)})).subCategorieen.find((function(t){return t.id==e})).naam})}))}):Object(O.jsx)("p",{children:"Geen categorieen beschikbaar"})]})]}),Object(O.jsxs)(E.a,{children:[Object(O.jsxs)(B.a,{xl:6,children:[Object(O.jsx)("h3",{children:"Inhoud"}),L.inhoud.length>0?Object(O.jsx)(ie.a,{className:"mb-3",children:L.inhoud.map((function(e){return Object(O.jsx)(ie.a.Item,{children:e.aantal+" "+e.text+" ("+e.tekort+" tekort, "+e.kapot+" kapot)"})}))}):Object(O.jsx)("p",{children:"Geen inhoud beschikbaar"})]}),Object(O.jsxs)(B.a,{xl:6,children:[Object(O.jsx)("h3",{children:"Tips"}),L.tips.length>0?Object(O.jsx)(ie.a,{className:"mb-3",children:L.tips.map((function(e){return Object(O.jsx)(ie.a.Item,{children:e.text})}))}):Object(O.jsx)("p",{children:"Geen tips beschikbaar"})]})]}),Object(O.jsx)(E.a,{children:Object(O.jsxs)(B.a,{xs:12,children:[Object(O.jsx)("h3",{children:"Korte inhoud"}),Object(O.jsx)("p",{children:L.korteInhoud})]})}),Object(O.jsx)(E.a,{children:Object(O.jsxs)(B.a,{xs:12,children:[Object(O.jsx)("h3",{children:"Bijlages"}),L.bijlages.length>0?Object(O.jsx)("ul",{className:"list-unstyled",children:L.bijlages.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:e.path,target:"_blank",children:e.type})})}))}):Object(O.jsx)("p",{children:"Geen bijlages beschikbaar"})]})}),Object(O.jsx)(G.a,{onSubmit:function(e){var t,r;e.preventDefault(),-1!==W?v.map((function(e){return e.speelgoedId})).includes(L.id)&&v.map((function(e){return e.periodeId})).includes(W)?alert("Deze reservatie zit reeds in uw winkelwagen"):(g(L.id,W),t=L.id,r=W,ee(n.find((function(e){return e.id===t}))),ae(p.find((function(e){return e.id===r}))),Z(!0)):alert("Selecteer een periode")},className:"jt-no-print",children:Object(O.jsxs)(G.a.Row,{className:"align-items-center",children:[L.beschikbaar&&!L.specialeAanvraag?Object(O.jsxs)(B.a,{xs:"auto",className:"my-1",children:[Object(O.jsx)(G.a.Label,{htmlFor:"periode",srOnly:!0,children:"Periode"}),Object(O.jsxs)(G.a.Control,{id:"periode",as:"select",value:W,onChange:function(e){return R(parseInt(e.target.value))},children:[Object(O.jsx)("option",{value:"-1",children:"Kies..."}),p.filter((function(e){return!(e.isArchief||m.filter((function(e){return!e.isArchief&&e.speelgoedId===L.id})).map((function(e){return e.periodeId})).includes(e.id)||v.filter((function(e){return e.speelgoedId===L.id})).map((function(e){return e.periodeId})).includes(e.id))})).length>0?p.filter((function(e){return!(e.isArchief||m.filter((function(e){return!e.isArchief&&e.speelgoedId===L.id})).map((function(e){return e.periodeId})).includes(e.id)||v.filter((function(e){return e.speelgoedId===L.id})).map((function(e){return e.periodeId})).includes(e.id))})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:"Van "+e.startDatum+" tot "+e.eindDatum})})):Object(O.jsx)("option",{value:"-1",children:"Geen periodes beschikbaar"})]})]}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(B.a,{xs:"auto",className:"my-1",children:Object(O.jsx)(H.a,{type:"submit",variant:!L.beschikbaar||L.specialeAanvraag||L.isArchief||0===p.filter((function(e){return!(e.isArchief||m.filter((function(e){return!e.isArchief&&e.speelgoedId===L.id})).map((function(e){return e.periodeId})).includes(e.id)||v.filter((function(e){return e.speelgoedId===L.id})).map((function(e){return e.periodeId})).includes(e.id))})).length?"danger":"success",disabled:!L.beschikbaar||L.specialeAanvraag||L.isArchief||0===p.filter((function(e){return!(e.isArchief||m.filter((function(e){return!e.isArchief&&e.speelgoedId===L.id})).map((function(e){return e.periodeId})).includes(e.id)||v.filter((function(e){return e.speelgoedId===L.id})).map((function(e){return e.periodeId})).includes(e.id))})).length,children:L.specialeAanvraag?"Speciale aanvraag":"Reserveren"})})]})})]})]}),Object(O.jsxs)("section",{id:"reviews",className:"jt-no-print",children:[Object(O.jsx)("h2",{children:"Reviews"}),Object(O.jsx)(q.a,{className:"mb-4",children:Object(O.jsxs)(G.a,{onSubmit:function(e){return le.apply(this,arguments)},children:[Object(O.jsxs)(q.a.Header,{children:[Object(O.jsx)(q.a.Title,{className:"mr-4",children:"Voeg een review toe"}),Object(O.jsx)(oe.a,{count:5,size:24,value:z.waardering,onChange:se,activeColor:"#ffd700"})]}),Object(O.jsx)(q.a.Body,{children:Object(O.jsx)(G.a.Control,{as:"textarea",rows:5,placeholder:"Schrijf uw review...",value:z.inhoud,onChange:function(e){return M(Object(d.a)(Object(d.a)({},z),{},{inhoud:e.target.value}))},required:!0})}),Object(O.jsx)(q.a.Footer,{children:Object(O.jsx)(H.a,{variant:"success",type:"submit",children:"Maak aan"})})]})}),s.filter((function(e){return e.speelgoedId===L.id&&(e.gebruikerId===i.id||"Admin"===i.role)})).map((function(e){return Object(O.jsx)(de,{review:e,gebruiker:l.find((function(t){return t.id===e.gebruikerId}))})}))]})]}),Object(O.jsx)(X,{show:_,onHide:function(){Z(!1)},item:$,periode:re})]}):Object(O.jsx)(h.a,{to:"/login"})}function ue(e){var t=e.isLoggedIn,n=e.doelgroepen,a=e.onAddDoelgroep,c=e.onEditDoelgroep,i=e.onArchiveDoelgroep,s=Object(r.useState)(!1),l=Object(u.a)(s,2),d=l[0],b=l[1],p=Object(r.useState)(!1),f=Object(u.a)(p,2),x=f[0],m=f[1],g=Object(r.useState)(""),v=Object(u.a)(g,2),k=v[0],N=v[1],w=Object(r.useState)(""),C=Object(u.a)(w,2),S=C[0],I=C[1],A=Object(r.useState)(-1),L=Object(u.a)(A,2),D=L[0],F=L[1];function T(){return(T=Object(j.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/php/admin/doelgroepAdd.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doelgroepNaam:k})});case 3:return n=e.sent,e.next=6,n.json();case 6:(r=e.sent).ok?a(r.doelgroep):alert("Het aanmaken van een doelgroep is mislukt");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(j.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/php/admin/doelgroepEdit.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({editDoelgroep:D,editDoelgroepNaam:S})});case 3:return n=e.sent,e.next=6,n.json();case 6:(r=e.sent).ok?(c(r.doelgroep),F(-1)):alert("Het bewerken van de doelgroep is mislukt");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return W.apply(this,arguments)}function W(){return(W=Object(j.a)(o.a.mark((function e(t){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/admin/doelgroepArchive.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,isArchief:!n.find((function(e){return e.id===t})).isArchief})});case 2:return r=e.sent,e.next=5,r.json();case 5:(a=e.sent).ok?i(a.id,a.isArchief):alert("Het arciveren van de doelgroep is mislukt");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t?Object(O.jsxs)("main",{className:"container",children:[Object(O.jsx)("h1",{children:"Admin Doelgroepen"}),Object(O.jsx)(G.a.Check,{id:"toonArchief",type:"checkbox",label:(d?"Verberg ":"Toon ")+"archief",onChange:function(){return b(!d)},checked:d}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"pl-4",children:"Naam"}),Object(O.jsx)("th",{})]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{}),Object(O.jsx)("td",{className:"jt-table-actions",children:Object(O.jsx)(H.a,{variant:"success",className:"rounded-circle",onClick:function(){return m(!x)},children:x?Object(O.jsx)(y.j,{}):Object(O.jsx)(y.f,{})})})]}),x?Object(O.jsx)("tr",{children:Object(O.jsx)("td",{colSpan:2,className:"jt-table-vertical-center",children:Object(O.jsx)("div",{children:Object(O.jsx)(G.a,{onSubmit:function(e){return T.apply(this,arguments)},children:Object(O.jsxs)(G.a.Group,{className:"d-flex flex-row my-2",children:[Object(O.jsx)(G.a.Label,{column:!0,lg:3,children:"Nieuwe doelgroep: "}),Object(O.jsx)(B.a,{xs:10,lg:7,children:Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Doelgroep naam",value:k,onChange:function(e){return N(e.target.value)},required:!0})}),Object(O.jsx)(B.a,{xs:2,children:Object(O.jsx)(H.a,{variant:"primary",type:"submit",className:"form-control",children:"Maak aan"})})]})})})})}):Object(O.jsx)(O.Fragment,{}),n.filter((function(e){return d||!e.isArchief})).map((function(e){return Object(O.jsxs)("tr",{children:[e.id===D?Object(O.jsx)("td",{children:Object(O.jsx)("div",{children:Object(O.jsx)(G.a,{onSubmit:function(e){return function(e){return E.apply(this,arguments)}(e)},children:Object(O.jsxs)(G.a.Group,{className:"d-flex flex-row my-2",children:[Object(O.jsx)(B.a,{xs:10,children:Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Doelgroep naam",value:S,onChange:function(e){return I(e.target.value)},required:!0})}),Object(O.jsx)(B.a,{xs:2,children:Object(O.jsx)(H.a,{variant:"primary",type:"submit",className:"form-control",children:"Bewerk"})})]})})})}):Object(O.jsxs)("td",{className:"pl-4",children:[Object(O.jsx)("span",{className:"mr-2",children:e.naam}),e.isArchief?Object(O.jsxs)(_.a,{pill:!0,variant:"archive",className:"mr-2",children:[Object(O.jsx)("span",{className:"mr-2",children:"Gearchiveerd"}),Object(O.jsx)(y.j,{as:H.a,onClick:function(){return P(e.id)},className:"jt-clickable"})]}):Object(O.jsx)(O.Fragment,{})]}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(H.a,{variant:"info",className:"rounded-circle",onClick:function(){return t=e.id,void(D===t?F(-1):(F(t),I(n.find((function(e){return e.id===t})).naam)));var t},children:e.id===D?Object(O.jsx)(y.j,{}):Object(O.jsx)(y.e,{})}),Object(O.jsx)(H.a,{variant:"archive",className:"rounded-circle",onClick:function(){return P(e.id)},children:Object(O.jsx)(y.b,{})})]})]})}))]})]})]}):Object(O.jsx)(h.a,{to:"/login"})}function be(e){var t=e.isLoggedIn,n=e.periodes,a=e.onAddPeriode,c=e.onEditPeriode,i=Object(r.useState)(!1),s=Object(u.a)(i,2),d=s[0],b=s[1],p=Object(r.useState)(!1),f=Object(u.a)(p,2),x=f[0],m=f[1],g=Object(r.useState)(-1),v=Object(u.a)(g,2),k=v[0],N=v[1],w=Object(r.useState)(""),C=Object(u.a)(w,2),S=C[0],I=C[1],A=Object(r.useState)(""),L=Object(u.a)(A,2),D=L[0],F=L[1],T=Object(r.useState)(!1),E=Object(u.a)(T,2),P=E[0],W=E[1],R=Object(r.useState)([]),J=Object(u.a)(R,2),V=J[0],q=J[1],z=Object(r.useState)(""),M=Object(u.a)(z,2),U=M[0],Z=M[1],Y=Object(r.useState)(""),Q=Object(u.a)(Y,2),X=Q[0],$=Q[1];function te(){m(!1)}function ne(){return(ne=Object(j.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/php/admin/periodeAdd.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nieuwePeriodeStart:U,nieuwePeriodeEind:X})});case 3:return n=e.sent,e.next=6,n.json();case 6:(r=e.sent).ok?a(r.periode):alert("Het aanmaken van een periode is mislukt"),te();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(j.a)(o.a.mark((function e(t){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/php/admin/periodeEdit.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({periodeId:k,editedPeriodeStart:S,editedPeriodeEind:D,isArchief:n.find((function(e){return e.id==k})).isArchief})});case 3:return r=e.sent,e.next=6,r.json();case 6:(a=e.sent).ok?c(a.periode):alert("Het bewerken van een periode is mislukt"),N(-1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(j.a)(o.a.mark((function e(t){var r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.find((function(e){return e.id==t})),e.next=3,fetch("/php/admin/periodeArchive.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({periodeId:t,startDatum:r.startDatum,eindDatum:r.eindDatum,isArchief:!r.isArchief})});case 3:return a=e.sent,e.next=6,a.json();case 6:(i=e.sent).ok?c(i.periode):alert("Het bewerken van een periode is mislukt");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("main",{className:"container",children:[Object(O.jsx)("h1",{children:"Admin Periodes"}),Object(O.jsx)(G.a.Check,{id:"toonArchief",type:"checkbox",label:(d?"Verberg ":"Toon ")+"archief",onChange:function(e){return b(!d)},checked:d}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{}),Object(O.jsx)("th",{children:"Start"}),Object(O.jsx)("th",{children:"Einde"}),Object(O.jsx)("th",{children:"Gearchiveerd"}),Object(O.jsx)("th",{})]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(e){P?(q([]),W(!1)):(q(n.map((function(e){return e.id}))),W(!0))},checked:P})})})}),Object(O.jsx)("td",{colSpan:3}),Object(O.jsx)("td",{className:"jt-table-actions",children:Object(O.jsx)(H.a,{variant:"success",className:"rounded-circle",onClick:function(){return m(!x)},children:x?Object(O.jsx)(y.j,{}):Object(O.jsx)(y.f,{})})})]}),n.filter((function(e){return d||!e.isArchief})).map((function(e){return Object(O.jsxs)("tr",{children:[e.id==k?Object(O.jsx)("td",{colSpan:4,children:Object(O.jsx)("div",{children:Object(O.jsx)(G.a,{onSubmit:function(e){return function(e){return re.apply(this,arguments)}(e)},children:Object(O.jsxs)(G.a.Group,{className:"d-flex flex-row my-2",children:[Object(O.jsx)(B.a,{xs:5,children:Object(O.jsx)(G.a.Control,{type:"date",placeholder:"Start",value:S,onChange:function(e){return I(e.target.value)},required:!0})}),Object(O.jsx)(B.a,{xs:5,children:Object(O.jsx)(G.a.Control,{type:"date",placeholder:"Einde",value:D,onChange:function(e){return F(e.target.value)},required:!0})}),Object(O.jsx)(B.a,{xs:2,children:Object(O.jsx)(H.a,{variant:"primary",type:"submit",className:"form-control",children:"Bewerk"})})]})})})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(t){return n=e.id,W(!1),void(V.includes(n)?q(V.filter((function(e){return e!=n}))):q([].concat(Object(l.a)(V),[n])));var n},checked:V.includes(e.id)})})})}),Object(O.jsx)("td",{children:e.startDatum}),Object(O.jsx)("td",{children:e.eindDatum}),Object(O.jsx)("td",{children:e.isArchief?Object(O.jsxs)(_.a,{pill:!0,variant:"archive",className:"mr-2",children:[Object(O.jsx)("span",{className:"mr-2",children:"Gearchiveerd"}),Object(O.jsx)(y.j,{as:H.a,onClick:function(){return ae(e.id)},className:"jt-clickable"})]}):Object(O.jsx)(O.Fragment,{})})]}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(H.a,{variant:"info",className:"rounded-circle",onClick:function(){return t=e.id,void(k==t?N(-1):(N(t),I(n.find((function(e){return e.id==t})).startDatum),F(n.find((function(e){return e.id==t})).eindDatum)));var t},children:e.id==k?Object(O.jsx)(y.j,{}):Object(O.jsx)(y.e,{})}),Object(O.jsx)(H.a,{variant:"archive",className:"rounded-circle",onClick:function(){return ae(e.id)},children:Object(O.jsx)(y.b,{})})]})]})}))]})]})]}),Object(O.jsxs)(K.a,{show:x,onHide:function(){return te()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Nieuwe periode"})}),Object(O.jsxs)(G.a,{onSubmit:function(e){return ne.apply(this,arguments)},children:[Object(O.jsxs)(K.a.Body,{children:[Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Startdatum: "}),Object(O.jsx)(G.a.Control,{type:"date",placeholder:"Startdatum",value:U,onChange:function(e){return Z(e.target.value)},required:!0})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Einddatum: "}),Object(O.jsx)(G.a.Control,{type:"date",placeholder:"Einddatum",value:X,onChange:function(e){return $(e.target.value)},required:!0})]})]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(H.a,{variant:"secondary",onClick:function(){return te()},children:"Sluiten"}),Object(O.jsx)(H.a,{variant:"success",type:"submit",children:"Maak aan"})]})]})]})]}):Object(O.jsx)(h.a,{to:"/login"})}function he(e){var t=e.isLoggedIn,n=e.gebruikers,a=e.onAddGebruiker,c=e.onEditGebruiker,i=e.onDeleteGebruiker,s=e.userData,b=Object(r.useState)(!1),p=Object(u.a)(b,2),f=p[0],x=p[1],m=Object(r.useState)(!1),g=Object(u.a)(m,2),v=g[0],k=g[1],N=Object(r.useState)(!1),w=Object(u.a)(N,2),C=w[0],S=w[1],I=Object(r.useState)([]),A=Object(u.a)(I,2),L=A[0],D=A[1],F=Object(r.useState)({id:-1}),T=Object(u.a)(F,2),E=T[0],B=T[1],W=Object(r.useState)(!1),R=Object(u.a)(W,2),J=R[0],V=R[1],q=Object(r.useState)({naam:"",email:"",wachtwoord:""}),z=Object(u.a)(q,2),M=z[0],U=z[1],Z=Object(r.useState)(!1),Y=Object(u.a)(Z,2),Q=Y[0],X=Y[1],$=Object(r.useState)([]),te=Object(u.a)($,2),ne=te[0],re=te[1];function ae(){k(!1),U({naam:"",email:"",wachtwoord:""})}function ce(){B({id:-1}),V(!1)}function ie(){X(!1)}function se(){return(se=Object(j.a)(o.a.mark((function e(t){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=Object(d.a)(Object(d.a)({},M),{},{wachtwoord:Object(P.sha256)(M.wachtwoord)}),e.next=4,fetch("/php/admin/gebruikerAdd.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return r=e.sent,e.next=7,r.json();case 7:(c=e.sent).ok?a(c.gebruiker):alert("Het aanmaken van een gebruiker is mislukt"),ae();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return(oe=Object(j.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=Object(d.a)(Object(d.a)({},E),{},{wachtwoord:J?Object(P.sha256)(E.wachtwoord):0}),e.next=4,fetch("/php/admin/gebruikerEdit.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 4:return r=e.sent,e.next=7,r.json();case 7:(a=e.sent).ok?c(a.gebruiker):alert("Het bewerken van een gebruiker is mislukt"),ce();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return(le=Object(j.a)(o.a.mark((function e(t,r){var a,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/admin/gebruikerEditRole.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gebruikerId:t,role:r})});case 2:return a=e.sent,e.next=5,a.json();case 5:(i=e.sent).ok?(s=Object(d.a)(Object(d.a)({},n.find((function(e){return e.id===i.id}))),{},{role:i.role}),c(s)):alert("Het veranderen van de rol van de gebruiker is mislukt");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){return je.apply(this,arguments)}function je(){return(je=Object(j.a)(o.a.mark((function e(t){var r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/admin/gebruikerArchive.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gebruikerId:t,isArchief:!n.find((function(e){return e.id===t})).isArchief})});case 2:return r=e.sent,e.next=5,r.json();case 5:(a=e.sent).ok?(i=Object(d.a)(Object(d.a)({},n.find((function(e){return e.id===a.id}))),{},{isArchief:a.isArchief}),c(i)):alert("Het archiveren van een gebruiker is mislukt");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e){X(!0);var t=[];-1===e?t=L:t.push(e),re(t)}function be(){return(be=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/admin/gebruikerDelete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toDelete:ne})});case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent).ok?i(n.ids):alert("Het verwijderen is mislukt"),ie();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("main",{className:"container",children:[Object(O.jsx)("h1",{children:"Admin Periodes"}),Object(O.jsx)(G.a.Check,{id:"toonArchief",type:"checkbox",label:(f?"Verberg ":"Toon ")+"archief",onChange:function(){return x(!f)},checked:f}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{}),Object(O.jsx)("th",{children:"Naam"}),Object(O.jsx)("th",{children:"Email"}),Object(O.jsx)("th",{children:"Rol"}),Object(O.jsx)("th",{})]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){C?(D([]),S(!1)):(D(n.filter((function(e){return e.doelgroepId===s.sessDoelgroep})).map((function(e){return e.id}))),S(!0))},checked:C})})})}),Object(O.jsx)("td",{colSpan:3}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(H.a,{variant:"success",className:"rounded-circle",onClick:function(){return k(!v)},children:v?Object(O.jsx)(y.j,{}):Object(O.jsx)(y.f,{})}),Object(O.jsx)(H.a,{variant:"danger",className:"rounded-circle",onClick:function(){return ue(-1)},children:Object(O.jsx)(y.k,{})})]})]}),n.filter((function(e){return e.doelgroepId===s.sessDoelgroep&&(f||!e.isArchief)})).map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){return t=e.id,S(!1),void(L.includes(t)?D(L.filter((function(e){return e!==t}))):D([].concat(Object(l.a)(L),[t])));var t},checked:L.includes(e.id)})})})}),Object(O.jsxs)("td",{children:[Object(O.jsx)("span",{className:"mr-2",children:e.naam}),e.isArchief?Object(O.jsxs)(_.a,{pill:!0,variant:"archive",className:"mr-2",children:[Object(O.jsx)("span",{className:"mr-2",children:"Gearchiveerd"}),Object(O.jsx)(y.j,{as:H.a,onClick:function(){return de(e.id)},className:"jt-clickable"})]}):Object(O.jsx)(O.Fragment,{})]}),Object(O.jsx)("td",{children:e.email}),Object(O.jsx)("td",{children:Object(O.jsxs)(G.a.Control,{as:"select",value:e.role,onChange:function(t){return function(e,t){return le.apply(this,arguments)}(e.id,t.target.value)},children:[Object(O.jsx)("option",{value:"Admin",children:"Admin"}),Object(O.jsx)("option",{value:"Gebruiker",children:"Gebruiker"}),Object(O.jsx)("option",{value:"Niet bevestigd",children:"Niet bevestigd"})]})}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(H.a,{variant:"info",className:"rounded-circle",onClick:function(){return t=e.id,void(E.id===t?ce():B(n.find((function(e){return e.id===t}))));var t},children:e.id===E?Object(O.jsx)(y.j,{}):Object(O.jsx)(y.e,{})}),Object(O.jsx)(H.a,{variant:"archive",className:"rounded-circle",onClick:function(){return de(e.id)},children:Object(O.jsx)(y.b,{})}),Object(O.jsx)(H.a,{variant:"danger",className:"rounded-circle",onClick:function(){return ue(e.id)},children:Object(O.jsx)(y.k,{})})]})]})}))]})]})]}),Object(O.jsxs)(K.a,{show:v,onHide:function(){return ae()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Nieuwe gebruiker:"})}),Object(O.jsxs)(G.a,{onSubmit:function(e){return se.apply(this,arguments)},children:[Object(O.jsxs)(K.a.Body,{children:[Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Naam:"}),Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Gebruikersnaam",value:M.naam,onChange:function(e){return U(Object(d.a)(Object(d.a)({},M),{},{naam:e.target.value}))},required:!0})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Email:"}),Object(O.jsx)(G.a.Control,{type:"email",placeholder:"Emailadres",value:M.email,onChange:function(e){return U(Object(d.a)(Object(d.a)({},M),{},{email:e.target.value}))},required:!0})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Wachtwoord:"}),Object(O.jsx)(G.a.Control,{type:"password",placeholder:"Wachtwoord",value:M.wachtwoord,onChange:function(e){return U(Object(d.a)(Object(d.a)({},M),{},{wachtwoord:e.target.value}))},required:!0})]})]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(H.a,{variant:"secondary",onClick:function(){return ae()},children:"Sluiten"}),Object(O.jsx)(H.a,{variant:"success",type:"submit",children:"Maak aan"})]})]})]}),Object(O.jsxs)(K.a,{show:-1!==E.id,onHide:function(){return ce()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Bewerk gebruiker:"})}),Object(O.jsxs)(G.a,{onSubmit:function(e){return oe.apply(this,arguments)},children:[Object(O.jsxs)(K.a.Body,{children:[Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Naam:"}),Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Gebruikersnaam",value:E.naam,onChange:function(e){return B(Object(d.a)(Object(d.a)({},E),{},{naam:e.target.value}))},required:!0})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Email:"}),Object(O.jsx)(G.a.Control,{type:"email",placeholder:"Emailadres",value:E.email,onChange:function(e){return B(Object(d.a)(Object(d.a)({},E),{},{email:e.target.value}))},required:!0})]}),Object(O.jsx)(G.a.Check,{type:"switch",id:"switch",value:J,onChange:function(){return V(!J)},label:"Wachtwoord veranderen"}),J?Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Wachtwoord:"}),Object(O.jsx)(G.a.Control,{type:"password",placeholder:"Wachtwoord",value:E.wachtwoord,onChange:function(e){return B(Object(d.a)(Object(d.a)({},E),{},{wachtwoord:e.target.value}))},required:!0})]}):Object(O.jsx)(O.Fragment,{})]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(H.a,{variant:"secondary",onClick:function(){return ce()},children:"Sluiten"}),Object(O.jsx)(H.a,{variant:"success",type:"submit",children:"Bewerk"})]})]})]}),Object(O.jsxs)(K.a,{show:Q,onHide:function(){return ie()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Verwijder gebruiker"})}),Object(O.jsxs)(K.a.Body,{children:["Weet u zeker dat u ",ne.length," gebruiker",1===ne.length?"s":""," wilt verwijderen?"]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(H.a,{variant:"secondary",onClick:function(){return ie()},children:"Sluiten"}),Object(O.jsx)(H.a,{variant:"danger",onClick:function(){return function(){return be.apply(this,arguments)}()},children:"Verwijder"})]})]})]}):Object(O.jsx)(h.a,{to:"/login"})}function pe(e){var t=e.isLoggedIn,n=e.filters,a=e.updateFilters,c=e.categorieen,i=e.leeftijd,s=e.userData,d=e.removeCategorieFromFilters,p=e.filteredSpeelgoed,f=e.reviews,x=e.onDeleteReview,m=e.gebruikers,g=Object(r.useState)(!1),v=Object(u.a)(g,2),k=v[0],N=v[1],w=Object(r.useState)([]),C=Object(u.a)(w,2),S=C[0],I=C[1],A=Object(r.useState)(!1),L=Object(u.a)(A,2),D=L[0],F=L[1],T=Object(r.useState)([]),E=Object(u.a)(T,2),B=E[0],P=E[1],W=Object(r.useState)([]),R=Object(u.a)(W,2),J=R[0],V=R[1];function q(){F(!1)}function z(e){F(!0);var t=[];-1===e?t=S:t.push(e),P(t)}function U(){return(U=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/admin/reviewDelete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toDelete:B})});case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent).ok?x(n.ids):alert("Het verwijderen is mislukt"),q();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("main",{className:"container",children:[Object(O.jsx)("h1",{children:"Admin Reviews"}),Object(O.jsx)(M,{filters:n,updateFilters:a,categorieen:c,leeftijd:i,userData:s,removeCategorieFromFilters:d}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{}),Object(O.jsx)("th",{children:"Speelgoed"}),Object(O.jsx)("th",{children:"Gebruiker"}),Object(O.jsx)("th",{children:"Waardering"}),Object(O.jsx)("th",{})]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){k?(I([]),N(!1)):(I(f.map((function(e){return e.id}))),N(!0))},checked:k})})})}),Object(O.jsx)("td",{colSpan:3}),Object(O.jsx)("td",{className:"jt-table-actions",children:Object(O.jsx)(H.a,{variant:"danger",className:"rounded-circle",onClick:function(){return z(-1)},children:Object(O.jsx)(y.k,{})})})]}),f.filter((function(e){return p.map((function(e){return e.id})).includes(e.speelgoedId)})).map((function(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){return t=e.id,N(!1),void(S.includes(t)?I(S.filter((function(e){return e!==t}))):I([].concat(Object(l.a)(S),[t])));var t},checked:S.includes(e.id)})})})}),Object(O.jsx)("td",{children:Object(O.jsx)(b.b,{to:"/speelgoedfiche?id="+p.find((function(t){return t.id===e.speelgoedId})).id,children:p.find((function(t){return t.id===e.speelgoedId})).naam})}),Object(O.jsx)("td",{children:m.find((function(t){return t.id===e.gebruikerId})).naam}),Object(O.jsx)("td",{children:Object(O.jsx)(le,{waardering:e.waardering})}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(H.a,{variant:"info",className:"rounded-circle",onClick:function(){return t=e.id,void(J.includes(t)?V(J.filter((function(e){return e!==t}))):V([].concat(Object(l.a)(J),[t])));var t},children:J.includes(e.id)?Object(O.jsx)(y.j,{}):Object(O.jsx)(y.a,{})}),Object(O.jsx)(H.a,{variant:"danger",className:"rounded-circle",onClick:function(){return z(e.id)},children:Object(O.jsx)(y.k,{})})]})]}),J.includes(e.id)?Object(O.jsx)("tr",{children:Object(O.jsxs)("td",{colSpan:5,className:"bg-filter",children:[Object(O.jsx)("div",{className:"mx-3 mt-2 mb-1",children:"Inhoud:"}),Object(O.jsx)("p",{className:"mx-3 mb-2 p-2 bg-achtergrondkleur rounded",children:e.inhoud})]})}):Object(O.jsx)(O.Fragment,{})]})}))]})]})]}),Object(O.jsxs)(K.a,{show:D,onHide:function(){return q()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Verwijder review"})}),Object(O.jsxs)(K.a.Body,{children:["Weet u zeker dat u ",B.length," review",1===B.length?"s":""," wilt verwijderen?"]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(H.a,{variant:"secondary",onClick:function(){return q()},children:"Sluiten"}),Object(O.jsx)(H.a,{variant:"danger",onClick:function(){return function(){return U.apply(this,arguments)}()},children:"Verwijder"})]})]})]}):Object(O.jsx)(h.a,{to:"/login"})}function Oe(e){var t=e.selectList,n=e.onSelect,a=e.placeholder,c=e.initialValue,i=Object(r.useState)(!1),s=Object(u.a)(i,2),o=s[0],l=s[1],d=Object(r.useState)(""),j=Object(u.a)(d,2),b=j[0],h=j[1],p=Object(r.useState)([]),f=Object(u.a)(p,2),x=f[0],m=f[1];function g(e){h(e),m(t.filter((function(t){return t.naam.toLowerCase().includes(e.toLowerCase())})))}function v(e,t){g(t),l(!1),n(e)}return Object(r.useEffect)((function(){g(c)}),[]),Object(O.jsxs)("div",{className:"position-relative",onFocus:function(){return l(!0)},children:[Object(O.jsx)(G.a.Control,{type:"text",placeholder:a,value:b,onChange:function(e){return g(e.target.value)},required:!0}),Object(O.jsx)("div",{className:o?"d-flex flex-column position-absolute p-2 bg-achtergrondkleur jt-front w-100 shadow":"d-none",children:x.slice(0,6).map((function(e){return"Speelgoed"===a?Object(O.jsxs)("div",{onClick:function(){return v(e.id,e.naam)},className:"jt-clickable my-2 p-2 bg-filter",children:[Object(O.jsxs)(E.a,{children:[Object(O.jsx)(B.a,{xs:"2",children:Object(O.jsx)("img",{src:e.foto?e.foto:"/images/placeholder.jpg",alt:"",className:"img-fluid"})}),Object(O.jsx)(B.a,{xs:"10",className:"d-flex flex-row align-items-center",children:e.naam})]}),Object(O.jsx)(E.a,{children:Object(O.jsxs)(B.a,{xs:"12",className:"d-flex flex-row align-items-center pt-2",children:[e.beschikbaar?Object(O.jsx)(O.Fragment,{}):Object(O.jsx)(_.a,{pill:!0,variant:"danger",className:"mr-2",children:Object(O.jsx)("span",{className:"mr-2",children:"Niet beschikbaar"})}),e.specialeAanvraag?Object(O.jsx)(_.a,{pill:!0,variant:"primary",className:"mr-2",children:Object(O.jsx)("span",{className:"mr-2",children:"Speciale aanvraag"})}):Object(O.jsx)(O.Fragment,{})]})})]}):Object(O.jsx)("div",{onClick:function(){return v(e.id,e.naam)},className:"jt-clickable my-2 p-2 bg-filter",children:Object(O.jsx)(E.a,{children:Object(O.jsx)(B.a,{xs:"12",className:"d-flex flex-row align-items-center",children:e.naam})})})}))})]})}function fe(e){var t=e.isLoggedIn,n=e.filters,a=e.updateFilters,c=e.categorieen,i=e.leeftijd,s=e.userData,p=e.removeCategorieFromFilters,f=e.filteredReservaties,x=e.speelgoed,m=e.gebruikers,g=e.periodes,v=e.onAddReservatie,k=e.onEditReservatie,N=e.onDeleteReservaties,w=e.reservaties,C=e.onArchiveReservaties,S=e.onConfirmReservaties,I=Object(r.useState)(!1),A=Object(u.a)(I,2),L=A[0],D=A[1],F=Object(r.useState)([]),T=Object(u.a)(F,2),P=T[0],W=T[1],R=Object(r.useState)(-1),J=Object(u.a)(R,2),V=J[0],q=J[1],z=Object(r.useState)(-1),U=Object(u.a)(z,2),Z=U[0],Y=U[1],Q=Object(r.useState)(-1),X=Object(u.a)(Q,2),$=X[0],te=X[1],ne=Object(r.useState)(!1),re=Object(u.a)(ne,2),ae=re[0],ce=re[1],ie=Object(r.useState)(-1),se=Object(u.a)(ie,2),oe=se[0],le=se[1],de=Object(r.useState)(!1),je=Object(u.a)(de,2),ue=je[0],be=je[1],he=Object(r.useState)(!1),pe=Object(u.a)(he,2),fe=pe[0],xe=pe[1],me=Object(r.useState)(!1),ge=Object(u.a)(me,2),ve=ge[0],ke=ge[1],Ne=Object(r.useState)({periodeId:-1}),ye=Object(u.a)(Ne,2),we=ye[0],Ce=ye[1],Se=Object(r.useState)({speelgoedId:-1,gebruikerId:-1,periodeId:-1}),Ie=Object(u.a)(Se,2),Ae=Ie[0],Le=Ie[1],De=Object(r.useState)([]),Fe=Object(u.a)(De,2),Te=Fe[0],Ge=Fe[1];function Ee(){be(!1),Ce({periodeId:-1})}function Be(){xe(!1),Le({speelgoedId:-1,gebruikerId:-1,periodeId:-1})}function He(){ke(!1),Ge([])}function Pe(e){ke(!0);var t=[];-1===e?t=P:t.push(e),Ge(t)}function We(){return(We=Object(j.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),-1!==we.periodeId){e.next=3;break}return e.abrupt("return",alert("Selecteer een periode"));case 3:return e.next=5,fetch("/php/admin/reservatieAdd.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(we)});case 5:return n=e.sent,e.next=8,n.json();case 8:(r=e.sent).ok?v(r.reservatie):alert("Het aanmaken van een reservatie is mislukt"),Ee();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(){return(Re=Object(j.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/php/admin/reservatieEdit.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ae)});case 3:return n=e.sent,e.next=6,n.json();case 6:(r=e.sent).ok?k(r.id,r.speelgoedId,r.gebruikerId,r.periodeId):alert("Het bewerken van een reservatie is mislukt"),Be();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(j.a)(o.a.mark((function e(t,n){var r,a,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],-1===t?r=P:r.push(t),a=new Date,c=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),e.next=6,fetch("/php/admin/reservatieArchive.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:r,isArchief:n,archiefDatum:c})});case 6:return i=e.sent,e.next=9,i.json();case 9:(s=e.sent).ok?C(s.ids,s.isArchief,s.archiefDatum):alert("Het archiveren van een reservatie is mislukt");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qe(e,t){return ze.apply(this,arguments)}function ze(){return(ze=Object(j.a)(o.a.mark((function e(t,n){var r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],-1===t?r=P:r.push(t),e.next=4,fetch("/php/admin/reservatieConfirm.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:r,bevestigd:n})});case 4:return a=e.sent,e.next=7,a.json();case 7:(c=e.sent).ok?S(c.ids,c.bevestigd):alert("Het bevestigen van een reservatie is mislukt");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(){return(Me=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/admin/reservatieDelete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toDelete:Te})});case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent).ok?N(n.ids):alert("Het verwijderen van een reservatie is mislukt"),He();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("main",{className:"container-fluid",children:[Object(O.jsx)("h1",{className:"jt-no-print",children:"Admin Reservaties"}),Object(O.jsx)("h1",{className:"jt-print",children:"Lijst binnen brengen"}),Object(O.jsx)(M,{filters:n,updateFilters:a,categorieen:c,leeftijd:i,userData:s,removeCategorieFromFilters:p}),Object(O.jsxs)(E.a,{className:"jt-no-print",children:[Object(O.jsxs)(G.a.Group,{className:"px-3 py-2",children:[Object(O.jsx)(B.a,{xs:"auto",className:"d-flex flex-row align-items-center",children:Object(O.jsx)(G.a.Label,{className:"mb-0",children:"Periode:"})}),Object(O.jsx)(B.a,{xs:"auto",children:Object(O.jsxs)(G.a.Control,{as:"select",value:V,onChange:function(e){return q(parseInt(e.target.value))},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Alle periodes"}),g.filter((function(e){return!e.isArchief||n.showArchief})).length>0?g.filter((function(e){return!e.isArchief||n.showArchief})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:"Van "+e.startDatum+" tot "+e.eindDatum})})):Object(O.jsx)("option",{value:"-1",children:"Geen periodes beschikbaar"})]})})]}),Object(O.jsxs)(G.a.Group,{className:"px-3 py-2",children:[Object(O.jsx)(B.a,{xs:"auto",className:"d-flex flex-row align-items-center",children:Object(O.jsx)(G.a.Label,{className:"mb-0",children:"Gebruiker:"})}),Object(O.jsx)(B.a,{xs:"auto",children:Object(O.jsxs)(G.a.Control,{as:"select",value:Z,onChange:function(e){return Y(parseInt(e.target.value))},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Alle gebruikers"}),m.filter((function(e){return!e.isArchief||n.showArchief})).length>0?m.filter((function(e){return!e.isArchief||n.showArchief})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.naam})})):Object(O.jsx)("option",{value:"-1",children:"Geen gebruikers beschikbaar"})]})})]}),Object(O.jsxs)(G.a.Group,{className:"px-3 py-2",children:[Object(O.jsx)(B.a,{xs:"auto",className:"d-flex flex-row align-items-center",children:Object(O.jsx)(G.a.Label,{className:"mb-0",children:"Bevestigd:"})}),Object(O.jsx)(B.a,{xs:"auto",children:Object(O.jsxs)(G.a.Control,{as:"select",value:$,onChange:function(e){return te(parseInt(e.target.value))},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Toon alles"}),Object(O.jsx)("option",{value:"0",children:"Niet bevestigd"}),Object(O.jsx)("option",{value:"1",children:"Bevestigd"})]})})]}),Object(O.jsxs)(G.a.Group,{className:"px-3 py-2",children:[Object(O.jsx)(B.a,{xs:"auto",className:"d-flex flex-row align-items-center",children:Object(O.jsx)(G.a.Check,{type:"switch",id:"switch",value:ae,onChange:function(){return ce(!ae)},label:"Binnenbrengen lijst"})}),Object(O.jsx)(B.a,{xs:"auto",children:Object(O.jsxs)(G.a.Control,{as:"select",value:oe,onChange:function(e){return le(parseInt(e.target.value))},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Alle periodes"}),g.filter((function(e){return!e.isArchief||n.showArchief})).length>0?g.filter((function(e){return!e.isArchief||n.showArchief})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:"Van "+e.startDatum+" tot "+e.eindDatum})})):Object(O.jsx)("option",{value:"-1",children:"Geen periodes beschikbaar"})]})})]})]}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"jt-table-check-container jt-no-print"}),Object(O.jsx)("th",{children:"Speelgoed"}),Object(O.jsx)("th",{className:ae?"jt-no-print":"",children:"Gebruiker"}),Object(O.jsx)("th",{className:ae?"jt-no-print":"",children:"Periode"}),Object(O.jsx)("th",{className:ae?"jt-no-print":"",children:"Bevestigd"}),Object(O.jsx)("th",{className:ae?"jt-no-print":"",children:"Archief"}),Object(O.jsx)("th",{className:"jt-no-print"})]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{className:"jt-no-print",children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){L?(W([]),D(!1)):(W(f.map((function(e){return e.id}))),D(!0))},checked:L})})})}),Object(O.jsx)("td",{colSpan:5}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(H.a,{variant:"success",className:"rounded-circle",onClick:function(){be(!0)},children:Object(O.jsx)(y.f,{})}),Object(O.jsx)(H.a,{variant:"primary",className:"rounded-circle",onClick:function(){return qe(-1,1)},children:Object(O.jsx)(y.c,{})}),Object(O.jsx)(H.a,{variant:"archive",className:"rounded-circle",onClick:function(){return Je(-1,1)},children:Object(O.jsx)(y.b,{})}),Object(O.jsx)(H.a,{variant:"danger",className:"rounded-circle",onClick:function(){return Pe(-1)},children:Object(O.jsx)(y.l,{})})]})]}),f.filter((function(e){return(-1===V||e.periodeId===V)&&(-1===Z||e.gebruikerId===Z)&&(-1===$||e.bevestigd===$)&&(!ae||!f.filter((function(t){return t.speelgoedId===e.speelgoedId&&t.gebruikerId===e.gebruikerId})).map((function(e){return e.periodeId})).includes(oe))})).map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id jt-no-print",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){return t=e.id,D(!1),void(P.includes(t)?W(P.filter((function(e){return e!==t}))):W([].concat(Object(l.a)(P),[t])));var t},checked:P.includes(e.id)})})})}),Object(O.jsxs)("td",{children:[Object(O.jsxs)(b.b,{to:"/speelgoedfiche?id="+e.speelgoedId,children:[Object(O.jsx)("img",{src:x.find((function(t){return e.speelgoedId===t.id})).foto?x.find((function(t){return e.speelgoedId===t.id})).foto:"/images/placeholder.jpg",className:"jt-table-img",alt:""}),Object(O.jsx)("span",{className:"jt-table-naam",children:x.find((function(t){return e.speelgoedId===t.id})).naam})]}),x.find((function(t){return e.speelgoedId===t.id})).isArchief?Object(O.jsx)(_.a,{pill:!0,variant:"archive",className:"mr-2",children:Object(O.jsx)("span",{children:"Gearchiveerd"})}):Object(O.jsx)(O.Fragment,{})]}),Object(O.jsx)("td",{className:ae?"jt-no-print":"",children:m.find((function(t){return t.id===e.gebruikerId})).naam}),Object(O.jsx)("td",{className:ae?"jt-no-print":"",children:g.find((function(t){return t.id===e.periodeId}))?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:"Van "+g.find((function(t){return t.id===e.periodeId})).startDatum}),Object(O.jsx)("div",{children:"Tot "+g.find((function(t){return t.id===e.periodeId})).eindDatum})]}):Object(O.jsx)(O.Fragment,{})}),Object(O.jsx)("td",{className:ae?"jt-no-print":"",children:e.bevestigd?Object(O.jsxs)(_.a,{pill:!0,variant:"primary",children:[Object(O.jsx)("span",{className:"mr-2",children:"Bevestigd"}),Object(O.jsx)(y.j,{as:H.a,onClick:function(){return qe(e.id,0)},className:"jt-clickable"})]}):Object(O.jsxs)(_.a,{pill:!0,variant:"danger",children:[Object(O.jsx)("span",{className:"mr-2",children:"Niet bevestigd"}),Object(O.jsx)(y.j,{as:H.a,onClick:function(){return qe(e.id,1)},className:"jt-clickable"})]})}),Object(O.jsx)("td",{className:ae?"jt-no-print":"",children:e.isArchief?Object(O.jsxs)(_.a,{pill:!0,variant:"archive",className:"mr-2",children:[Object(O.jsx)("span",{className:"mr-2",children:e.archiefDatum}),Object(O.jsx)(y.j,{as:H.a,onClick:function(){return Je(e.id,0)},className:"jt-clickable"})]}):Object(O.jsx)(O.Fragment,{})}),Object(O.jsxs)("td",{className:"jt-table-actions jt-no-print",children:[Object(O.jsx)(H.a,{variant:"info",className:"rounded-circle",onClick:function(){return function(e){var t=w.find((function(t){return t.id===e}));Le({id:e,speelgoedId:t.speelgoedId,gebruikerId:t.gebruikerId,periodeId:t.periodeId}),xe(!0)}(e.id)},children:Object(O.jsx)(y.e,{})}),Object(O.jsx)(H.a,{variant:"primary",className:"rounded-circle",onClick:function(){return qe(e.id,1)},children:Object(O.jsx)(y.c,{})}),Object(O.jsx)(H.a,{variant:"archive",className:"rounded-circle",onClick:function(){return Je(e.id,1)},children:Object(O.jsx)(y.b,{})}),Object(O.jsx)(H.a,{variant:"danger",className:"rounded-circle",onClick:function(){return Pe(e.id)},children:Object(O.jsx)(y.l,{})})]})]})}))]})]})]}),Object(O.jsxs)(K.a,{show:ue,onHide:function(){return Ee()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Nieuwe reservatie:"})}),Object(O.jsxs)(G.a,{onSubmit:function(e){return We.apply(this,arguments)},children:[Object(O.jsxs)(K.a.Body,{children:[Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Speelgoed:"}),Object(O.jsx)(Oe,{selectList:x.filter((function(e){return!e.isArchief})),onSelect:function(e){return Ce(Object(d.a)(Object(d.a)({},we),{},{speelgoedId:e}))},placeholder:"Speelgoed"})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Gebruiker:"}),Object(O.jsx)(Oe,{selectList:m.filter((function(e){return e.doelgroepId===s.sessDoelgroep&&!e.isArchief})),onSelect:function(e){return Ce(Object(d.a)(Object(d.a)({},we),{},{gebruikerId:e}))},placeholder:"Gebruiker"})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Periode:"}),Object(O.jsxs)(G.a.Control,{id:"periode",as:"select",value:we.periodeId,onChange:function(e){return Ce(Object(d.a)(Object(d.a)({},we),{},{periodeId:parseInt(e.target.value)}))},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Kies..."}),g.filter((function(e){return!e.isArchief||n.showArchief})).length>0?g.filter((function(e){return!e.isArchief||n.showArchief})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:"Van "+e.startDatum+" tot "+e.eindDatum})})):Object(O.jsx)("option",{value:"-1",children:"Geen periodes beschikbaar"})]})]})]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(H.a,{variant:"secondary",onClick:function(){return Ee()},children:"Sluiten"}),Object(O.jsx)(H.a,{variant:"success",type:"submit",children:"Maak aan"})]})]})]}),Object(O.jsxs)(K.a,{show:fe,onHide:function(){return Be()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Bewerk reservatie:"})}),Object(O.jsxs)(G.a,{onSubmit:function(e){return Re.apply(this,arguments)},children:[Object(O.jsxs)(K.a.Body,{children:[Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Speelgoed:"}),Object(O.jsx)(Oe,{selectList:x.filter((function(e){return!e.isArchief})),onSelect:function(e){return Le(Object(d.a)(Object(d.a)({},Ae),{},{speelgoedId:e}))},placeholder:"Speelgoed",initialValue:x.find((function(e){return Ae.speelgoedId==e.id}))?x.find((function(e){return Ae.speelgoedId==e.id})).naam:""})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Gebruiker:"}),Object(O.jsx)(Oe,{selectList:m.filter((function(e){return e.doelgroepId==s.sessDoelgroep&&!e.isArchief})),onSelect:function(e){return Le(Object(d.a)(Object(d.a)({},Ae),{},{gebruikerId:e}))},placeholder:"Gebruiker",initialValue:m.find((function(e){return Ae.gebruikerId==e.id}))?m.find((function(e){return Ae.gebruikerId==e.id})).naam:""})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Periode:"}),Object(O.jsx)(G.a.Control,{as:"select",value:Ae.periodeId,onChange:function(e){return Le(Object(d.a)(Object(d.a)({},Ae),{},{periodeId:parseInt(e.target.value)}))},defaultValue:Ae.periodeId,required:!0,children:g.filter((function(e){return!e.isArchief||n.showArchief})).length>0?g.filter((function(e){return!e.isArchief||n.showArchief})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:"Van "+e.startDatum+" tot "+e.eindDatum})})):Object(O.jsx)("option",{value:"-1",children:"Geen periodes beschikbaar"})})]})]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(H.a,{variant:"secondary",onClick:function(){return Be()},children:"Sluiten"}),Object(O.jsx)(H.a,{variant:"success",type:"submit",children:"Bewerk"})]})]})]}),Object(O.jsxs)(K.a,{show:ve,onHide:function(){return He()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Verwijder reservatie"})}),Object(O.jsxs)(K.a.Body,{children:["Weet u zeker dat u ",Te.length," reservatie",1==Te.length?"s":""," wilt verwijderen?"]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(H.a,{variant:"secondary",onClick:function(){return He()},children:"Sluiten"}),Object(O.jsx)(H.a,{variant:"danger",onClick:function(){return function(){return Me.apply(this,arguments)}()},children:"Verwijder"})]})]})]}):Object(O.jsx)(h.a,{to:"/login"})}function xe(e){var t=e.isLoggedIn,n=e.periodes,a=e.winkelWagen,c=e.onWinkelWagenDelete,i=e.speelgoed,s=e.onWinkelWagenEdit,d=e.onWinkelWagenCommit,p=e.reservaties,f=Object(r.useState)(!1),x=Object(u.a)(f,2),m=x[0],g=x[1],v=Object(r.useState)([]),k=Object(u.a)(v,2),N=k[0],w=k[1],C=Object(r.useState)(!1),S=Object(u.a)(C,2),I=S[0],A=S[1];function L(e){-1===e?(c(N),w([]),g(!1)):(c([e]),w(N.filter((function(t){return!(t.id===e)}))))}function F(){return T.apply(this,arguments)}function T(){return(T=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,fetch("/php/confirmShoppingCart.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({winkelWagen:a})});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).ok?(d(n),A(!1)):(alert("Er was een error bij het uploaden van de reservaties"),A(!1));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("main",{className:"container",children:[Object(O.jsx)("h1",{children:"Winkelwagen"}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{}),Object(O.jsx)("th",{children:"Speelgoed"}),Object(O.jsx)("th",{children:"Periode"}),Object(O.jsx)("th",{})]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){m?(w([]),g(!1)):(w(a.map((function(e){return e.id}))),g(!0))},checked:m})})})}),Object(O.jsx)("td",{colSpan:2}),Object(O.jsx)("td",{className:"jt-table-actions",children:Object(O.jsx)(H.a,{variant:"danger",className:"rounded-circle",onClick:function(){return L(-1)},children:Object(O.jsx)(y.k,{})})})]}),a.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){return t=e.id,g(!1),void(N.includes(t)?w(N.filter((function(e){return e!==t}))):w([].concat(Object(l.a)(N),[t])));var t},checked:N.includes(e.id)})})})}),Object(O.jsx)("td",{children:i.filter((function(t){return e.speelgoedId===t.id})).map((function(e){return Object(O.jsxs)(b.b,{to:"/speelgoedfiche?id="+e.id,id:e.id+"-naam",children:[Object(O.jsx)("img",{src:e.foto?e.foto:"/images/placeholder.jpg",className:"jt-table-img",alt:""}),Object(O.jsx)("span",{className:"jt-table-naam",children:e.naam})]})}))}),Object(O.jsx)("td",{children:Object(O.jsx)(G.a.Control,{id:"periode",as:"select",onChange:function(t){return s(e.id,t.target.value)},value:e.periodeId,children:n.filter((function(t){return!(t.isArchief||a.filter((function(t){return t.id!==e.id&&t.speelgoedId===e.speelgoedId})).map((function(e){return e.periodeId})).includes(t.id)||p.filter((function(t){return!t.isArchief&&t.speelgoedId===e.speelgoedId})).map((function(e){return e.periodeId})).includes(t.id))})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:"Van "+e.startDatum+" tot "+e.eindDatum})}))})}),Object(O.jsx)("td",{className:"jt-table-actions",children:Object(O.jsx)(H.a,{variant:"danger",className:"rounded-circle",onClick:function(){return L(e.id)},children:Object(O.jsx)(y.k,{})})})]})}))]}),Object(O.jsx)("tfoot",{children:Object(O.jsxs)("td",{colSpan:4,className:"text-right",children:[Object(O.jsx)(H.a,{as:b.b,to:"/",className:"mr-2",variant:"secondary",children:"Verder Winkelen"}),a.length?Object(O.jsx)(H.a,{as:b.b,to:"/winkelwagenBevestigd",variant:a.length>0?"success":"danger",onClick:function(){return F()},className:"m-2",disabled:!a.length,children:a.length>0?I?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(D.a,{animation:"border",role:"status",variant:"light",children:Object(O.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(O.jsx)("span",{className:"ml-2",children:"Laden..."})]}):"Bevestig":"Winkelwagen is leeg"}):Object(O.jsx)(H.a,{variant:a.length>0?"success":"danger",onClick:function(){return F()},className:"m-2",disabled:!a.length,children:a.length>0?I?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(D.a,{animation:"border",role:"status",variant:"light",children:Object(O.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(O.jsx)("span",{className:"ml-2",children:"Laden..."})]}):"Bevestig":"Winkelwagen is leeg"})]})})]})]})}):Object(O.jsx)(h.a,{to:"/login"})}function me(e){var t=e.isLoggedIn,n=e.winkelWagenResult,r=e.speelgoed,a=e.periodes;return t?Object(O.jsxs)("main",{className:"container",children:[Object(O.jsx)("h1",{children:"Uw reservaties werden verstuurd"}),Object(O.jsxs)("section",{children:[Object(O.jsx)("h2",{children:"Gelukte reservaties"}),Object(O.jsx)("p",{children:"Deze reservaties werden verstuurd goed ontvangen en verwerkt."}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Speelgoed"}),Object(O.jsx)("th",{children:"Periode"})]})}),Object(O.jsx)("tbody",{children:n.reservaties.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:r.filter((function(t){return e.speelgoedId===t.id})).map((function(e){return Object(O.jsxs)(b.b,{to:"/speelgoedfiche?id="+e.id,id:e.id+"-naam",children:[Object(O.jsx)("img",{src:e.foto?e.foto:"/images/placeholder.jpg",className:"jt-table-img",alt:""}),Object(O.jsx)("span",{className:"jt-table-naam",children:e.naam})]})}))}),Object(O.jsx)("td",{children:a.filter((function(t){return e.periodeId===t.id})).map((function(e){return"Van "+e.startDatum+" tot "+e.eindDatum}))})]})}))})]})]}),Object(O.jsxs)("section",{children:[Object(O.jsx)("h2",{children:"Mislukte reservaties"}),n.doubles.length>0?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("p",{children:"Deze reservaties konden niet worden doorgevoerd wegens overlap met andere reservaties. Mogelijks heeft een andere gebruiker juist iets eerder gereserveerd."}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Speelgoed"}),Object(O.jsx)("th",{children:"Periode"})]})}),Object(O.jsx)("tbody",{children:n.doubles.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:r.filter((function(t){return e.speelgoedId===t.id})).map((function(e){return Object(O.jsxs)(b.b,{to:"/speelgoedfiche?id="+e.id,id:e.id+"-naam",children:[Object(O.jsx)("img",{src:e.foto?e.foto:"/images/placeholder.jpg",className:"jt-table-img",alt:""}),Object(O.jsx)("span",{className:"jt-table-naam",children:e.naam})]})}))}),Object(O.jsx)("td",{children:a.filter((function(t){return e.periodeId===t.id})).map((function(e){return"Van "+e.startDatum+" tot "+e.eindDatum}))})]})}))})]})]}):Object(O.jsx)("p",{children:"Alle reservaties werden goed doorgevoerd"})]})]}):Object(O.jsx)(h.a,{to:"/login"})}function ge(e){var t=e.isLoggedIn,n=e.userData,a=e.filteredReservaties,c=e.periodes,i=e.speelgoed,s=e.filters,d=e.categorieen,p=e.leeftijd,f=e.updateFilters,x=e.removeCategorieFromFilters,m=e.onDeleteReservaties,g=Object(r.useState)(!1),v=Object(u.a)(g,2),k=v[0],N=v[1],w=Object(r.useState)([]),C=Object(u.a)(w,2),S=C[0],I=C[1],A=Object(r.useState)(-1),L=Object(u.a)(A,2),D=L[0],F=L[1],T=Object(r.useState)(!1),P=Object(u.a)(T,2),W=P[0],R=P[1],J=Object(r.useState)([]),V=Object(u.a)(J,2),q=V[0],z=V[1];function U(e){R(!0);var t=[];-1===e?t=S:t.push(e),z(t)}function Z(){return(Z=Object(j.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/mijnReservatieDelete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toDelete:q,gebruikerId:n.id})});case 2:return t=e.sent,e.next=5,t.json();case 5:(r=e.sent).ok?m(r.ids):alert("Het verwijderen van een reservatie is mislukt"),Y();case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){R(!1),z([])}return t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("main",{className:"container",children:[Object(O.jsx)("h1",{children:"Mijn Reservaties"}),Object(O.jsx)(M,{filters:s,updateFilters:f,categorieen:d,leeftijd:p,userData:n,removeCategorieFromFilters:x}),Object(O.jsxs)(G.a.Group,{as:E.a,className:"px-3 py-2",children:[Object(O.jsx)(B.a,{xs:"auto",className:"d-flex flex-row align-items-center",children:Object(O.jsx)(G.a.Label,{className:"mb-0",children:"Periode:"})}),Object(O.jsx)(B.a,{xs:"auto",children:Object(O.jsxs)(G.a.Control,{as:"select",value:D,onChange:function(e){return F(parseInt(e.target.value))},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Alle periodes"}),c.filter((function(e){return!e.isArchief})).length>0?c.filter((function(e){return!e.isArchief})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:"Van "+e.startDatum+" tot "+e.eindDatum})})):Object(O.jsx)("option",{value:"-1",children:"Geen periodes beschikbaar"})]})})]}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"jt-table-check-container"}),Object(O.jsx)("th",{children:"Speelgoed"}),Object(O.jsx)("th",{children:"Periode"}),Object(O.jsx)("th",{children:"Bevestigd"}),Object(O.jsx)("th",{})]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){k?(I([]),N(!1)):(I(a.map((function(e){return e.id}))),N(!0))},checked:k})})})}),Object(O.jsx)("td",{colSpan:3}),Object(O.jsx)("td",{className:"jt-table-actions",children:Object(O.jsx)(H.a,{variant:"danger",className:"rounded-circle",onClick:function(){return U(-1)},children:Object(O.jsx)(y.l,{})})})]}),a.filter((function(e){return(-1===D||e.periodeId===D)&&e.gebruikerId===n.id})).map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){return t=e.id,N(!1),void(S.includes(t)?I(S.filter((function(e){return e!==t}))):I([].concat(Object(l.a)(S),[t])));var t},checked:S.includes(e.id)})})})}),Object(O.jsx)("td",{children:Object(O.jsxs)(b.b,{to:"/speelgoedfiche?id="+e.speelgoedId,children:[Object(O.jsx)("img",{src:i.find((function(t){return e.speelgoedId===t.id})).foto?i.find((function(t){return e.speelgoedId===t.id})).foto:"/images/placeholder.jpg",className:"jt-table-img",alt:""}),Object(O.jsx)("span",{className:"jt-table-naam",children:i.find((function(t){return e.speelgoedId===t.id})).naam})]})}),Object(O.jsx)("td",{children:c.find((function(t){return t.id===e.periodeId}))?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:"Van "+c.find((function(t){return t.id===e.periodeId})).startDatum}),Object(O.jsx)("div",{children:"Tot "+c.find((function(t){return t.id===e.periodeId})).eindDatum})]}):Object(O.jsx)(O.Fragment,{})}),Object(O.jsx)("td",{children:e.bevestigd?Object(O.jsx)(_.a,{pill:!0,variant:"primary",children:Object(O.jsx)("span",{children:"Bevestigd"})}):Object(O.jsx)(_.a,{pill:!0,variant:"danger",children:Object(O.jsx)("span",{children:"Niet bevestigd"})})}),Object(O.jsx)("td",{className:"jt-table-actions",children:Object(O.jsx)(H.a,{variant:"danger",className:"rounded-circle",onClick:function(){return U(e.id)},children:Object(O.jsx)(y.l,{})})})]})}))]})]})]}),Object(O.jsxs)(K.a,{show:W,onHide:function(){return Y()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Verwijder reservatie"})}),Object(O.jsxs)(K.a.Body,{children:["Weet u zeker dat u ",q.length," reservatie",1==q.length?"s":""," wilt verwijderen?"]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(H.a,{variant:"secondary",onClick:function(){return Y()},children:"Sluiten"}),Object(O.jsx)(H.a,{variant:"danger",onClick:function(){return function(){return Z.apply(this,arguments)}()},children:"Verwijder"})]})]})]}):Object(O.jsx)(h.a,{to:"/login"})}Oe.defaultProps={initialValue:""};var ve=function(){var e=Object(r.useState)(!0),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(u.a)(c,2),s=i[0],x=i[1],m=Object(r.useState)({isLoggedIn:0}),g=Object(u.a)(m,2),v=g[0],k=g[1],N=Object(r.useState)([]),y=Object(u.a)(N,2),w=y[0],C=y[1],S=Object(r.useState)({categorieen:[],leeftijden:[],showArchief:0}),I=Object(u.a)(S,2),A=I[0],D=I[1],G=Object(r.useState)([]),E=Object(u.a)(G,2),B=E[0],H=E[1],P=Object(r.useState)([]),W=Object(u.a)(P,2),J=W[0],q=W[1],z=Object(r.useState)([]),M=Object(u.a)(z,2),U=M[0],K=M[1],_=Object(r.useState)({id:-1,naam:"Leeftijd",subCategorieen:[]}),Z=Object(u.a)(_,2),Y=Z[0],Q=Z[1],X=Object(r.useState)([]),ee=Object(u.a)(X,2),re=ee[0],ce=ee[1],ie=Object(r.useState)([]),se=Object(u.a)(ie,2),oe=se[0],le=se[1],de=Object(r.useState)([]),Oe=Object(u.a)(de,2),ve=Oe[0],ke=Oe[1],Ne=Object(r.useState)([]),ye=Object(u.a)(Ne,2),we=ye[0],Ce=ye[1],Se=Object(r.useState)([]),Ie=Object(u.a)(Se,2),Ae=Ie[0],Le=Ie[1],De=Object(r.useState)([]),Fe=Object(u.a)(De,2),Te=Fe[0],Ge=Fe[1],Ee=Object(r.useState)({reservaties:[],doubles:[]}),Be=Object(u.a)(Ee,2),He=Be[0],Pe=Be[1];function We(e){return Re.apply(this,arguments)}function Re(){return(Re=Object(j.a)(o.a.mark((function e(t){var n,r,c,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),k(t),e.next=4,bt();case 4:return n=e.sent,e.next=7,ze(n[0],n[1]);case 7:return r=e.sent,e.next=10,Nt();case 10:return e.next=12,St();case 12:return e.next=14,Ft();case 14:return e.next=16,Bt();case 16:return c=e.sent,e.next=19,at(r,s,A);case 19:return i=e.sent,e.next=22,it(c,i,A);case 22:(l=e.sent)&&a(!1),q(i),Le(l);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(){return(Je=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),x(""),k({isLoggedIn:0}),C([]),D({categorieen:[],leeftijden:[],showArchief:0}),H([]),q([]),K([]),Q({id:-1,naam:"Leeftijd",subCategorieen:[]}),ce([]),le([]),ke([]),Ce([]),Le([]),Ge([]),e.next=17,Ve();case 17:e.sent&&a(!1);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ve(){return qe.apply(this,arguments)}function qe(){return(qe=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,fetch("/php/doelgroepen.php");case 3:return t=e.sent,e.next=6,t.json();case 6:if(!(n=e.sent).ok){e.next=10;break}return C(n.doelgroepen),e.abrupt("return",!0);case 10:return alert("Er was een probleem met het laden van de data"),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(e,t){return Me.apply(this,arguments)}function Me(){return(Me=Object(j.a)(o.a.mark((function e(t,n){var r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/speelgoed.php");case 2:return r=e.sent,e.next=5,r.json();case 5:if(!(a=e.sent).ok){e.next=15;break}if(!a.speelgoed){e.next=12;break}return c=[],a.speelgoed.forEach((function(e){c.push(Object(d.a)(Object(d.a)({},e),{},{subCategorieen:e.subCategorieen.filter((function(e){return[].concat.apply([],t.map((function(e){return e.subCategorieen})).map((function(e){return e.map((function(e){return e.id}))}))).includes(e)})),leeftijden:e.subCategorieen.filter((function(e){return n.subCategorieen.map((function(e){return e.id})).includes(e)}))}))})),H(c),e.abrupt("return",c);case 12:return e.abrupt("return",B);case 15:alert("Er was een probleem met het laden van het speelgoed");case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(j.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[].concat(Object(l.a)(B),[t]),H(n),e.next=4,at(n,s,A);case 4:return r=e.sent,q(r),e.next=8,it(we,r,A);case 8:a=e.sent,Le(a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(j.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],B.forEach((function(e){e.id===t.id?n.push(t):n.push(e)})),H(n),e.next=5,at(n,s,A);case 5:return r=e.sent,q(r),e.next=9,it(we,r,A);case 9:a=e.sent,Le(a);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e,t,n){return Qe.apply(this,arguments)}function Qe(){return(Qe=Object(j.a)(o.a.mark((function e(t,n,r){var a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],B.forEach((function(e){t.includes(e.id)?a.push(Object(d.a)(Object(d.a)({},e),{},{isArchief:n,archiefDatum:r})):a.push(e)})),H(a),e.next=5,at(a,s,A);case 5:return c=e.sent,q(c),e.next=9,it(we,c,A);case 9:i=e.sent,Le(i);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(e){return $e.apply(this,arguments)}function $e(){return($e=Object(j.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=B.filter((function(e){return!t.includes(e.id)})),H(n),e.next=4,at(n,s,A);case 4:return r=e.sent,q(r),e.next=8,it(we,r,A);case 8:a=e.sent,Le(a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=Object(j.a)(o.a.mark((function e(t,n){var r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],B.forEach((function(e){t===e.id?r.push(Object(d.a)(Object(d.a)({},e),{},{beschikbaar:n})):r.push(e)})),H(r),e.next=5,at(r,s,A);case 5:return a=e.sent,q(a),e.next=9,it(we,a,A);case 9:c=e.sent,Le(c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(e,t){return rt.apply(this,arguments)}function rt(){return(rt=Object(j.a)(o.a.mark((function e(t,n){var r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],B.forEach((function(e){t===e.id?r.push(Object(d.a)(Object(d.a)({},e),{},{specialeAanvraag:n})):r.push(e)})),H(r),e.next=5,at(r,s,A);case 5:return a=e.sent,q(a),e.next=9,it(we,a,A);case 9:c=e.sent,Le(c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(e,t,n){return ct.apply(this,arguments)}function ct(){return(ct=Object(j.a)(o.a.mark((function e(t,n,r){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t,e.t0=r.showArchief,e.next=0===e.t0?4:1===e.t0?6:8;break;case 4:return a=a.filter((function(e){return!e.isArchief})),e.abrupt("break",9);case 6:return a=a.filter((function(e){return e.isArchief})),e.abrupt("break",9);case 8:return e.abrupt("break",9);case 9:return a=a.filter((function(e){return e.naam.toLowerCase().includes(n.toLowerCase())})),0!==r.leeftijden.length&&(a=a.filter((function(e){return ot(e.leeftijden,r.leeftijden)}))),r.categorieen.forEach((function(e){0!==e.subCategorieen.length&&(a=a.filter((function(t){return ot(t.subCategorieen,e.subCategorieen)})))})),e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e,t,n){return st.apply(this,arguments)}function st(){return(st=Object(j.a)(o.a.mark((function e(t,n,r){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t,e.t0=r.showArchief,e.next=0===e.t0?4:1===e.t0?6:8;break;case 4:return a=a.filter((function(e){return!e.isArchief})),e.abrupt("break",9);case 6:return a=a.filter((function(e){return e.isArchief})),e.abrupt("break",9);case 8:return e.abrupt("break",9);case 9:return a=a.filter((function(e){return n.map((function(e){return e.id})).includes(e.speelgoedId)})),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e,t){var n=!1;return t.forEach((function(t){e.includes(t)&&(n=!0)})),n}function lt(e,t){return dt.apply(this,arguments)}function dt(){return(dt=Object(j.a)(o.a.mark((function e(t,n){var r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={categorieen:[],leeftijden:[],showArchief:0},e.t0=t,e.next="leeftijd"===e.t0?4:"categorie"===e.t0?6:8;break;case 4:return r=Object(d.a)(Object(d.a)({},A),{},{leeftijden:[]}),e.abrupt("break",9);case 6:return r=Object(d.a)(Object(d.a)({},A),{},{categorieen:A.categorieen.filter((function(e){return e.id!==n}))}),e.abrupt("break",9);case 8:return e.abrupt("break",9);case 9:return D(r),e.next=12,at(B,s,r);case 12:return a=e.sent,q(a),e.next=16,it(we,a,r);case 16:c=e.sent,Le(c);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e,t,n,r){return ut.apply(this,arguments)}function ut(){return(ut=Object(j.a)(o.a.mark((function e(t,n,r,a){var c,i,j,u,b,h,p,O,f,m,g;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="search"===e.t0?3:"leeftijd"===e.t0?13:"subCategorie"===e.t0?24:"showArchief"===e.t0?39:50;break;case 3:return x(n),e.next=6,at(B,n,A);case 6:return i=e.sent,q(i),e.next=10,it(we,i,A);case 10:return j=e.sent,Le(j),e.abrupt("break",51);case 13:return c=Object(d.a)(Object(d.a)({},A),{},{leeftijden:[].concat(Object(l.a)(A.leeftijden.filter((function(e){return!r.includes(e)}))),Object(l.a)(n))}),D(c),e.next=17,at(B,s,c);case 17:return u=e.sent,q(u),e.next=21,it(we,u,c);case 21:return b=e.sent,Le(b),e.abrupt("break",51);case 24:return h=A.categorieen.filter((function(e){return e.id===a})),p=[],h.length>0?(p=h[0].subCategorieen,p=[].concat(Object(l.a)(p.filter((function(e){return!r.includes(e)}))),Object(l.a)(n))):p=n,h={id:a,subCategorieen:p},c=Object(d.a)(Object(d.a)({},A),{},{categorieen:[].concat(Object(l.a)(A.categorieen.filter((function(e){return!(e.id===a)}))),[h])}),D(c),e.next=32,at(B,s,c);case 32:return O=e.sent,q(O),e.next=36,it(we,O,c);case 36:return f=e.sent,Le(f),e.abrupt("break",51);case 39:return c=Object(d.a)(Object(d.a)({},A),{},{showArchief:n}),D(c),e.next=43,at(B,s,c);case 43:return m=e.sent,q(m),e.next=47,it(we,m,c);case 47:return g=e.sent,Le(g),e.abrupt("break",51);case 50:return e.abrupt("break",51);case 51:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(){return ht.apply(this,arguments)}function ht(){return(ht=Object(j.a)(o.a.mark((function e(){var t,n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,fetch("/php/categorieen.php");case 3:return t=e.sent,e.next=6,t.json();case 6:if(!(n=e.sent).ok){e.next=15;break}if(!n.categorieen){e.next=14;break}return r=n.categorieen.filter((function(e){return"Leeftijd"!==e.naam})),c=n.categorieen.filter((function(e){return"Leeftijd"===e.naam}))[0]?n.categorieen.filter((function(e){return"Leeftijd"===e.naam}))[0]:{id:-1,naam:"Leeftijd",subCategorieen:[]},K(r),Q(c),e.abrupt("return",[r,c]);case 14:return e.abrupt("return",[U,Y]);case 15:return alert("Er was een probleem met het laden van de categorieen"),e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e){"Leeftijd"===e.naam?Q(Object(d.a)(Object(d.a)({},e),{},{subCategorieen:[]})):K([].concat(Object(l.a)(U),[Object(d.a)(Object(d.a)({},e),{},{subCategorieen:[]})]))}function Ot(e,t){if("Leeftijd"!==t.naam){var n=[];U.forEach((function(r){r.id===t.id?n.push(Object(d.a)(Object(d.a)({},t),{},{subCategorieen:[].concat(Object(l.a)(t.subCategorieen),[e])})):n.push(r)})),K(n)}else Q(Object(d.a)(Object(d.a)({},t),{},{subCategorieen:[].concat(Object(l.a)(t.subCategorieen),[e])}))}function ft(e,t){var n=[];U.forEach((function(r){r.id===t.id?n.push(Object(d.a)(Object(d.a)({},t),{},{naam:e})):n.push(r)})),K(n)}function xt(e,t,n){if("Leeftijd"===t.naam){var r=[];return t.subCategorieen.forEach((function(t){t.id===n?r.push({id:n,naam:e}):r.push(t)})),void Q(Object(d.a)(Object(d.a)({},t),{},{subCategorieen:r}))}var a=[];U.forEach((function(r){if(r.id===t.id){var c=[];t.subCategorieen.forEach((function(t){t.id===n?c.push({id:n,naam:e}):c.push(t)})),a.push(Object(d.a)(Object(d.a)({},t),{},{subCategorieen:c}))}else a.push(r)})),K(a)}function mt(e,t,n){if(n)K(U.filter((function(e){return e.id!==t.id})));else if("Leeftijd"!==t.naam){var r=[];U.forEach((function(n){n.id===t.id?r.push(Object(d.a)(Object(d.a)({},t),{},{subCategorieen:t.subCategorieen.filter((function(t){return!e.includes(t.id)}))})):r.push(n)})),K(r)}else Q(Object(d.a)(Object(d.a)({},t),{},{subCategorieen:t.subCategorieen.filter((function(t){return!e.includes(t.id)}))}))}function gt(e){C([].concat(Object(l.a)(w),[e]))}function vt(e){var t=[];w.forEach((function(n){n.id===e.id?t.push(Object(d.a)(Object(d.a)({},e),{},{isArchief:n.isArchief})):t.push(n)})),C(t)}function kt(e,t){var n=[];w.forEach((function(r){r.id===e?n.push(Object(d.a)(Object(d.a)({},w.find((function(t){return t.id===e}))),{},{isArchief:t})):n.push(r)})),C(n)}function Nt(){return yt.apply(this,arguments)}function yt(){return(yt=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/periodes.php");case 2:return t=e.sent,e.next=5,t.json();case 5:if(!(n=e.sent).ok){e.next=9;break}return ce(n.periodes),e.abrupt("return",n.periodes);case 9:return e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e){ce([].concat(Object(l.a)(re),[e]))}function Ct(e){var t=[];re.forEach((function(n){n.id===e.id?t.push(e):t.push(n)})),ce(t)}function St(){return It.apply(this,arguments)}function It(){return(It=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/gebruikers.php");case 2:return t=e.sent,e.next=5,t.json();case 5:if(!(n=e.sent).ok){e.next=9;break}return le(n.gebruikers),e.abrupt("return",n.gebruikers);case 9:return e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(e){le([].concat(Object(l.a)(oe),[e]))}function Lt(e){var t=[];oe.forEach((function(n){n.id===e.id?t.push(e):t.push(n)})),le(t)}function Dt(e){le(oe.filter((function(t){return!e.includes(t.id)})))}function Ft(){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/reviews.php");case 2:return t=e.sent,e.next=5,t.json();case 5:if(!(n=e.sent).ok){e.next=9;break}return ke(n.reviews),e.abrupt("return",n.reviews);case 9:return e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gt(e){ke([].concat(Object(l.a)(ve),[e]))}function Et(e){ke(ve.filter((function(t){return!e.includes(t.id)})))}function Bt(){return Ht.apply(this,arguments)}function Ht(){return(Ht=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/reservaties.php");case 2:return t=e.sent,e.next=5,t.json();case 5:if(!(n=e.sent).ok){e.next=9;break}return Ce(n.reservaties),e.abrupt("return",n.reservaties);case 9:return e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(e){return Wt.apply(this,arguments)}function Wt(){return(Wt=Object(j.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[].concat(Object(l.a)(we),[t]),Ce(n),e.next=4,it(n,J,A);case 4:r=e.sent,Le(r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rt(e,t,n,r){return Jt.apply(this,arguments)}function Jt(){return(Jt=Object(j.a)(o.a.mark((function e(t,n,r,a){var c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],we.forEach((function(e){e.id===t?c.push(Object(d.a)(Object(d.a)({},e),{},{speelgoedId:n,gebruikerId:r,periodeId:a})):c.push(e)})),Ce(c),e.next=5,it(c,J,A);case 5:i=e.sent,Le(i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vt(e,t,n){return qt.apply(this,arguments)}function qt(){return(qt=Object(j.a)(o.a.mark((function e(t,n,r){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],we.forEach((function(e){t.includes(e.id)?a.push(Object(d.a)(Object(d.a)({},e),{},{isArchief:n,archiefDatum:r})):a.push(e)})),Ce(a),e.next=5,it(a,J,A);case 5:c=e.sent,Le(c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zt(e,t){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(j.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],we.forEach((function(e){t.includes(e.id)?r.push(Object(d.a)(Object(d.a)({},e),{},{bevestigd:n})):r.push(e)})),Ce(r),e.next=5,it(r,J,A);case 5:a=e.sent,Le(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(e){return Kt.apply(this,arguments)}function Kt(){return(Kt=Object(j.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=we.filter((function(e){return!t.includes(e.id)})),Ce(n),e.next=4,it(n,J,A);case 4:r=e.sent,Le(r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(e,t){var n={speelgoedId:e,periodeId:t,gebruikerId:v.id},r=1;Te.length>0&&(r=Te[Te.length-1].id+1),n=Object(d.a)(Object(d.a)({},n),{},{id:r}),Ge([].concat(Object(l.a)(Te),[n]))}function Zt(e,t){var n=[];Te.forEach((function(r){r.id===e?n.push(Object(d.a)(Object(d.a)({},r),{},{periodeId:t})):n.push(r)})),Ge(n)}function Yt(e){Ge(Te.filter((function(t){return!e.includes(t.id)})))}function Qt(e){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(j.a)(o.a.mark((function e(t){var n,r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ge([]),Pe(t),!(t.doubles.length>0)){e.next=14;break}return a(!0),e.next=6,Bt();case 6:return n=e.sent,e.next=9,it(n,B,A);case 9:(r=e.sent)&&a(!1),Le(r),e.next=20;break;case 14:return c=[].concat(Object(l.a)(we),Object(l.a)(t.reservaties)),Ce(c),e.next=18,it(c,B,A);case 18:i=e.sent,Le(i);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){Ve()&&a(!1)}),[]),n?Object(O.jsx)("main",{className:"jt-loading-screen",children:Object(O.jsx)(F,{})}):Object(O.jsx)(b.a,{children:Object(O.jsxs)("div",{className:"jt-wrapper",children:[Object(O.jsx)(f,{}),Object(O.jsx)(L,{isLoggedIn:v.isLoggedIn,role:v.role,onLogout:function(){return Je.apply(this,arguments)},updateFilters:jt,searchbarText:s,winkelWagen:Te}),v.isLoggedIn?Object(O.jsx)(p.a,{show:v.doelgroep!==v.sessDoelgroep,variant:"danger",children:Object(O.jsxs)("p",{className:"mb-0",children:["U bent momenteel ingelogd bij Speelotheek\xa0",Object(O.jsx)("strong",{children:w.filter((function(e){return e.id===v.sessDoelgroep}))[0].naam}),". Gelieve opnieuw in te loggen indien u wenst over te schakelen naar Speelotheek\xa0",Object(O.jsx)("strong",{children:w.filter((function(e){return e.id===v.doelgroep}))[0].naam}),"."]})}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(h.b,{path:"/login",exact:!0,render:function(){return Object(O.jsx)(R,{onLogin:We,doelgroepen:w,isLoggedIn:v.isLoggedIn})}}),Object(O.jsx)(h.b,{path:"/sign_up",exact:!0,render:function(){return Object(O.jsx)(V,{doelgroepen:w,isLoggedIn:v.isLoggedIn})}}),Object(O.jsx)(h.b,{path:"/",exact:!0,render:function(){return Object(O.jsx)($,{isLoggedIn:v.isLoggedIn,filters:A,updateFilters:jt,categorieen:U,leeftijd:Y,userData:v,removeCategorieFromFilters:lt,filteredSpeelgoed:J,periodes:re,onWinkelWagenAdd:_t,winkelWagen:Te,reservaties:we})}}),Object(O.jsx)(h.b,{path:"/admin/speelgoed",exact:!0,render:function(){return Object(O.jsx)(te,{isLoggedIn:v.isLoggedIn,filteredSpeelgoed:J,filters:A,updateFilters:jt,removeCategorieFromFilters:lt,archiveSpeelgoed:Ye,onDeleteSpeelgoed:Xe,onToggleBeschikbaar:et,onToggleSpecialeAanvraag:nt,categorieen:U,leeftijd:Y,userData:v})}}),Object(O.jsx)(h.b,{path:"/admin/speelgoedfiche",exact:!0,render:function(){return Object(O.jsx)(ne,{isLoggedIn:v.isLoggedIn,doelgroepen:w,userData:v,categorieen:U,leeftijd:Y,speelgoed:B,onAddSpeelgoed:Ue,onUpdateSpeelgoed:_e,onDeleteSpeelgoed:Xe})}}),Object(O.jsx)(h.b,{path:"/admin/categorieen",exact:!0,render:function(){return Object(O.jsx)(ae,{isLoggedIn:v.isLoggedIn,categorieen:U,leeftijd:Y,onAddCategorie:pt,onAddSubCategorie:Ot,onRemoveSubCategorie:mt,onEditCategorie:ft,onEditSubCategorie:xt})}}),Object(O.jsx)(h.b,{path:"/speelgoedfiche",exact:!0,render:function(){return Object(O.jsx)(je,{isLoggedIn:v.isLoggedIn,speelgoed:B,categorieen:U,leeftijd:Y,userData:v,reviews:ve,gebruikers:oe,periodes:re,onAddReview:Gt,reservaties:we,onWinkelWagenAdd:_t,winkelWagen:Te})}}),Object(O.jsx)(h.b,{path:"/admin/doelgroepen",exact:!0,render:function(){return Object(O.jsx)(ue,{isLoggedIn:v.isLoggedIn,doelgroepen:w,onAddDoelgroep:gt,onEditDoelgroep:vt,onArchiveDoelgroep:kt})}}),Object(O.jsx)(h.b,{path:"/admin/periodes",exact:!0,render:function(){return Object(O.jsx)(be,{isLoggedIn:v.isLoggedIn,periodes:re,onAddPeriode:wt,onEditPeriode:Ct})}}),Object(O.jsx)(h.b,{path:"/admin/gebruikers",exact:!0,render:function(){return Object(O.jsx)(he,{isLoggedIn:v.isLoggedIn,gebruikers:oe,doelgroepen:w,onAddGebruiker:At,onEditGebruiker:Lt,onDeleteGebruiker:Dt,userData:v})}}),Object(O.jsx)(h.b,{path:"/admin/reviews",exact:!0,render:function(){return Object(O.jsx)(pe,{isLoggedIn:v.isLoggedIn,filters:A,categorieen:U,leeftijd:Y,userData:v,reviews:ve,gebruikers:oe,updateFilters:jt,removeCategorieFromFilters:lt,filteredSpeelgoed:J,onDeleteReview:Et})}}),Object(O.jsx)(h.b,{path:"/admin/reservaties",exact:!0,render:function(){return Object(O.jsx)(fe,{isLoggedIn:v.isLoggedIn,filters:A,updateFilters:jt,removeCategorieFromFilters:lt,categorieen:U,leeftijd:Y,userData:v,filteredReservaties:Ae,speelgoed:B,gebruikers:oe,periodes:re,onAddReservatie:Pt,onEditReservatie:Rt,onDeleteReservaties:Ut,reservaties:we,onArchiveReservaties:Vt,onConfirmReservaties:zt})}}),Object(O.jsx)(h.b,{path:"/winkelwagen",exact:!0,render:function(){return Object(O.jsx)(xe,{isLoggedIn:v.isLoggedIn,winkelWagen:Te,onWinkelWagenDelete:Yt,speelgoed:B,periodes:re,onWinkelWagenEdit:Zt,reservaties:we,onWinkelWagenCommit:Qt})}}),Object(O.jsx)(h.b,{path:"/winkelwagenBevestigd",exact:!0,render:function(){return Object(O.jsx)(me,{isLoggedIn:v.isLoggedIn,winkelWagenResult:He,speelgoed:B,periodes:re})}}),Object(O.jsx)(h.b,{path:"/mijnreservaties",exact:!0,render:function(){return Object(O.jsx)(ge,{isLoggedIn:v.isLoggedIn,filters:A,updateFilters:jt,removeCategorieFromFilters:lt,categorieen:U,leeftijd:Y,userData:v,filteredReservaties:Ae,speelgoed:B,periodes:re,onDeleteReservaties:Ut})}}),Object(O.jsx)("div",{className:"jt-wrapper-fill"}),Object(O.jsx)(T,{}),Object(O.jsx)(f,{})]})})};i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(ve,{})}),document.getElementById("root"))},89:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.b242115d.chunk.js.map