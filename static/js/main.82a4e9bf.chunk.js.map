{"version":3,"sources":["components/Banner.js","components/Searchbar.js","components/CustomNavLink.js","components/CustomNavDropdown.js","components/CustomNav.js","components/SearchbarUnder.js","components/Header.js","components/Loading.js","components/Footer.js","components/LoginForm.js","pages/LoginPage.js","components/SignUpForm.js","pages/SignUpPage.js","components/Filter.js","components/Filters.js","components/SpeelgoedCard.js","components/SpeelgoedToegevoegd.js","pages/HomePage.js","pages/admin/AdminSpeelgoedPage.js","pages/admin/AdminSpeelgoedFichePage.js","components/CategorieTable.js","pages/admin/AdminCategorieenPage.js","components/WaarderingsSterren.js","components/Review.js","pages/SpeelgoedFichePage.js","pages/admin/AdminDoelgroepenPage.js","pages/admin/AdminPeriodesPage.js","pages/admin/AdminGebruikersPage.js","pages/admin/AdminReviewPage.js","components/SearchSelect.js","pages/admin/AdminReservatiePage.js","pages/WinkelWagenPage.js","pages/WinkelWagenBevestigdPage.js","pages/MijnReservatiesPage.js","App.js","index.js"],"names":["Banner","className","Searchbar","isLoggedIn","toggleSearchbar","searchbarActive","updateFilters","searchbarText","OverlayTrigger","placement","overlay","Tooltip","onClick","size","id","type","placeholder","onChange","e","target","value","CustomNavLink","title","faIcon","collapse","to","shoppingCartLength","Nav","Link","as","CustomNavDropown","dropdownMenu","Dropdown","Item","Toggle","CustomNav","role","onLogout","winkelWagen","history","useHistory","a","fetch","res","json","Navbar","activeKey","expand","length","goBack","NavbarBrand","src","width","height","alt","aria-controls","Collapse","Menu","SearchbarUnder","Header","useState","showSearchbar","setShowSearchbar","defaultProps","Loading","Spinner","animation","Footer","LoginForm","onLogin","onLoginFailed","doelgroepen","user","setUser","pass","setPass","doelgroep","setDoelgroep","validated","setValidated","validate","alert","preventDefault","encrpass","sha256","method","headers","body","JSON","stringify","data","Form","onSubmit","Group","Row","controlId","Label","column","lg","Col","Control","required","filter","item","map","Button","variant","LoginPage","showAlert","setShowAlert","errMsg","setErrMsg","Alert","show","onClose","dismissible","SignUpForm","onSignUp","email","setEmail","passConfirm","setPassConfirm","SignUpPage","showAlertSuccess","setShowAlertSuccess","showAlertFail","setShowAlertFail","Heading","signUpSuccess","Filter","categorie","filters","initialShow","categorieChecked","setCategorieChecked","sc","concat","apply","c","includes","checked","setChecked","Card","Body","Title","Check","label","newChecked","toggleCategorieChecked","Text","subCategorie","scId","Filters","categorieen","leeftijd","userData","removeCategorieFromFilters","showCategorieen","setShowCategorieen","showLeeftijd","setShowLeeftijd","xs","parseInt","SpeelgoedCard","speelgoedItem","addSpeelgoed","reservaties","periodes","bg","text","min","ideal","max","readMoreText","lt","Badge","pill","wwItem","disabled","SpeelgoedToegevoegd","onHide","periode","Modal","closeButton","HomePage","filteredSpeelgoed","onWinkelWagenAdd","addSpeelgoedToWinkelWagen","setAddSpeelgoedToWinkelWagen","toAddSpeelgoed","setToAddSpeelgoed","showToegevoegd","setShowToegevoegd","toegevoedSpeelgoed","setToegevoegdSpeelgoed","toegevoegdPeriode","setToegevoegdPeriode","onShowModal","onHideModal","CardColumns","speelgoedId","periodeId","find","AdminSpeelgoedPage","archiveSpeelgoed","onDeleteSpeelgoed","onToggleBeschikbaar","onToggleSpecialeAanvraag","location","useLocation","action","setAction","speelgoedChecked","setSpeelgoedChecked","allChecked","setAllChecked","showDeleteConfirm","setShowDeleteConfirm","toDelete","setToDelete","archiveSpeelgoedRemote","isArchief","ids","push","today","Date","todayString","getFullYear","getMonth","getDate","deleteSpeelgoedLocal","del","deleteSpeelgoedRemote","status","useEffect","query","search","variables","slice","split","forEach","variable","Table","striped","bordered","hover","speelgoed","colSpan","toggleBeschikbaarRemote","toggleSpecialeAanvraagRemote","AdminSpeelgoedFichePage","onAddSpeelgoed","onUpdateSpeelgoed","setId","undefined","foto","setFoto","titel","setTitel","oudCode","setOudCode","selectLeeftijd","setSelectLeeftijd","selectSubCategorieen","setSelectSubCategorieen","merk","setMerk","aankoopDatum","setAankoopDatum","inhoudItems","setInhoudItems","tipItems","setTipItems","korteInhoud","setKorteInhoud","bijlages","setBijlages","beschikbaar","setBeschikbaar","specialeAanvraag","setSpecialeAanvraag","formData","FormData","append","changeItems","inhoudItem","newInhoudItems","newInhoudItem","changeTips","tipItem","newTipItems","newTipItem","changeBijlage","bijlage","newBijlages","newBijlage","files","toggleSelect","URL","createObjectURL","changeFoto","htmlSize","custom","multiple","selected","onBlur","rows","href","CategorieTable","onAddSubCategorie","onRemoveSubCategorie","onEditCategorie","onEditSubCategorie","subCategorieInEditMode","setSubCategorieInEditMode","categorieInEditMode","setCategorieInEditMode","showBody","setShowBody","subCategorieNaam","setSubCategorieNaam","editedCategorieNaam","setEditedCategorieNaam","editedSubCategorieNaam","setEditedSubCategorieNaam","editSubCategorieRemote","removeSubCategorieRemote","subCategorieId","subCategorieIds","removeCategorie","toggleSubCategorieEditMode","AdminCategorieenPage","onAddCategorie","categorieNaam","setCategorieNaam","waarderingsSterren","waardering","count","edit","activeColor","Review","review","gebruiker","Subtitle","SpeelgoedFichePage","reviews","gebruikers","onAddReview","loading","setLoading","setSpeelgoedItem","reservatiePeriode","setReservatiePeriode","reviewToAdd","setReviewToAdd","ratingChanged","newRating","NavLink","md","xl","ListGroup","htmlFor","srOnly","AdminDoelgroepenPage","onAddDoelgroep","onEditDoelgroep","onArchiveDoelgroep","showArchief","setShowArchief","addDoelgroep","setAddDoelgroep","doelgroepNaam","setDoelgroepNaam","editDoelgroepNaam","setEditDoelgroepNaam","editDoelgroep","setEditDoelgroep","toggleArchiveDoelgroepRemote","editDoelgroepRemote","AdminPeriodesPage","onAddPeriode","onEditPeriode","addPeriode","setAddPeriode","currentEditPeriode","setCurrentEditPeriode","editedPeriodeStart","setEditedPeriodeStart","editedPeriodeEind","setEditedPeriodeEind","periodesChecked","setPeriodesChecked","nieuwePeriodeStart","setNieuwePeriodeStart","nieuwePeriodeEind","setNieuwePeriodeEind","toggleArchivePeriodeRemote","editPeriodeRemote","AdminGebruikersPage","onAddGebruiker","onEditGebruiker","onDeleteGebruiker","addGebruiker","setAddGebruiker","gebruikersChecked","setGebruikersChecked","currentEditedGebruiker","setCurrentEditedGebruiker","changePassword","setChangePassword","nieuweGebruiker","setNieuweGebruiker","onHideModalAdd","onHideModalEdit","onHideModalDelete","gebruikerId","newRole","toggleArchiveGebruikerRemote","deleteGebruikerLocal","editRoleRemote","deleteGebruikerRemote","AdminReviewPage","onDeleteReview","reviewsChecked","setReviewsChecked","showInhoud","setShowInhoud","deleteReviewLocal","reviewId","deleteReviewRemote","SearchSelect","selectList","onSelect","initialValue","focus","setFocus","setText","filteredList","setFilteredList","onChangeInput","toLowerCase","selectSpeelgoed","naam","onFocus","AdminReservatiePage","filteredReservaties","onAddReservatie","onEditReservatie","onDeleteReservaties","onArchiveReservaties","onConfirmReservaties","reservatiesChecked","setReservatiesChecked","filterPeriode","setFilterPeriode","filterGebruiker","setFilterGebruiker","filterBevestigd","setFilterBevestigd","returnList","setReturnList","returnPeriode","setReturnPeriode","showAddModal","setShowAddModal","showEditModal","setShowEditModal","showDeleteModal","setShowDeleteModal","toAddReservatie","setToAddReservatie","toEditReservatie","setToEditReservatie","deleteReservatieLocal","archiveReservatieRemote","confirmReservatieRemote","bevestigd","reservatie","spg","editReservatieLocal","defaultValue","deleteReservatieRemote","WinkelWagenPage","onWinkelWagenDelete","onWinkelWagenEdit","onWinkelWagenCommit","itemsChecked","setItemsChecked","committing","setCommitting","onWinkelWagenDeleteLocal","onWinkelWagenCommitLocal","itemId","WinkelWagenBevestigdPage","winkelWagenResult","MijnReservatiesPage","App","setSearchbarText","setUserData","setDoelgroepen","setFilters","setSpeelgoed","setFilteredSpeelgoed","setCategorieen","setLeeftijd","setPeriodes","setGebruikers","setReviews","setReservaties","setFilteredReservaties","setWinkelWagen","setWinkelWagenResult","login","initCategorie","catRes","initSpeelgoed","spgRes","initPeriodes","initGebruikers","initReviews","initReservaties","resRes","filterSpeelgoed","fltSpgRes","filterReservaties","fltResRes","initDoelgroepen","newSpeelgoed","scen","result","updatedSpeelgoed","archiefDatum","toFilter","sg","hasInCommon","newReservaties","array1","array2","newFilters","newValue","deleteValue","fltSpgResSearch","fltResResSearch","fltSpgResLeeftijd","fltResResLeeftijd","filterCategorie","filterSubCategorieen","fltSpgResCat","fltResResCat","newCategorieen","newCategorieNaam","newSubCategorieNaam","newSubCategorieen","removedSubCategorieIds","categorieRemoved","newDoelgroepen","newPeriodes","newGebruikers","newItem","newWinkelwagen","path","exact","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.82a4e9bf.chunk.js","sourcesContent":["export default function Banner () {\r\n    return (\r\n        <div className=\"jt-banner jt-no-print\"></div>\r\n    )\r\n}","import {OverlayTrigger, Tooltip} from \"react-bootstrap\";\r\nimport {FaSearch} from 'react-icons/fa'\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function Searchbar({isLoggedIn, toggleSearchbar, searchbarActive, updateFilters, searchbarText}) {\r\n    return (\r\n        <>\r\n        {isLoggedIn\r\n            ?\r\n                <>\r\n                    <div className=\"jt-searchbar-expand\">\r\n                        <div className=\"flex-fill\"></div>\r\n                        <OverlayTrigger\r\n                            key=\"bottom\"\r\n                            placement=\"bottom\"\r\n                            overlay={\r\n                                <Tooltip>\r\n                                    Zoeken\r\n                                </Tooltip>\r\n                            }\r\n                        >\r\n                            <div className=\"jt-searchbar-button border-0\">\r\n                                <a onClick={toggleSearchbar} className={searchbarActive ? \"jt-searchbar-link jt-searchbar-link-active\" : \"jt-searchbar-link\"}><FaSearch size=\"1.5em\"/></a>\r\n                            </div>\r\n                        </OverlayTrigger>\r\n                    </div>\r\n                    <div className=\"jt-searchbar jt-searchbar-full\">\r\n                        <div className=\"jt-searchbar-container\">\r\n                            <input\r\n                                id=\"searchbar\"\r\n                                type=\"text\"\r\n                                placeholder=\"Zoeken\"\r\n                                className=\"jt-searchbar-input\"\r\n                                onChange={(e) => updateFilters(\"search\", e.target.value, false)}\r\n                                value={searchbarText}\r\n                            />\r\n                            {/*<OverlayTrigger*/}\r\n                            {/*    key=\"bottom\"*/}\r\n                            {/*    placement=\"bottom\"*/}\r\n                            {/*    overlay={*/}\r\n                            {/*        <Tooltip>*/}\r\n                            {/*            Zoeken*/}\r\n                            {/*        </Tooltip>*/}\r\n                            {/*    }*/}\r\n                            {/*>*/}\r\n                            {/*    <div className=\"jt-searchbar-button bg-white\">*/}\r\n                            {/*        <Link to=\"/\" className=\"jt-searchbar-link\"><FaSearch size=\"1.6em\"/></Link>*/}\r\n                            {/*    </div>*/}\r\n                            {/*</OverlayTrigger>*/}\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            :\r\n                <div className=\"flex-fill\"></div>\r\n        }\r\n        </>\r\n    )\r\n}","import {Nav, OverlayTrigger, Tooltip} from \"react-bootstrap\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function CustomNavLink ({title, faIcon, collapse, to, shoppingCartLength}) {\r\n\r\n    return (\r\n        <OverlayTrigger\r\n            key=\"bottom\"\r\n            placement=\"bottom\"\r\n            overlay={\r\n                <Tooltip className={\"d-none d-\"+collapse+\"-block\"}>\r\n                    {title}\r\n                </Tooltip>\r\n            }\r\n        >\r\n            <Nav.Link to={to} as={Link} className=\"position-relative\">\r\n                {faIcon}\r\n                <span className=\"d-md-none ml-2\">{title}</span>\r\n                {shoppingCartLength > 0\r\n                    ?\r\n                    <div className=\"jt-shopping-cart-number\">\r\n                        <span>{shoppingCartLength}</span>\r\n                    </div>\r\n                    :\r\n                    <></>\r\n                }\r\n            </Nav.Link>\r\n        </OverlayTrigger>\r\n    )\r\n}\r\n\r\nCustomNavLink.defaultProps = {\r\n    shoppingCartLength: 0\r\n}","import {Dropdown, Nav, OverlayTrigger, Tooltip} from \"react-bootstrap\";\r\n\r\nexport default function CustomNavDropown ({title, faIcon, collapse, dropdownMenu}) {\r\n\r\n    return (\r\n        <Dropdown as={Nav.Item} className=\"d-flex align-items-center\">\r\n            <OverlayTrigger\r\n                key=\"bottom\"\r\n                placement=\"bottom\"\r\n                overlay={\r\n                    <Tooltip className={\"d-none d-\"+collapse+\"-block\"}>\r\n                        {title}\r\n                    </Tooltip>\r\n                }\r\n            >\r\n                <Dropdown.Toggle as={Nav.Link}>\r\n                    {faIcon}\r\n                    <span className=\"d-md-none ml-2\">{title}</span>\r\n                </Dropdown.Toggle>\r\n            </OverlayTrigger>\r\n            {dropdownMenu}\r\n        </Dropdown>\r\n    )\r\n}","import {Nav, Navbar, NavbarBrand, Dropdown, Tooltip, OverlayTrigger, Button} from \"react-bootstrap\";\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport {FaHome, FaUserLock, FaUser, FaShoppingCart, FaRegArrowAltCircleLeft} from 'react-icons/fa';\r\n\r\nimport Searchbar from \"./Searchbar\";\r\nimport CustomNavLink from \"./CustomNavLink\";\r\nimport CustomNavDropown from \"./CustomNavDropdown\";\r\n\r\nexport default function CustomNav ({isLoggedIn, role, onLogout, toggleSearchbar, searchbarActive,\r\n                                       updateFilters, searchbarText, winkelWagen}) {\r\n    let history = useHistory();\r\n\r\n    async function logout() {\r\n        const res = await fetch('/php/logout.php');\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onLogout();\r\n        }\r\n    }\r\n\r\n    // Redirect functions\r\n    function historyBack() {\r\n        if (history.length < 2) return;\r\n        history.goBack();\r\n    }\r\n\r\n    const collapse = \"md\";\r\n    return (\r\n        <>\r\n            <Navbar activeKey=\"/\" className=\"bg-light p-2 container-fluid\" expand={collapse}>\r\n                <OverlayTrigger\r\n                    key=\"bottom\"\r\n                    placement=\"bottom\"\r\n                    overlay={\r\n                        <Tooltip className={\"d-none d-\"+collapse+\"-block\"}>\r\n                            Go back\r\n                        </Tooltip>\r\n                    }\r\n                >\r\n                    <Nav>\r\n                        <Nav.Link as={Link} onClick={historyBack} className=\"px-2\">\r\n                            <FaRegArrowAltCircleLeft size=\"1.8em\"/>\r\n                        </Nav.Link>\r\n                    </Nav>\r\n                </OverlayTrigger>\r\n                <NavbarBrand to=\"/\" as={Link} className=\"d-flex align-items-center\">\r\n                    <img src=\"./images/logo_tballonneke_klein.svg\" width=\"48\" height=\"48\" alt=\"Logo\"/>\r\n                    <span className=\"jt-nav-title d-none d-sm-inline\">Speelotheek</span>\r\n                </NavbarBrand>\r\n                <Searchbar\r\n                    isLoggedIn={isLoggedIn}\r\n                    toggleSearchbar={toggleSearchbar}\r\n                    searchbarActive={searchbarActive}\r\n                    updateFilters={updateFilters}\r\n                    searchbarText={searchbarText}\r\n                />\r\n                <Navbar.Toggle aria-controls=\"navbar-links\" className=\"border-0\"/>\r\n                <Navbar.Collapse className=\"jt-nav-collapse\" id=\"navbar-links\">\r\n                    <Nav>\r\n                        {isLoggedIn\r\n                            ?\r\n                            <>\r\n                                <Nav.Item className=\"d-flex align-items-center\">\r\n                                    <CustomNavLink\r\n                                        title=\"Home\"\r\n                                        faIcon={<FaHome size=\"1.8em\"/>}\r\n                                        collapse={collapse}\r\n                                        to=\"/\"\r\n                                    />\r\n                                </Nav.Item>\r\n                                {role === \"Admin\"\r\n                                    ?\r\n                                    <CustomNavDropown\r\n                                        title=\"Admin\"\r\n                                        faIcon={<FaUserLock size=\"1.8em\"/>}\r\n                                        collapse={collapse}\r\n                                        dropdownMenu={\r\n                                            <Dropdown.Menu className=\"bg-light dropdown-menu-right\">\r\n                                                <Dropdown.Item to=\"/admin/speelgoed\" as={Link} className=\"bg-light text-dark\">Speelgoed</Dropdown.Item>\r\n                                                <Dropdown.Item to=\"/admin/reservaties\" as={Link} className=\"bg-light text-dark\">Reservaties</Dropdown.Item>\r\n                                                <Dropdown.Item to=\"/admin/gebruikers\" as={Link} className=\"bg-light text-dark\">Gebruikers</Dropdown.Item>\r\n                                                <Dropdown.Item to=\"/admin/categorieen\" as={Link} className=\"bg-light text-dark\">Categorieën</Dropdown.Item>\r\n                                                <Dropdown.Item to=\"/admin/periodes\" as={Link} className=\"bg-light text-dark\">Periodes</Dropdown.Item>\r\n                                                <Dropdown.Item to=\"/admin/reviews\" as={Link} className=\"bg-light text-dark\">Reviews</Dropdown.Item>\r\n                                                <Dropdown.Item to=\"/admin/doelgroepen\" as={Link} className=\"bg-light text-dark\">Doelgroepen</Dropdown.Item>\r\n                                            </Dropdown.Menu>\r\n                                        }\r\n                                    />\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                                <Nav.Item className=\"d-flex align-items-center\">\r\n                                    <CustomNavLink\r\n                                        title=\"Winkelkar\"\r\n                                        faIcon={<FaShoppingCart size=\"1.8em\"/>}\r\n                                        collapse={collapse}\r\n                                        to=\"/winkelwagen\"\r\n                                        shoppingCartLength={winkelWagen.length}\r\n                                    />\r\n                                </Nav.Item>\r\n                                <CustomNavDropown\r\n                                    title=\"Profiel\"\r\n                                    faIcon={<FaUser size=\"1.8em\"/>}\r\n                                    collapse={collapse}\r\n                                    dropdownMenu={\r\n                                        <Dropdown.Menu className=\"bg-light dropdown-menu-right\">\r\n                                            <Dropdown.Item to=\"/mijnreservaties\" as={Link} className=\"bg-light text-dark\">Mijn reservaties</Dropdown.Item>\r\n                                            <Dropdown.Item onClick={logout} className=\"bg-light text-dark\">Logout</Dropdown.Item>\r\n                                        </Dropdown.Menu>\r\n                                    }\r\n\r\n                                />\r\n                            </>\r\n                            :\r\n                            <>\r\n                                <Nav.Item className=\"d-flex align-items-center\">\r\n                                    <Nav.Link to=\"/login\" as={Link}>Login</Nav.Link>\r\n                                </Nav.Item>\r\n                                <Nav.Item className=\"d-flex align-items-center\">\r\n                                    <Nav.Link to=\"/sign_up\" as={Link}>Registreer</Nav.Link>\r\n                                </Nav.Item>\r\n                            </>\r\n                        }\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n        </>\r\n    )\r\n}","import {OverlayTrigger, Tooltip} from \"react-bootstrap\";\r\nimport {FaSearch} from 'react-icons/fa'\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function SearchbarUnder({isLoggedIn, updateFilters, searchbarText}) {\r\n    return (\r\n        <>\r\n            {isLoggedIn\r\n                ?\r\n                    <div className=\"jt-searchbar d-md-none\">\r\n                        <input\r\n                            id=\"searchbar\"\r\n                            type=\"text\"\r\n                            placeholder=\"Zoeken\"\r\n                            className=\"jt-searchbar-input flex-fill\"\r\n                            onChange={(e) => updateFilters(\"search\", e.target.value, false)}\r\n                            value={searchbarText}\r\n                        />\r\n                        {/*<OverlayTrigger*/}\r\n                        {/*    key=\"bottom\"*/}\r\n                        {/*    placement=\"bottom\"*/}\r\n                        {/*    overlay={*/}\r\n                        {/*        <Tooltip>*/}\r\n                        {/*            Zoeken*/}\r\n                        {/*        </Tooltip>*/}\r\n                        {/*    }*/}\r\n                        {/*>*/}\r\n                        {/*    <div className=\"jt-searchbar-button bg-white\">*/}\r\n                        {/*        <Link to=\"/\" className=\"jt-searchbar-link\"><FaSearch size=\"1.6em\"/></Link>*/}\r\n                        {/*    </div>*/}\r\n                        {/*</OverlayTrigger>*/}\r\n                    </div>\r\n                :\r\n                    <div className=\"flex-fill\"></div>\r\n            }\r\n        </>\r\n    )\r\n}","import CustomNav from \"./CustomNav\";\r\nimport SearchbarUnder from './SearchbarUnder'\r\nimport {useState} from \"react\";\r\n\r\nexport default function Header ({isLoggedIn, role, onLogout, updateFilters, searchbarText, winkelWagen}) {\r\n    const [showSearchbar, setShowSearchbar] = useState(false);\r\n\r\n    function toggleSearchbar() {\r\n        setShowSearchbar(!showSearchbar);\r\n        updateFilters(\"search\", \"\", false);\r\n    }\r\n\r\n    return (\r\n        <header className=\"jt-no-print\">\r\n            <CustomNav\r\n                isLoggedIn={isLoggedIn}\r\n                role={role}\r\n                onLogout={onLogout}\r\n                toggleSearchbar={toggleSearchbar}\r\n                searchbarActive={showSearchbar}\r\n                updateFilters={updateFilters}\r\n                searchbarText={searchbarText}\r\n                winkelWagen={winkelWagen}\r\n            />\r\n            {showSearchbar\r\n                ?\r\n                <SearchbarUnder\r\n                    isLoggedIn={isLoggedIn}\r\n                    updateFilters={updateFilters}\r\n                    searchbarText={searchbarText}\r\n                />\r\n                :\r\n                <></>\r\n            }\r\n        </header>\r\n    )\r\n}","import {Spinner} from \"react-bootstrap\";\r\n\r\nexport default function Loading() {\r\n    return (\r\n        <h2>\r\n            <Spinner animation=\"grow\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n            </Spinner>\r\n            <span className=\"ml-2\">\r\n                Laden...\r\n            </span>\r\n        </h2>\r\n    )\r\n}","export default function Footer() {\r\n    return (\r\n        <footer className=\"container-fluid py-4 jt-no-print\">\r\n            <span>\r\n                &copy; vzw 't Ballonneke\r\n            </span>\r\n        </footer>\r\n    )\r\n}","import {useState} from 'react';\r\nimport {Form, Button, Row, Col} from \"react-bootstrap\";\r\nimport {sha256} from 'js-sha256';\r\n\r\nexport default function LoginForm({onLogin, onLoginFailed, doelgroepen}) {\r\n    const [user,setUser] = useState('');\r\n    const [pass,setPass] = useState('');\r\n    const [doelgroep,setDoelgroep] = useState(-1);\r\n\r\n    const [validated, setValidated] = useState(false);\r\n\r\n    function validate() {\r\n        if (doelgroep === -1) return alert('Selecteer een doelgroep');\r\n        setValidated(true);\r\n    };\r\n\r\n    async function onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        //Validate password\r\n        await validate();\r\n\r\n        if(validated) {\r\n            //Encrypt pass\r\n            const encrpass = sha256(pass);\r\n\r\n            const res = await fetch('./php/login.php', {\r\n                method: 'POST',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify({user, encrpass, doelgroep})\r\n            });\r\n            const data = await res.json();\r\n\r\n            if (data['ok']) {\r\n                onLogin(data['userData']);\r\n            } else {\r\n                onLoginFailed(data['errMsg'] ? data['errMsg'] : \"Emailadres en wachtwoord combinatie onbekend\");\r\n            }\r\n\r\n            setUser('');\r\n            setPass('');\r\n            setValidated(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Form onSubmit={onSubmit}>\r\n            <Form.Group as={Row} controlId=\"formBasicUser\">\r\n                <Form.Label column lg={3}>Naam of email:</Form.Label>\r\n                <Col lg={9}>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        placeholder=\"Voer naam of email in\"\r\n                        value={user}\r\n                        onChange={(e) => setUser(e.target.value)}\r\n                        required\r\n                    />\r\n                </Col>\r\n            </Form.Group>\r\n\r\n            <Form.Group as={Row} controlId=\"formBasicPassword\">\r\n                <Form.Label column lg={3}>Wachtwoord:</Form.Label>\r\n                <Col lg={9}>\r\n                    <Form.Control\r\n                        type=\"password\"\r\n                        placeholder=\"Wachtwoord\"\r\n                        value={pass}\r\n                        onChange={(e) => setPass(e.target.value)}\r\n                        required\r\n                    />\r\n                </Col>\r\n            </Form.Group>\r\n\r\n            <Form.Group as={Row} controlId=\"formBasicDoelgroep\">\r\n                <Form.Label column lg={3}>Doelgroep:</Form.Label>\r\n                <Col lg={9}>\r\n                    <Form.Control\r\n                        as=\"select\"\r\n                        value={doelgroep}\r\n                        onChange={(e) => setDoelgroep(e.target.value)}\r\n                        required\r\n                    >\r\n                        <option value=\"-1\">Kies...</option>\r\n                        {doelgroepen.length > 0 ? doelgroepen.filter(item => !item['isArchief']).map((doelgroep) => (\r\n                                <option value={doelgroep['id']}>{doelgroep['naam']}</option>\r\n                            )\r\n                        ) : <option value=\"-1\">Geen doelgroepen</option>}\r\n                    </Form.Control>\r\n                </Col>\r\n            </Form.Group>\r\n\r\n            <Button variant=\"primary\" type=\"submit\">\r\n                Log in\r\n            </Button>\r\n        </Form>\r\n    )\r\n}\r\n","import {useState} from 'react';\r\nimport {Alert} from \"react-bootstrap\";\r\n\r\nimport LoginForm from \"../components/LoginForm\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nexport default function LoginPage({onLogin, doelgroepen, isLoggedIn}) {\r\n    const [showAlert, setShowAlert] = useState(false);\r\n    const [errMsg, setErrMsg] = useState(\"\");\r\n\r\n    function onLoginFailed(errMsg) {\r\n        setShowAlert(true);\r\n        setErrMsg(errMsg);\r\n    }\r\n\r\n    if (isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n\r\n        <main className=\"container jt-login-container\">\r\n            <h1>Login Form</h1>\r\n            <Alert show={showAlert} variant=\"danger\" onClose={() => setShowAlert(false)} dismissible>\r\n                <p className=\"mb-0\">{errMsg}</p>\r\n            </Alert>\r\n            <LoginForm onLogin={onLogin} onLoginFailed={onLoginFailed} doelgroepen={doelgroepen}/>\r\n        </main>\r\n    )\r\n}\r\n","import {useState} from 'react';\r\nimport {Form, Button, Row, Col} from \"react-bootstrap\";\r\nimport {sha256} from 'js-sha256';\r\n\r\nexport default function SignUpForm({doelgroepen, onSignUp}) {\r\n    const [user,setUser] = useState('');\r\n    const [email,setEmail] = useState('');\r\n    const [pass,setPass] = useState('');\r\n    const [passConfirm,setPassConfirm] = useState('');\r\n    const [doelgroep,setDoelgroep] = useState(-1);\r\n\r\n    const [validated, setValidated] = useState(false);\r\n\r\n    function validate() {\r\n        if (doelgroep === -1) return alert('Selecteer een doelgroep');\r\n        if (pass !== passConfirm || email === '' || pass === '') return alert('Zorg dat wachtwoord juist bevestigd is');\r\n        setValidated(true);\r\n    }\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        //Validate password\r\n        validate();\r\n\r\n        if (validated) {\r\n            //Encrypt pass\r\n            const encrpass = sha256(pass);\r\n\r\n            const res = await fetch('./php/signUp.php', {\r\n                method: 'POST',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify({user, encrpass, email, doelgroep})\r\n            });\r\n            const data = await res.json();\r\n\r\n            //Show user feedback\r\n            data['ok'] ? onSignUp(true) : onSignUp(false);\r\n\r\n            setUser('');\r\n            setPass('');\r\n            setEmail('')\r\n            setPassConfirm('');\r\n            setValidated(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Form onSubmit={onSubmit}>\r\n            <Form.Group as={Row} controlId=\"formUser\">\r\n                <Form.Label column lg={2}>Naam:</Form.Label>\r\n                <Col lg={10}>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        placeholder=\"Voer gebruikersnaam in\"\r\n                        value={user}\r\n                        onChange={(e) => setUser(e.target.value)}\r\n                        required\r\n                    />\r\n                </Col>\r\n            </Form.Group>\r\n\r\n            <Form.Group as={Row} controlId=\"formEmail\">\r\n                <Form.Label column lg={2}>Emailadres:</Form.Label>\r\n                <Col lg={10}>\r\n                    <Form.Control\r\n                        type=\"email\"\r\n                        placeholder=\"Voer emailadres in\"\r\n                        value={email}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                        required\r\n                    />\r\n                </Col>\r\n            </Form.Group>\r\n\r\n            <Form.Group as={Row} controlId=\"formDoelgroep\">\r\n                <Form.Label column lg={2}>Doelgroep:</Form.Label>\r\n                <Col lg={10}>\r\n                    <Form.Control\r\n                        as=\"select\"\r\n                        value={doelgroep}\r\n                        onChange={(e) => setDoelgroep(e.target.value)}\r\n                    >\r\n                        <option value=\"-1\">Kies...</option>\r\n                        {doelgroepen.length > 0 ? doelgroepen.filter(item => !item['isArchief']).map((doelgroep) => (\r\n                                <option value={doelgroep['id']}>{doelgroep['naam']}</option>\r\n                            )\r\n                        ) : <option value=\"-1\">Geen doelgroepen</option>}\r\n                    </Form.Control>\r\n                </Col>\r\n            </Form.Group>\r\n\r\n            <Form.Group as={Row}>\r\n                 <Col lg={6} className=\"mb-3\">\r\n                     <Form.Label>Wachtwoord:</Form.Label>\r\n                     <Form.Control\r\n                         id=\"formPassword\"\r\n                         type=\"password\"\r\n                         placeholder=\"Wachtwoord\"\r\n                         value={pass}\r\n                         onChange={(e) => setPass(e.target.value)}\r\n                         required\r\n                     />\r\n                </Col>\r\n                <Col lg={6} className=\"mb-3\">\r\n                    <Form.Label>Bevestig wachtwoord:</Form.Label>\r\n                    <Form.Control\r\n                        id=\"formPasswordConfirm\"\r\n                        type=\"password\"\r\n                        placeholder=\"Wachtwoord\"\r\n                        value={passConfirm}\r\n                        onChange={(e) => setPassConfirm(e.target.value)}\r\n                        required\r\n                    />\r\n                </Col>\r\n            </Form.Group>\r\n\r\n            <Button variant=\"primary\" type=\"submit\">\r\n                Registreer\r\n            </Button>\r\n        </Form>\r\n    )\r\n}\r\n","import {useState} from 'react';\r\nimport {Alert} from \"react-bootstrap\";\r\n\r\nimport SignUpForm from \"../components/SignUpForm\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nexport default function SignUpPage({doelgroepen, isLoggedIn}) {\r\n    const [showAlertSuccess, setShowAlertSuccess] = useState(false);\r\n    const [showAlertFail, setShowAlertFail] = useState(false);\r\n\r\n    function onSignUp(signUpSuccess) {\r\n        setShowAlertSuccess(signUpSuccess);\r\n        setShowAlertFail(!signUpSuccess);\r\n    }\r\n\r\n    if (isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <main className=\"container jt-login-container\">\r\n            <h1>Registreer</h1>\r\n            <Alert show={showAlertSuccess} variant=\"success\" onClose={() => setShowAlertSuccess(false)} dismissible>\r\n                <Alert.Heading className=\"mb-0\">Uw gegevens werden verzonden</Alert.Heading>\r\n                <p className=\"mb-0\">U kan inloggen vanaf dat een administrator uw account heeft geactiveerd.</p>\r\n            </Alert>\r\n            <Alert show={showAlertFail} variant=\"danger\" onClose={() => setShowAlertFail(false)} dismissible>\r\n                <Alert.Heading className=\"mb-0\">Er is iets misgegaan</Alert.Heading>\r\n                <p className=\"mb-0\">Probeer een andere combinatie</p>\r\n            </Alert>\r\n            <SignUpForm doelgroepen={doelgroepen} onSignUp={onSignUp}/>\r\n        </main>\r\n    )\r\n}\r\n","import {Card, Form} from \"react-bootstrap\";\r\nimport {useState} from \"react\";\r\n\r\nexport default function Filter({ categorie, updateFilters, filters, initialShow }) {\r\n    const [categorieChecked, setCategorieChecked] = useState(false);\r\n    const [checked, setChecked] = useState(categorie['subCategorieen']\r\n        .map(sc => (sc['id']))\r\n        .filter(id => (\r\n            filters['leeftijden']\r\n                .concat.apply([],filters['categorieen'].map((c) => (c['subCategorieen'])))\r\n                .includes(id)\r\n            || filters['leeftijden'].includes(id)\r\n            )\r\n        )\r\n    );\r\n\r\n    function toggleCategorieChecked () {\r\n        let newChecked = [];\r\n        if (categorieChecked) {\r\n            setChecked([]);\r\n            updateFilters(categorie['naam'] == 'Leeftijd' ? 'leeftijd' : 'subCategorie', [], categorie['subCategorieen'].map((sc) => (sc['id'])), categorie['id']);\r\n            setCategorieChecked(false);\r\n        } else {\r\n            newChecked = categorie['subCategorieen'].map((sc) => (sc['id']));\r\n            updateFilters(categorie['naam'] == 'Leeftijd' ? 'leeftijd' : 'subCategorie', newChecked, newChecked, categorie['id']);\r\n            setChecked(newChecked);\r\n            setCategorieChecked(true);\r\n        }\r\n    }\r\n\r\n    function toggleSubCategorieChecked(scId) {\r\n        setCategorieChecked(false);\r\n        if (checked.includes(scId)) {\r\n            setChecked(checked.filter((id) => (id != scId)));\r\n            updateFilters(categorie['naam'] == 'Leeftijd' ? 'leeftijd' : 'subCategorie', [], [scId], categorie['id']);\r\n        } else {\r\n            updateFilters(categorie['naam'] == 'Leeftijd' ? 'leeftijd' : 'subCategorie', [scId], [], categorie['id']);\r\n            setChecked([...checked, scId]);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <Card className=\"mr-2 mb-2\">\r\n            <Card.Body>\r\n                <Card.Title>\r\n                    <Form.Check\r\n                        id={\"all\" + categorie['id']}\r\n                        type=\"checkbox\"\r\n                        label={categorie['naam']}\r\n                        onChange={(e) => toggleCategorieChecked()}\r\n                        checked={categorieChecked}\r\n                    />\r\n                </Card.Title>\r\n                <Card.Text>\r\n                    {categorie['subCategorieen'].map((subCategorie) => (\r\n                        <Form.Check\r\n                            id={subCategorie['id']}\r\n                            type=\"checkbox\"\r\n                            label={subCategorie['naam']}\r\n                            onChange={(e) => toggleSubCategorieChecked(subCategorie['id'])}\r\n                            checked={checked.includes(subCategorie['id'])}\r\n                        />\r\n                    ))}\r\n                </Card.Text>\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}","import {Form, Button, Row, Col} from \"react-bootstrap\";\r\nimport {useEffect, useState} from \"react\";\r\nimport Filter from '../components/Filter';\r\n\r\nexport default function Filters({ filters, updateFilters, categorieen, leeftijd, userData, removeCategorieFromFilters }) {\r\n    const [showFilters, setShowFilters] = useState();\r\n    const [showCategorieen, setShowCategorieen] = useState(filters['categorieen'].map(item => item['id']));\r\n    const [showLeeftijd, setShowLeeftijd] = useState(filters['leeftijden'].length > 0);\r\n\r\n    function toggleCategorie(id) {\r\n        if (showCategorieen.includes(id)) {\r\n            setShowCategorieen(showCategorieen.filter((item) => !(item === id)));\r\n            removeCategorieFromFilters('categorie', id);\r\n        } else {\r\n            setShowCategorieen([...showCategorieen, id]);\r\n        }\r\n    }\r\n\r\n    function toggleLeeftijd(id) {\r\n        if (showLeeftijd) {\r\n            setShowLeeftijd(false);\r\n            removeCategorieFromFilters('leeftijd', id);\r\n        } else {\r\n            setShowLeeftijd(true);\r\n        }\r\n    }\r\n\r\n    function initialShow(id) {\r\n        if (leeftijd['id'] === id) {\r\n            setShowLeeftijd(true);\r\n        }\r\n        else {\r\n            setShowCategorieen([...showCategorieen, id]);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"rounded p-3 my-3 bg-filter jt-no-print\">\r\n            <h2>Filters</h2>\r\n            {/*TODO toggle/collapse button*/}\r\n            <div className=\"d-flex flex-column\">\r\n                <div className=\"d-flex flex-row flex-wrap mb-2\">\r\n                    {leeftijd['id'] !== -1\r\n                    ?\r\n                        <Button\r\n                            variant={(showLeeftijd ? \"\" : \"outline-\") + \"primary\"}\r\n                            onClick={() => toggleLeeftijd(leeftijd['id'])}\r\n                            className=\"mr-2 mb-2\"\r\n                        >\r\n                            Leeftijd\r\n                        </Button>\r\n                    :\r\n                        <></>\r\n                    }\r\n                    {categorieen.map((item) => (\r\n                        <Button\r\n                            variant={(showCategorieen.includes(item['id']) ? \"\" : \"outline-\") + \"primary\"}\r\n                            onClick={() => toggleCategorie(item['id'])}\r\n                            className=\"mr-2  mb-2\"\r\n                        >\r\n                            {item['naam']}\r\n                        </Button>\r\n                    ))}\r\n                </div>\r\n                <div className=\"d-flex flex-row flex-wrap mb-2\">\r\n                    {showLeeftijd\r\n                        ?\r\n                        <Filter\r\n                            categorie={leeftijd}\r\n                            updateFilters={updateFilters}\r\n                            filters={filters}\r\n                            initialShow={initialShow}\r\n                        />\r\n                        : <></>\r\n                    }\r\n                    {categorieen.filter((item) => (showCategorieen.includes(item['id']))).map((item) => (\r\n                        <Filter\r\n                            categorie={item}\r\n                            updateFilters={updateFilters}\r\n                            filters={filters}\r\n                        />\r\n                    ))\r\n                    }\r\n                </div>\r\n            </div>\r\n            {userData['role'] === \"Admin\"\r\n            ?\r\n                <Row>\r\n                    <Form.Group className=\"mb-0\">\r\n                        <Col xs=\"auto\" className=\"d-flex flex-row align-items-center\">\r\n                            <Form.Label className=\"mb-0\">Archief:</Form.Label>\r\n                        </Col>\r\n                        <Col xs=\"auto\">\r\n                            <Form.Control\r\n                                as=\"select\"\r\n                                value={filters['showArchief']}\r\n                                onChange={e => updateFilters('showArchief', parseInt(e.target.value))}\r\n                                required\r\n                            >\r\n                                <option value=\"-1\">Toon alles</option>\r\n                                <option value=\"0\">Verberg archief</option>\r\n                                <option value=\"1\">Toon archief</option>\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n                </Row>\r\n            :\r\n            <></>}\r\n        </div>\r\n    )\r\n}","import {Badge, Button, Card} from \"react-bootstrap\";\r\nimport {Link} from \"react-router-dom\";\r\nimport ReadMoreReact from 'read-more-react';\r\n\r\nexport default function SpeelgoedCard({ speelgoedItem, categorieen, leeftijd, addSpeelgoed ,reservaties, periodes, winkelWagen}) {\r\n    return (\r\n        <Card bg=\"light\" >\r\n            <Card.Header\r\n                to={\"/speelgoedFiche?id=\"+speelgoedItem['id']}\r\n                className=\"px-3 pt-3\"\r\n            >\r\n                <img\r\n                    className=\"img-fluid\"\r\n                    src={speelgoedItem['foto'] ? speelgoedItem['foto'] : \"/images/placeholder.jpg\"}\r\n                />\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card.Title\r\n                    as={Link}\r\n                    to={\"/speelgoedfiche?id=\"+speelgoedItem['id']}\r\n                    className=\"jt-card-title\"\r\n                >\r\n                    {speelgoedItem['naam']}\r\n                </Card.Title>\r\n                <Card.Text>\r\n                    <ReadMoreReact text={speelgoedItem['korteInhoud']}\r\n                                   min={40}\r\n                                   ideal={60}\r\n                                   max={120}\r\n                                   readMoreText={<a className=\"jt-read-more jt-clickable\">Lees meer...</a>}\r\n                    />\r\n                </Card.Text>\r\n                <div className=\"jt-card-tags\">\r\n                    {speelgoedItem['leeftijden'].map(lt => (\r\n                        <Badge pill variant=\"secondary\">\r\n                            {leeftijd['subCategorieen']\r\n                                .filter(item => (item['id'] == lt))\r\n                                .map(item => (\r\n                                    item['naam']\r\n                                ))\r\n                            }\r\n                        </Badge>\r\n                    ))}\r\n                </div>\r\n                <div className=\"jt-card-tags\">\r\n                    {speelgoedItem['subCategorieen'].map(scId => (\r\n                        <Badge pill variant=\"secondary\">\r\n                            {categorieen.filter(c => (c['subCategorieen'].map(sc => sc['id']).includes(scId)))[0]['subCategorieen']\r\n                                .filter(item => (item['id'] == scId))\r\n                                .map(item => (\r\n                                    item['naam']\r\n                                ))\r\n                            }\r\n                        </Badge>\r\n                    ))}\r\n                </div>\r\n                <Button\r\n                    variant={\r\n                        !speelgoedItem['beschikbaar'] ||\r\n                        speelgoedItem['specialeAanvraag'] ||\r\n                        speelgoedItem['isArchief'] ||\r\n                        periodes\r\n                            .filter(item => !(\r\n                                item['isArchief'] ||\r\n                                reservaties\r\n                                    .filter(res => (!res['isArchief'] && res['speelgoedId'] === speelgoedItem['id']))\r\n                                    .map(res => res['periodeId'])\r\n                                    .includes(item['id']) ||\r\n                                winkelWagen.filter(wwItem => (wwItem['speelgoedId'] === speelgoedItem['id']))\r\n                                    .map(wwItem => wwItem['periodeId'])\r\n                                    .includes(item['id'])\r\n                            )).length === 0\r\n                            ? \"danger\"\r\n                            : \"success\"\r\n                    }\r\n                    disabled={\r\n                        !speelgoedItem['beschikbaar'] ||\r\n                        speelgoedItem['specialeAanvraag'] ||\r\n                        speelgoedItem['isArchief'] ||\r\n                        periodes\r\n                            .filter(item => !(\r\n                                item['isArchief'] ||\r\n                                reservaties\r\n                                    .filter(res => (!res['isArchief'] && res['speelgoedId'] === speelgoedItem['id']))\r\n                                    .map(res => res['periodeId'])\r\n                                    .includes(item['id']) ||\r\n                                winkelWagen.filter(wwItem => (wwItem['speelgoedId'] === speelgoedItem['id']))\r\n                                    .map(wwItem => wwItem['periodeId'])\r\n                                    .includes(item['id'])\r\n                            )).length === 0\r\n                    }\r\n                    className=\"mt-2\"\r\n                    onClick={() => addSpeelgoed(speelgoedItem['id'])}\r\n                >\r\n                    {speelgoedItem['specialeAanvraag'] ? \"Speciale aanvraag\" : \"Reserveren\"}\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}","import {Button, Col, Modal, Row} from \"react-bootstrap\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function SpeelgoedToegevoegd({onHide, item, show, periode}){\r\n    return (\r\n        <Modal show={show} onHide={onHide}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Speelgoed toegevoegd</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Link to={\"/speelgoedfiche?id=\" + item['id']} id={item['id'] + \"-naam\"}>\r\n                    <Row>\r\n                        <Col xs=\"2\">\r\n                            <img\r\n                                src={item['foto'] ? item['foto'] : \"/images/placeholder.jpg\"}\r\n                                alt=\"\"\r\n                                className=\"img-fluid\"\r\n                            />\r\n                        </Col>\r\n                        <Col xs=\"10\" className=\"d-flex flex-row align-items-center\">\r\n                            {item['naam']}\r\n                        </Col>\r\n                    </Row>\r\n                </Link>\r\n                <p>\r\n                    {\"Van \" + periode['startDatum'] + \" tot \" + periode['eindDatum']}\r\n                </p>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={onHide}>\r\n                    Verder winkelen\r\n                </Button>\r\n                <Button as={Link} to=\"/winkelwagen\" variant=\"success\">\r\n                    Naar winkelwagen\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nSpeelgoedToegevoegd.defaultProps = {\r\n    periode: {},\r\n    item: {}\r\n}","import {Link, Redirect} from \"react-router-dom\";\r\nimport Filters from \"../components/Filters\";\r\nimport {Button, CardColumns, Col, Form, Modal, Row} from \"react-bootstrap\";\r\nimport SpeelgoedCard from \"../components/SpeelgoedCard\";\r\nimport {useState} from \"react\";\r\nimport SpeelgoedToegevoegd from \"../components/SpeelgoedToegevoegd\";\r\n\r\nexport default function HomePage({ isLoggedIn, filters, updateFilters, categorieen, leeftijd, userData,\r\n                                     removeCategorieFromFilters, filteredSpeelgoed, periodes, onWinkelWagenAdd,\r\n                                     winkelWagen, reservaties }) {\r\n    const [addSpeelgoedToWinkelWagen, setAddSpeelgoedToWinkelWagen] = useState(false);\r\n    const [toAddSpeelgoed, setToAddSpeelgoed] = useState({\"speelgoedId\": -1, \"periodeId\": -1});\r\n    const [showToegevoegd, setShowToegevoegd] = useState(false);\r\n    const [toegevoedSpeelgoed, setToegevoegdSpeelgoed] = useState({});\r\n    const [toegevoegdPeriode, setToegevoegdPeriode] = useState({});\r\n\r\n    function onShowModal(id) {\r\n        setToAddSpeelgoed({...toAddSpeelgoed, \"speelgoedId\": id});\r\n        setAddSpeelgoedToWinkelWagen(true);\r\n    }\r\n\r\n    function onHideModal() {\r\n        setToAddSpeelgoed({\"speelgoedId\": -1, \"periodeId\": -1})\r\n        setAddSpeelgoedToWinkelWagen(false);\r\n    }\r\n\r\n    function onShowModalToegevoegd(speelgoedId, periodeId) {\r\n        setToegevoegdSpeelgoed(filteredSpeelgoed.find(item => (item['id'] === speelgoedId)));\r\n        setToegevoegdPeriode(periodes.find(item => (item['id'] === periodeId)));\r\n        setShowToegevoegd(true);\r\n    }\r\n\r\n    function onHideModalToegevoegd() {\r\n        setShowToegevoegd(false);\r\n    }\r\n\r\n    function onWinkelWagenAddLocal(e) {\r\n        e.preventDefault();\r\n        if (!toAddSpeelgoed['periodeId'] || toAddSpeelgoed['periodeId'] !== -1) {\r\n            if (!(winkelWagen.map(item => item['speelgoedId']).includes(toAddSpeelgoed['speelgoedId']) && winkelWagen.map(item => item['periodeId']).includes(toAddSpeelgoed['periodeId']))) {\r\n                onWinkelWagenAdd(toAddSpeelgoed['speelgoedId'], toAddSpeelgoed['periodeId']);\r\n                onShowModalToegevoegd(toAddSpeelgoed['speelgoedId'], toAddSpeelgoed['periodeId']);\r\n            } else {\r\n                alert(\"Deze reservatie zit reeds in uw winkelwagen\")\r\n            }\r\n            onHideModal();\r\n        } else {\r\n            alert(\"Selecteer een periode\");\r\n        }\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container\">\r\n                <h1>Hoofdpagina</h1>\r\n                <Filters\r\n                    filters={filters}\r\n                    updateFilters={updateFilters}\r\n                    categorieen={categorieen}\r\n                    leeftijd={leeftijd}\r\n                    userData={userData}\r\n                    removeCategorieFromFilters={removeCategorieFromFilters}\r\n                />\r\n                <CardColumns className=\"jt-card-columns\">\r\n                    {filteredSpeelgoed.map(item => (\r\n                        <SpeelgoedCard\r\n                            speelgoedItem={item}\r\n                            categorieen={categorieen}\r\n                            leeftijd={leeftijd}\r\n                            addSpeelgoed={onShowModal}\r\n                            reservaties={reservaties}\r\n                            periodes={periodes}\r\n                            winkelWagen={winkelWagen}\r\n                        />\r\n                    ))}\r\n                </CardColumns>\r\n            </main>\r\n\r\n            <Modal show={addSpeelgoedToWinkelWagen} onHide={() => onHideModal()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Toevoegen aan winkelwagen</Modal.Title>\r\n                </Modal.Header>\r\n                <Form onSubmit={onWinkelWagenAddLocal}>\r\n                    <Modal.Body>\r\n                        <Form.Group>\r\n                            <Form.Label>Periode:</Form.Label>\r\n                            <Form.Control\r\n                                as=\"select\"\r\n                                value={toAddSpeelgoed['periodeId']}\r\n                                onChange={e => setToAddSpeelgoed({...toAddSpeelgoed, \"periodeId\": parseInt(e.target.value)})}\r\n                                required\r\n                            >\r\n                                <option value=\"-1\">Kies...</option>\r\n                                {periodes.filter(item => !item['isArchief']).length > 0 ? periodes\r\n                                    .filter(item => !(\r\n                                        item['isArchief'] || reservaties\r\n                                            .filter(res => (!res['isArchief'] && res['speelgoedId'] === toAddSpeelgoed['speelgoedId']))\r\n                                            .map(res => res['periodeId'])\r\n                                            .includes(item['id']) ||\r\n                                        winkelWagen.filter(wwItem => (wwItem['speelgoedId'] === toAddSpeelgoed['speelgoedId']))\r\n                                            .map(wwItem => wwItem['periodeId'])\r\n                                            .includes(item['id'])\r\n                                    ))\r\n                                    .map((periode) => (\r\n                                        <option\r\n                                            value={periode['id']}\r\n                                        >\r\n                                            {\"Van \" + periode['startDatum'] + \" tot \" + periode['eindDatum']}\r\n                                        </option>\r\n                                    )\r\n                                ) : <option value=\"-1\">Geen periodes beschikbaar</option>}\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={() => onHideModal()}>\r\n                            Sluiten\r\n                        </Button>\r\n                        <Button variant=\"success\" type=\"submit\">\r\n                            Toevoegen\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n\r\n            <SpeelgoedToegevoegd\r\n                show={showToegevoegd}\r\n                onHide={() => onHideModalToegevoegd()}\r\n                item={toegevoedSpeelgoed}\r\n                periode={toegevoegdPeriode}\r\n            />\r\n        </>\r\n    )\r\n}","import {Redirect, Link, useLocation} from \"react-router-dom\";\r\nimport {Table, Button, Alert, Form, Badge, Modal} from 'react-bootstrap'\r\nimport {FaPen, FaTrashAlt, FaPlus, FaArchive, FaTimes} from 'react-icons/fa'\r\nimport {useEffect, useState} from \"react\";\r\nimport Filters from \"../../components/Filters\";\r\n\r\nexport default function AdminSpeelgoedPage({    isLoggedIn,\r\n                                                filteredSpeelgoed,\r\n                                                filters,\r\n                                                updateFilters,\r\n                                                removeCategorieFromFilters,\r\n                                                archiveSpeelgoed,\r\n                                                onDeleteSpeelgoed,\r\n                                                onToggleBeschikbaar,\r\n                                                onToggleSpecialeAanvraag,\r\n                                                categorieen,\r\n                                                leeftijd,\r\n                                                userData }) {\r\n    const location = useLocation();\r\n    const [action, setAction] = useState();\r\n\r\n    const [speelgoedChecked, setSpeelgoedChecked] = useState([]);\r\n    const [allChecked, setAllChecked] = useState(false);\r\n    const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n    const [toDelete, setToDelete] = useState([]);\r\n\r\n    useEffect(() => {\r\n        let query = location.search;\r\n        let variables = {};\r\n        if (query) {\r\n            query = query.slice(1,query.length); // Remove questionmark\r\n            let variableStrings = query.split('&'); // Split variables\r\n            variableStrings.forEach((variable)=>{\r\n                variables[variable.split('=')[0]] = variable.split('=')[1]; // Split key and value and store in array\r\n            })\r\n            setAction(variables['action']); // Set action if in variables array\r\n        }\r\n    }, []);\r\n\r\n    function toggleAllChecked() {\r\n        if (allChecked) {\r\n            setSpeelgoedChecked([]);\r\n            setAllChecked(false);\r\n        } else {\r\n            setSpeelgoedChecked(filteredSpeelgoed.map((speelgoed) => (speelgoed['id'])));\r\n            setAllChecked(true);\r\n        }\r\n    }\r\n\r\n    function toggleSpeelgoedChecked(speelgoedId) {\r\n        setAllChecked(false);\r\n        if (speelgoedChecked.includes(speelgoedId)) {\r\n            setSpeelgoedChecked(speelgoedChecked.filter((id) => (id != speelgoedId)))\r\n        } else {\r\n            setSpeelgoedChecked([...speelgoedChecked, speelgoedId]);\r\n        }\r\n    }\r\n\r\n    async function archiveSpeelgoedRemote(id, isArchief) {\r\n        let ids = [];\r\n        if (id == -1) {\r\n            ids = speelgoedChecked;\r\n        } else {\r\n            ids.push(id);\r\n        }\r\n        let today = new Date();\r\n        let todayString = today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate();\r\n        const res = await fetch('/php/admin/speelgoedArchive.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({ids, \"isArchief\": isArchief, \"archiefDatum\": todayString})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            archiveSpeelgoed(data['ids'], data['isArchief'], data['archiefDatum']);\r\n        } else {\r\n            alert('Het arciveren is mislukt');\r\n        }\r\n    }\r\n\r\n    function deleteSpeelgoedLocal(id) {\r\n        setShowDeleteConfirm(true);\r\n        let ids = [];\r\n        if (id == -1) {\r\n            ids = speelgoedChecked;\r\n        } else {\r\n            ids.push(id);\r\n        }\r\n        setToDelete(ids);\r\n    }\r\n\r\n    function onHideModal(del) {\r\n        if (del) {\r\n            deleteSpeelgoedRemote();\r\n        }\r\n        setShowDeleteConfirm(false);\r\n    }\r\n\r\n    async function deleteSpeelgoedRemote() {\r\n        const res = await fetch('/php/admin/speelgoedDelete.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({toDelete})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onDeleteSpeelgoed(data['ids']);\r\n        } else {\r\n            alert('Het verwijderen is mislukt');\r\n        }\r\n    }\r\n\r\n    async function toggleBeschikbaarRemote(id, status) {\r\n        const res = await fetch('/php/admin/speelgoedBeschikbaar.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({id, status})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onToggleBeschikbaar(data['id'], data['status']);\r\n        } else {\r\n            alert('Het veranderen van status \"beschikbaar\" is mislukt');\r\n        }\r\n    }\r\n\r\n    async function toggleSpecialeAanvraagRemote(id, status) {\r\n        const res = await fetch('/php/admin/speelgoedSpecialeAanvraag.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({id, status})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onToggleSpecialeAanvraag(data['id'], data['status']);\r\n        } else {\r\n            alert('Het veranderen van status \"speciale aanvraag\" is mislukt');\r\n        }\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container-fluid\">\r\n                <h1>Admin Speelgoed</h1>\r\n                <Alert show={action == \"toegevoegd\"} variant=\"success\" onClose={() => setAction(\"\")} dismissible>\r\n                    <p className=\"mb-0\">Speelgoed succesvol aangemaakt</p>\r\n                </Alert>\r\n                <Alert show={action == \"bewerkt\"} variant=\"success\" onClose={() => setAction(\"\")} dismissible>\r\n                    <p className=\"mb-0\">Speelgoed succesvol bewerkt</p>\r\n                </Alert>\r\n                <Filters\r\n                    filters={filters}\r\n                    updateFilters={updateFilters}\r\n                    categorieen={categorieen}\r\n                    leeftijd={leeftijd}\r\n                    userData={userData}\r\n                    removeCategorieFromFilters={removeCategorieFromFilters}\r\n                />\r\n                <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th className=\"jt-table-check-container\"></th>\r\n                        <th className=\"jt-table-center jt-table-id-container\">#</th>\r\n                        <th>Naam</th>\r\n                        <th></th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr>\r\n                        <td className=\"jt-table-id\">\r\n                            <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                    <Form.Check\r\n                                        type=\"checkbox\"\r\n                                        className=\"jt-table-check\"\r\n                                        onChange={(e) => toggleAllChecked()}\r\n                                        checked={allChecked}\r\n                                    />\r\n                                </Form>\r\n                            </div>\r\n                        </td>\r\n                        <td colSpan=\"2\"></td>\r\n                        <td className=\"jt-table-actions\">\r\n                            <Button as={Link} to=\"/admin/speelgoedfiche?action=toevoegen\" variant=\"success\" className=\"rounded-circle\"><FaPlus/></Button>\r\n                            <Button variant=\"archive\" className=\"rounded-circle\" onClick={() => archiveSpeelgoedRemote(-1, 1)}><FaArchive/></Button>\r\n                            <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteSpeelgoedLocal(-1)}><FaTrashAlt/></Button>\r\n                        </td>\r\n                    </tr>\r\n                    {filteredSpeelgoed.map((speelgoed) => (\r\n                        <tr>\r\n                            <td className=\"jt-table-id\">\r\n                                <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                    <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                        <Form.Check\r\n                                            type=\"checkbox\"\r\n                                            className=\"jt-table-check\"\r\n                                            onChange={(e) => toggleSpeelgoedChecked(speelgoed['id'])}\r\n                                            checked={speelgoedChecked.includes(speelgoed['id'])}\r\n                                        />\r\n                                    </Form>\r\n                                </div>\r\n                            </td>\r\n                            <td className=\"jt-table-id\">{speelgoed['oudCode']}</td>\r\n                            <td>\r\n                                <Link to={\"/speelgoedfiche?id=\" + speelgoed['id']} id={speelgoed['id'] + \"-naam\"}>\r\n                                    <img src={speelgoed['foto'] ? speelgoed['foto'] : \"/images/placeholder.jpg\"} className=\"jt-table-img\"/>\r\n                                    <span className=\"jt-table-naam\">{speelgoed['naam']}</span>\r\n                                </Link>\r\n                                {speelgoed['isArchief']\r\n                                    ?\r\n                                    <Badge pill variant=\"archive\" className=\"mr-2\">\r\n                                    <span className=\"mr-2\">\r\n                                        {speelgoed['archiefDatum']}\r\n                                    </span>\r\n                                        <FaTimes as={Button}\r\n                                                 onClick={() => archiveSpeelgoedRemote(speelgoed['id'], 0)}\r\n                                                 className=\"jt-clickable\"\r\n                                        />\r\n                                    </Badge>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                                {!speelgoed['beschikbaar']\r\n                                    ?\r\n                                    <Badge pill variant=\"danger\" className=\"mr-2\">\r\n                                    <span className=\"mr-2\">\r\n                                        Niet beschikbaar\r\n                                    </span>\r\n                                        <FaTimes as={Button}\r\n                                                 onClick={() => toggleBeschikbaarRemote(speelgoed['id'], 1)}\r\n                                                 className=\"jt-clickable\"\r\n                                        />\r\n                                    </Badge>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                                {speelgoed['specialeAanvraag']\r\n                                    ?\r\n                                    <Badge pill variant=\"primary\" className=\"mr-2\">\r\n                                    <span className=\"mr-2\">\r\n                                        Speciale Aanvraag\r\n                                    </span>\r\n                                        <FaTimes as={Button}\r\n                                                 onClick={() => toggleSpecialeAanvraagRemote(speelgoed['id'], 0)}\r\n                                                 className=\"jt-clickable\"\r\n                                        />\r\n                                    </Badge>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                            </td>\r\n                            <td className=\"jt-table-actions\">\r\n                                <Button as={Link} to={\"/admin/speelgoedfiche?action=bewerken&id=\" + speelgoed['id']}  variant=\"info\" className=\"rounded-circle\"><FaPen/></Button>\r\n                                <Button variant=\"archive\" className=\"rounded-circle\" onClick={() => archiveSpeelgoedRemote(speelgoed['id'], 1)}><FaArchive/></Button>\r\n                                <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteSpeelgoedLocal(speelgoed['id'])}><FaTrashAlt/></Button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                </Table>\r\n            </main>\r\n\r\n            <Modal show={showDeleteConfirm} onHide={() => onHideModal(false)}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Speelgoed verwijderen</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Weet u zeker dat u {toDelete.length} stuk{toDelete.length == 1 ? \"ken\" : \"\"} speelgoed wilt verwijderen?\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={() => onHideModal(false)}>\r\n                        Sluiten\r\n                    </Button>\r\n                    <Button variant=\"danger\" onClick={() => onHideModal(true)}>\r\n                        Verwijder\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    )\r\n}","import {useEffect, useState} from \"react\";\r\nimport {Redirect, useLocation, useHistory} from \"react-router-dom\";\r\nimport {Form, Button, Row, Col} from 'react-bootstrap';\r\n\r\nexport default function AdminSpeelgoedFichePage({isLoggedIn, doelgroepen, userData, leeftijd, categorieen, speelgoed, onAddSpeelgoed, onUpdateSpeelgoed, onDeleteSpeelgoed}) {\r\n    const location = useLocation();\r\n    const [action, setAction] = useState('');\r\n\r\n    const[id ,setId] = useState(-1);\r\n    const [foto, setFoto] = useState({\"url\": \"/images/placeholder.jpg\", \"bestand\": undefined});\r\n    const [titel, setTitel] = useState('');\r\n    const [oudCode, setOudCode] = useState('');\r\n    const [doelgroep, setDoelgroep] = useState(userData['sessDoelgroep']);\r\n    const [selectLeeftijd, setSelectLeeftijd] = useState([]);\r\n    const [selectSubCategorieen, setSelectSubCategorieen] = useState([]);\r\n    const [merk, setMerk] = useState('');\r\n    const [aankoopDatum, setAankoopDatum] = useState('');\r\n    const [inhoudItems, setInhoudItems] = useState([{\"id\": 1, \"text\": '', \"aantal\": 0, \"kapot\": 0, \"tekort\": 0}]);\r\n    const [tipItems, setTipItems] = useState([{\"id\": 1, \"text\": ''}]);\r\n    const [korteInhoud, setKorteInhoud] = useState('');\r\n    const [bijlages, setBijlages] = useState([{\"id\": 1, \"naam\": \"\", \"bestand\": undefined}]);\r\n    const [beschikbaar, setBeschikbaar] = useState(true);\r\n    const [specialeAanvraag, setSpecialeAanvraag] = useState(false);\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        let query = location.search;\r\n        let variables = {};\r\n        if (query) {\r\n            query = query.slice(1,query.length); // Remove questionmark\r\n            let variableStrings = query.split('&'); // Split variables\r\n            variableStrings.forEach((variable)=>{\r\n                variables[variable.split('=')[0]] = variable.split('=')[1]; // Split key and value and store in array\r\n            })\r\n            setAction(variables['action']); // Set action if in variables array\r\n            if (variables['action'] == \"bewerken\") {\r\n                if (variables['id']) {\r\n                    let speelgoedItem = speelgoed.filter(item => item['id'] == variables['id'])[0];\r\n                    setId(speelgoedItem['id']);\r\n                    setFoto({\"url\": speelgoedItem['foto'] ? speelgoedItem['foto'] : \"/images/placeholder.jpg\", \"bestand\": undefined});\r\n                    setTitel(speelgoedItem['naam']);\r\n                    setOudCode(speelgoedItem['oudCode']);\r\n                    setSelectLeeftijd(speelgoedItem['leeftijden']);\r\n                    setSelectSubCategorieen(speelgoedItem['subCategorieen']);\r\n                    setMerk(speelgoedItem['merk']);\r\n                    setAankoopDatum(speelgoedItem['aankoopDatum']);\r\n                    setInhoudItems([...speelgoedItem['inhoud'].map(item => ({...item, \"original\": 1, \"removed\": 0})), {\"id\": 0, \"text\": '', \"aantal\": 0, \"kapot\": 0, \"tekort\": 0}]);\r\n                    setTipItems([...speelgoedItem['tips'].map(item => ({...item, \"original\": 1, \"removed\": 0})), {\"id\": 0, \"text\": ''}]);\r\n                    setKorteInhoud(speelgoedItem['korteInhoud']);\r\n                    setBijlages([...speelgoedItem['bijlages'].map(item => ({\"id\": item['id'], \"naam\": item['type'], \"path\": item['path'], \"bestand\": undefined, \"original\": 1, \"removed\": 0})), {\"id\": 0, \"naam\": \"\", \"bestand\": undefined}]);\r\n                    setBeschikbaar(speelgoedItem['beschikbaar']);\r\n                    setSpecialeAanvraag(speelgoedItem['specialeAanvraag']);\r\n                }\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    async function addSpeelgoedRemote(e) {\r\n        e.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        formData.append('foto', foto['bestand']);\r\n        formData.append('titel', titel);\r\n        formData.append('oudCode', oudCode);\r\n        formData.append('doelgroep', \"\"+doelgroep);\r\n        selectSubCategorieen.forEach(item => {\r\n            formData.append('subCategorieen[]', item);\r\n        })\r\n        selectLeeftijd.forEach(item => {\r\n            formData.append('leeftijd[]', item);\r\n        })\r\n        formData.append('merk', merk);\r\n        formData.append('aankoopDatum', aankoopDatum);\r\n        inhoudItems.forEach(item => {\r\n            if (item['text'] && !item['removed']) {\r\n                formData.append('inhoud[]', JSON.stringify(item));\r\n            }\r\n        })\r\n        tipItems.forEach(item => {\r\n            if (item['text'] && !item['removed']) {\r\n                formData.append('tips[]', JSON.stringify(item));\r\n            }\r\n        })\r\n        formData.append('korteInhoud', korteInhoud);\r\n        bijlages.forEach(item => {\r\n            if (item['naam'] && item['bestand'] && !item['removed']) {\r\n                formData.append('bijlagesBestand[]', item['bestand']);\r\n                formData.append('bijlagesNaam[]', item['naam']);\r\n            }\r\n        })\r\n        formData.append('beschikbaar', beschikbaar ? \"1\" : \"0\");\r\n        formData.append('specialeAanvraag', specialeAanvraag ? \"1\" : \"0\");\r\n\r\n        const res = await fetch('../php/admin/speelgoedInsert.php', {\r\n            method: 'POST',\r\n            body: formData\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            // Send update to state\r\n            if (data['doelgroep'] == userData['sessDoelgroep'])\r\n                onAddSpeelgoed(data['speelgoed']);\r\n\r\n            // Redirect to speelgoedPage\r\n            history.push(\"/admin/speelgoed?action=toegevoegd\");\r\n        } else {\r\n            alert(\"Speelgoed aanmaken mislukt\");\r\n        }\r\n    }\r\n\r\n    async function updateSpeelgoedRemote(e) {\r\n        e.preventDefault();\r\n\r\n        const formData = new FormData();\r\n        formData.append('id', \"\"+id);\r\n        formData.append('foto', foto['bestand']);\r\n        formData.append('titel', titel);\r\n        formData.append('oudCode', oudCode);\r\n        formData.append('doelgroep', \"\"+doelgroep);\r\n        selectSubCategorieen.forEach(item => {\r\n            formData.append('subCategorieen[]', item);\r\n        })\r\n        selectLeeftijd.forEach(item => {\r\n            formData.append('leeftijd[]', item);\r\n        })\r\n        formData.append('merk', merk);\r\n        formData.append('aankoopDatum', aankoopDatum);\r\n        inhoudItems.forEach(item => {\r\n            if (item['text'] || (item['removed'] && item['original'])) {\r\n                formData.append('inhoud[]', JSON.stringify(item));\r\n            }\r\n        })\r\n        tipItems.forEach(item => {\r\n            if (item['text'] || (item['removed'] && item['original'])) {\r\n                formData.append('tips[]', JSON.stringify(item));\r\n            }\r\n        })\r\n        formData.append('korteInhoud', korteInhoud);\r\n        bijlages.forEach(item => {\r\n            if ((item['naam'] && item['bestand'])  || item['original']) {\r\n                formData.append('bijlagesBestand[]', item['bestand']);\r\n                formData.append('bijlagesNaam[]', JSON.stringify({\"id\": item['id'], \"naam\": item['naam'], \"original\": item['original'], \"removed\": item['removed']}));\r\n            }\r\n        })\r\n        formData.append('beschikbaar', beschikbaar ? \"1\" : \"0\");\r\n        formData.append('specialeAanvraag', specialeAanvraag ? \"1\" : \"0\");\r\n\r\n        const res = await fetch('../php/admin/speelgoedUpdate.php', {\r\n            method: 'POST',\r\n            body: formData\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            // Send update to state\r\n            if (data['doelgroep'] == userData['sessDoelgroep'])\r\n                onUpdateSpeelgoed(data['speelgoed']);\r\n            else\r\n                onDeleteSpeelgoed(data['speelgoed']['id']);\r\n\r\n            // Redirect to speelgoedPage\r\n            history.push(\"/admin/speelgoed?action=bewerkt\");\r\n        } else {\r\n            alert(\"Speelgoed bewerken mislukt\");\r\n        }\r\n    }\r\n\r\n    function changeItems(type, value, inhoudItem) {\r\n        let newInhoudItems= [];\r\n        inhoudItems.forEach((item) => {\r\n            if (item['id'] == inhoudItem['id'] && type != \"lostFocus\") {\r\n                let newInhoudItem = {};\r\n                switch (type){\r\n                    case \"text\":\r\n                        newInhoudItem = {...inhoudItem, \"text\": value};\r\n                        break;\r\n                    case \"aantal\":\r\n                        newInhoudItem = {...inhoudItem, \"aantal\": value};\r\n                        break;\r\n                    case \"kapot\":\r\n                        newInhoudItem = {...inhoudItem, \"kapot\": value};\r\n                        break;\r\n                    case \"tekort\":\r\n                        newInhoudItem = {...inhoudItem, \"tekort\": value};\r\n                        break;\r\n                    default:\r\n                        newInhoudItem = inhoudItem;\r\n                }\r\n                newInhoudItems.push(newInhoudItem);\r\n            } else {\r\n                if (item['text'] !== \"\"){\r\n                    newInhoudItems.push(item);\r\n                } else {\r\n                    newInhoudItems.push({...item, \"removed\": 1});\r\n                }\r\n            }\r\n        })\r\n        if (newInhoudItems[newInhoudItems.length-1]['text'] !== \"\") {\r\n            newInhoudItems.push({\"id\": newInhoudItems[newInhoudItems.length-1]['id']-1, \"text\": \"\", \"aantal\": 0, \"kapot\": 0, \"tekort\": 0});\r\n        }\r\n        newInhoudItems[newInhoudItems.length-1]['removed'] = 0;\r\n        setInhoudItems(newInhoudItems);\r\n    }\r\n\r\n    function changeTips(type, value, tipItem) {\r\n        let newTipItems= [];\r\n        tipItems.forEach((item) => {\r\n            if (item['id'] == tipItem['id'] && type != \"lostFocus\") {\r\n                let newTipItem = {};\r\n                newTipItem = {...tipItem, \"text\": value};\r\n                newTipItems.push(newTipItem);\r\n            } else {\r\n                if (item['text'] !== \"\"){\r\n                    newTipItems.push(item);\r\n                } else {\r\n                    newTipItems.push({...item, \"removed\": 1});\r\n                }\r\n            }\r\n        })\r\n        if (newTipItems[newTipItems.length-1]['text'] !== \"\") {\r\n            newTipItems.push({\"id\": newTipItems[newTipItems.length-1]['id']-1, \"text\": \"\"});\r\n        }\r\n        newTipItems[newTipItems.length-1]['removed'] = 0;\r\n        setTipItems(newTipItems);\r\n    }\r\n\r\n    function changeFoto(e) {\r\n        setFoto({\"bestand\": e.target.files[0], \"url\": URL.createObjectURL(e.target.files[0])});\r\n    }\r\n\r\n    function changeBijlage(type, e, bijlage) {\r\n        let newBijlages= [];\r\n        bijlages.forEach((item) => {\r\n            if (item['id'] == bijlage['id'] && type != \"lostFocus\") {\r\n                let newBijlage = {};\r\n                switch (type){\r\n                    case \"bestand\":\r\n                        newBijlage = {...bijlage, \"bestand\": e.target.files[0]};\r\n                        break;\r\n                    case \"naam\":\r\n                        newBijlage = {...bijlage, \"naam\": e.target.value};\r\n                        break;\r\n                    default:\r\n                        newBijlage = bijlage;\r\n                }\r\n                newBijlages.push(newBijlage);\r\n            } else {\r\n                if (item['naam'] !== \"\"){\r\n                    newBijlages.push(item);\r\n                } else {\r\n                    newBijlages.push({...item, \"removed\": 1});\r\n                }\r\n            }\r\n        })\r\n        if (newBijlages[newBijlages.length-1]['naam'] !== \"\") {\r\n            newBijlages.push({\"id\": newBijlages[newBijlages.length-1]['id']-1, \"naam\": \"\", \"bestand\": \"\"});\r\n        }\r\n        newBijlages[newBijlages.length-1]['removed'] = 0;\r\n        setBijlages(newBijlages);\r\n    }\r\n\r\n    function toggleSelect(type, id) {\r\n        switch (type) {\r\n            case \"subCategorie\":\r\n                if (selectSubCategorieen.includes(id)) {\r\n                    setSelectSubCategorieen(selectSubCategorieen.filter(item => item != id));\r\n                    break;\r\n                }\r\n                setSelectSubCategorieen([...selectSubCategorieen, id]);\r\n                break;\r\n            case \"leeftijd\":\r\n                if (selectLeeftijd.includes(id)) {\r\n                    setSelectLeeftijd(selectLeeftijd.filter(item => item != id));\r\n                    break;\r\n                }\r\n                setSelectLeeftijd([...selectLeeftijd, id]);\r\n                break;\r\n        }\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <main className=\"container\">\r\n            {action == \"toevoegen\" ? <h1>Admin speelgoed aanmaken</h1> : <h1>Admin speelgoed bewerken</h1>}\r\n            <Form className=\"row\" onSubmit={action == \"toevoegen\" ? addSpeelgoedRemote : updateSpeelgoedRemote}>\r\n                <div className=\"col-12 col-md-4\">\r\n                    <Form.Group>\r\n                        <img id=\"foto\" src={foto['url']} alt=\"\" className=\"m-auto\"/>\r\n                        <input id=\"foto-\" type=\"file\" className=\"form-control-file mt-2\" onChange={(e) => changeFoto(e)}/>\r\n                    </Form.Group>\r\n                </div>\r\n                <div className=\"col\">\r\n\r\n                    {/*Titel*/}\r\n                    <Form.Group controlId=\"title\">\r\n                        <Form.Label>Titel:</Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            placeholder=\"Titel\"\r\n                            value={titel}\r\n                            onChange={(e) => setTitel(e.target.value)}\r\n                            required\r\n                        />\r\n                    </Form.Group>\r\n\r\n                    {/*Oude code, leeftijd en categorieen*/}\r\n                    <Form.Group as={Row} className=\"mb-0\">\r\n                        <Col lg={6}>\r\n                            <Form.Group>\r\n                                <Form.Label>Oude code:</Form.Label>\r\n                                <Form.Control\r\n                                    id=\"oudeCode\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"Oude code\"\r\n                                    value={oudCode}\r\n                                    onChange={(e) => setOudCode(e.target.value)}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group>\r\n                                <Form.Label>Leeftijd:</Form.Label>\r\n                                <Form.Control\r\n                                    id=\"leeftijd\"\r\n                                    as=\"select\"\r\n                                    htmlSize={3}\r\n                                    custom\r\n                                    value={selectLeeftijd}\r\n                                    multiple\r\n                                >\r\n                                    {leeftijd['subCategorieen'].length > 0 ? leeftijd['subCategorieen'].map((sc) => (\r\n                                            <option\r\n                                                value={sc['id']}\r\n                                                selected={selectLeeftijd.includes(sc['id'])}\r\n                                                onClick={() => toggleSelect('leeftijd', sc['id'])}\r\n                                            >{sc['naam']}</option>\r\n                                        )\r\n                                    ) : <option value=\"-1\">Geen leeftijden</option>}\r\n                                </Form.Control>\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col lg={6}>\r\n                            <Form.Group>\r\n                                <Form.Label>Categorieën:</Form.Label>\r\n                                <Form.Control\r\n                                    id=\"categorieen\"\r\n                                    as=\"select\"\r\n                                    htmlSize={7}\r\n                                    custom\r\n                                    value={selectSubCategorieen}\r\n                                    multiple\r\n                                >\r\n                                    {categorieen.length > 0\r\n                                        ?\r\n                                        categorieen.map((c) => (\r\n                                            c['subCategorieen'].length > 0\r\n                                                ?\r\n                                                <optgroup label={c['naam']}>\r\n                                                    {c['subCategorieen'].map(sc => (\r\n                                                        <option\r\n                                                            value={sc['id']}\r\n                                                            selected={selectSubCategorieen.includes(sc['id'])}\r\n                                                            onClick={() => toggleSelect('subCategorie', sc['id'])}\r\n                                                        >{sc['naam']}</option>\r\n                                                    ))}\r\n                                                </optgroup>\r\n                                                :\r\n                                                <></>\r\n                                        ))\r\n                                        :\r\n                                        <option value=\"-1\">Geen doelgroepen</option>\r\n                                    }\r\n                                </Form.Control>\r\n                            </Form.Group>\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    {/*Merk en aankoopdatum*/}\r\n                    <Form.Group as={Row} className=\"mb-0\">\r\n                        <Col lg={6}>\r\n                            <Form.Group>\r\n                                <Form.Label>Merk:</Form.Label>\r\n                                <Form.Control\r\n                                    id=\"merk\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"Merk\"\r\n                                    value={merk}\r\n                                    onChange={(e) => setMerk(e.target.value)}\r\n                                />\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col lg={6}>\r\n                            <Form.Group>\r\n                                <Form.Label>Aankoopdatum:</Form.Label>\r\n                                <Form.Control\r\n                                    id=\"aankoopDatum\"\r\n                                    type=\"date\"\r\n                                    value={aankoopDatum}\r\n                                    onChange={(e) => setAankoopDatum(e.target.value)}\r\n                                />\r\n                            </Form.Group>\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    {/*Inhoud*/}\r\n                    <Form.Group as={Row} className=\"mb-0\">\r\n                        <Col xs={6}>\r\n                            <Form.Group>\r\n                                <Form.Label>Inhoud:</Form.Label>\r\n                                {inhoudItems.filter(inhoudItem => (!inhoudItem['removed'])).map(inhoudItem => (\r\n                                    <Form.Control\r\n                                        id={\"inhoudItem-\" + inhoudItem['id']}\r\n                                        type=\"text\"\r\n                                        placeholder=\"Inhoud\"\r\n                                        value={inhoudItem['text']}\r\n                                        onChange={(e) => changeItems(\"text\", e.target.value, inhoudItem)}\r\n                                        onBlur={(e) => changeItems(\"lostFocus\", e.target.value, inhoudItem)}\r\n                                        className=\"mb-1\"\r\n                                    />\r\n                                ))}\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col xs={2}>\r\n                            <Form.Group>\r\n                                <Form.Label>Aantal:</Form.Label>\r\n                                {inhoudItems.filter(inhoudItem => (!inhoudItem['removed'])).map(inhoudItem => (\r\n                                    <Form.Control\r\n                                        id={\"inhoudAantal-\" + inhoudItem['id']}\r\n                                        type=\"number\"\r\n                                        value={inhoudItem['aantal']}\r\n                                        onChange={(e) => changeItems(\"aantal\", e.target.value, inhoudItem)}\r\n                                        className=\"mb-1\"\r\n                                    />\r\n                                ))}\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col xs={2}>\r\n                            <Form.Group>\r\n                                <Form.Label>Kapot:</Form.Label>\r\n                                {inhoudItems.filter(inhoudItem => (!inhoudItem['removed'])).map(inhoudItem => (\r\n                                    <Form.Control\r\n                                        id={\"inhoudKapot-\" + inhoudItem['id']}\r\n                                        type=\"number\"\r\n                                        value={inhoudItem['kapot']}\r\n                                        onChange={(e) => changeItems(\"kapot\", e.target.value, inhoudItem)}\r\n                                        className=\"mb-1\"\r\n                                    />\r\n                                ))}\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col xs={2}>\r\n                            <Form.Group>\r\n                                <Form.Label>Tekort:</Form.Label>\r\n                                {inhoudItems.filter(inhoudItem => (!inhoudItem['removed'])).map(inhoudItem => (\r\n                                    <Form.Control\r\n                                        id={\"inhoudTekort-\" + inhoudItem['id']}\r\n                                        type=\"number\"\r\n                                        value={inhoudItem['tekort']}\r\n                                        onChange={(e) => changeItems(\"tekort\", e.target.value, inhoudItem)}\r\n                                        className=\"mb-1\"\r\n                                    />\r\n                                ))}\r\n                            </Form.Group>\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    {/*Tips*/}\r\n                    <Form.Group>\r\n                        <Form.Label>Tips:</Form.Label>\r\n                        {tipItems.filter(tipItem => (!tipItem['removed'])).map(tipItem => (\r\n                            <Form.Control\r\n                                id={\"tipItem-\" + tipItem['id']}\r\n                                as=\"textarea\"\r\n                                placeholder=\"Geef een tip...\"\r\n                                value={tipItem['text']}\r\n                                onChange={(e) => changeTips(\"text\", e.target.value, tipItem)}\r\n                                onBlur={(e) => changeTips(\"lostFocus\", e.target.value, tipItem)}\r\n                                rows={1}\r\n                                className=\"mb-1\"\r\n                            />\r\n                        ))}\r\n                    </Form.Group>\r\n\r\n                    {/*Korte inhoud*/}\r\n                    <Form.Group controlId=\"korteInhoud\">\r\n                        <Form.Label>Korte beschrijving:</Form.Label>\r\n                        <Form.Control\r\n                            as=\"textarea\"\r\n                            placeholder=\"Korte beschrijving\"\r\n                            value={korteInhoud}\r\n                            onChange={(e) => setKorteInhoud(e.target.value)}\r\n                        />\r\n                    </Form.Group>\r\n\r\n                    {/*Bijlages*/}\r\n                    <Form.Group as={Row}>\r\n                        <Col xs={12}>\r\n                            <Form.Label>Bijlages:</Form.Label>\r\n                        </Col>\r\n                        {bijlages.filter(bijlage => (!bijlage['removed'])).map(bijlage => (\r\n                            <>\r\n                                <Col xs={6}>\r\n                                    <Form.Control\r\n                                        id={\"bijlage-\" + bijlage['id']}\r\n                                        type=\"text\"\r\n                                        placeholder=\"Naam bijlage\"\r\n                                        value={bijlage['naam']}\r\n                                        onChange={(e) => changeBijlage(\"naam\", e, bijlage)}\r\n                                        onBlur={(e) => changeBijlage(\"lostFocus\", e.target.value, bijlage)}\r\n                                        className=\"mb-1\"\r\n                                        required={bijlage['bestand']}\r\n                                    />\r\n                                </Col>\r\n                                <Col xs={6} className=\"d-flex align-items-center\">\r\n                                    {bijlage['path']\r\n                                    ?\r\n                                        <a href={bijlage['path']} target=\"_blank\">{bijlage['naam']}</a>\r\n                                    :\r\n                                        <input\r\n                                            id={\"file-\" + bijlage['id']}\r\n                                            type=\"file\"\r\n                                            onChange={(e) => changeBijlage(\"bestand\", e, bijlage)}\r\n                                            className=\"form-control-file mb-1\"\r\n                                        />\r\n                                    }\r\n                                </Col>\r\n                            </>\r\n                        ))}\r\n                    </Form.Group>\r\n\r\n                    {/*Beschikbaar*/}\r\n                    <Form.Group>\r\n                        <Form.Check\r\n                            id=\"beschikbaar\"\r\n                            type=\"checkbox\"\r\n                            label=\"Beschikbaar\"\r\n                            onChange={(e) => setBeschikbaar(!beschikbaar)}\r\n                            checked={beschikbaar}\r\n                        />\r\n                    </Form.Group>\r\n\r\n                    {/*Speciale aanvraag*/}\r\n                    <Form.Group>\r\n                        <Form.Check\r\n                            id=\"specialeAanvraag\"\r\n                            type=\"checkbox\"\r\n                            label=\"Speciale Aanvraag\"\r\n                            onChange={(e) => setSpecialeAanvraag(!specialeAanvraag)}\r\n                            checked={specialeAanvraag}\r\n                        />\r\n                    </Form.Group>\r\n\r\n                    {action == \"toevoegen\"\r\n                        ?\r\n                        <Button variant=\"primary\" type=\"submit\">\r\n                            Speelgoed aanmaken\r\n                        </Button>\r\n                        :\r\n                        <Button variant=\"primary\" type=\"submit\">\r\n                            Speelgoed bewerken\r\n                        </Button>\r\n                    }\r\n                </div>\r\n            </Form>\r\n        </main>\r\n    )\r\n}","import {Button, Col, Form, Row, Table} from \"react-bootstrap\";\r\nimport {FaPen, FaPlus, FaTimes, FaTrashAlt} from \"react-icons/fa\";\r\nimport {useState} from \"react\";\r\n\r\nexport default function CategorieTable ({ categorie, onAddSubCategorie, onRemoveSubCategorie, onEditCategorie, onEditSubCategorie }) {\r\n    const [subCategorieInEditMode, setSubCategorieInEditMode] = useState();\r\n    const [categorieInEditMode, setCategorieInEditMode] = useState(false);\r\n    const [showBody, setShowBody] = useState(false);\r\n\r\n    const [subCategorieNaam, setSubCategorieNaam] = useState();\r\n    const [checked, setChecked] = useState([]);\r\n    const [categorieChecked, setCategorieChecked] = useState(false);\r\n\r\n    const [editedCategorieNaam, setEditedCategorieNaam] = useState(categorie['naam']);\r\n    const [editedSubCategorieNaam, setEditedSubCategorieNaam] = useState();\r\n\r\n    function toggleBody() {\r\n        setShowBody(!showBody);\r\n    }\r\n\r\n    function toggleCategorieEditMode() {\r\n        setCategorieInEditMode(!categorieInEditMode);\r\n        setSubCategorieInEditMode(0);\r\n    }\r\n\r\n    function toggleSubCategorieEditMode(subCategorieId) {\r\n        if (subCategorieInEditMode == subCategorieId)\r\n            return setSubCategorieInEditMode(0);\r\n        setSubCategorieInEditMode(subCategorieId);\r\n        setEditedSubCategorieNaam(categorie['subCategorieen'].filter((sc) => (sc['id'] == subCategorieId))[0]['naam']);\r\n        setCategorieInEditMode(false);\r\n    }\r\n\r\n    function toggleCategorieChecked() {\r\n        if (categorieChecked) {\r\n            setChecked([]);\r\n            setCategorieChecked(false);\r\n        } else {\r\n            setChecked(categorie['subCategorieen'].map((sc) => (sc['id'])));\r\n            setCategorieChecked(true);\r\n        }\r\n    }\r\n\r\n    function toggleSubCategorieChecked(scId) {\r\n        setCategorieChecked(false);\r\n        if (checked.includes(scId)) {\r\n            setChecked(checked.filter((id) => (id != scId)))\r\n        } else {\r\n            setChecked([...checked, scId]);\r\n        }\r\n    }\r\n\r\n    async function addSubCategorieRemote(e) {\r\n        e.preventDefault()\r\n\r\n        const res = await fetch('/php/admin/addSubCategorie.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\"categorieId\": categorie['id'], subCategorieNaam})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onAddSubCategorie(data['subCategorie'], categorie);\r\n            setSubCategorieNaam('');\r\n        } else {\r\n            alert('Het aanmaken van een nieuwe subcategorie is mislukt');\r\n        }\r\n    }\r\n\r\n    async function editCategorieRemote(e) {\r\n        e.preventDefault()\r\n\r\n        const res = await fetch('/php/admin/editCategorie.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\"categorieId\": categorie['id'], editedCategorieNaam})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onEditCategorie(data['newCategorieNaam'], categorie);\r\n            setCategorieInEditMode(false);\r\n        } else {\r\n            alert('Het bewerken van de categorie is mislukt');\r\n        }\r\n    }\r\n\r\n    async function editSubCategorieRemote(e) {\r\n        e.preventDefault()\r\n\r\n        const res = await fetch('/php/admin/editSubCategorie.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\"subCategorieId\": subCategorieInEditMode, editedSubCategorieNaam})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onEditSubCategorie(data['newSubCategorieNaam'], categorie, subCategorieInEditMode);\r\n            setSubCategorieInEditMode(0);\r\n        } else {\r\n            alert('Het bewerken van de subcategorie is mislukt');\r\n        }\r\n    }\r\n\r\n    async function removeSubCategorieRemote(subCategorieId) {\r\n        let subCategorieIds = [];\r\n        let removeCategorie = false\r\n        if (subCategorieId === -1) {\r\n            if (categorie['naam'] === \"Leeftijd\") {\r\n                subCategorieIds = checked;\r\n            } else {\r\n                if (checked.length === 0) {\r\n                    removeCategorie = true;\r\n                    subCategorieIds = categorie['subCategorieen'].map((sc) => (sc['id']));\r\n                } else {\r\n                    removeCategorie = categorieChecked;\r\n                    subCategorieIds = checked;\r\n                }\r\n            }\r\n        } else {\r\n            subCategorieIds.push(subCategorieId);\r\n        }\r\n\r\n        const res = await fetch('/php/admin/removeSubCategories.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({subCategorieIds, removeCategorie, \"categorieId\": categorie['id']})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onRemoveSubCategorie(data['removedSubCategorieIds'], categorie, data['categorieRemoved']);\r\n        } else {\r\n            alert('Het verwijderen van de subcategorie is mislukt');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n            <thead>\r\n            <tr>\r\n                <th className=\"jt-table-vertical-center\">\r\n                    {categorieInEditMode\r\n                    ?\r\n                        <div>\r\n                            <Form onSubmit={editCategorieRemote}>\r\n                                <Form.Group className=\"d-flex flex-row my-2\">\r\n                                    <Col xs={10}>\r\n                                        <Form.Control\r\n                                            type=\"text\"\r\n                                            placeholder=\"Categorie naam\"\r\n                                            value={editedCategorieNaam}\r\n                                            onChange={(e) => setEditedCategorieNaam(e.target.value)}\r\n                                            required\r\n                                        />\r\n                                    </Col>\r\n                                    <Col xs={2}>\r\n                                        <Button variant=\"primary\" type=\"submit\" className=\"form-control\">\r\n                                            Bewerk\r\n                                        </Button>\r\n                                    </Col>\r\n                                </Form.Group>\r\n                            </Form>\r\n                        </div>\r\n                    :\r\n                        <div className=\"d-flex flex-row\">\r\n                            <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                <Form.Check\r\n                                    type=\"checkbox\"\r\n                                    className=\"jt-table-check\"\r\n                                    onChange={(e) => toggleCategorieChecked()}\r\n                                    checked={categorieChecked}\r\n                                />\r\n                            </Form>\r\n                            <div className=\"d-flex align-items-center\">{categorie['naam']}</div>\r\n                            <Button\r\n                                variant=\"outline-info\"\r\n                                size=\"sm\"\r\n                                onClick={toggleBody}\r\n                                className=\"ml-3\"\r\n                            >\r\n                                {showBody ? \"Verberg\" : \"Toon\"}\r\n                            </Button>\r\n                        </div>\r\n                    }\r\n                </th>\r\n                <th className=\"jt-table-actions\">\r\n                    {categorie['naam'] != \"Leeftijd\"\r\n                        ?\r\n                        <>\r\n                            <Button variant=\"info\" className=\"rounded-circle\" onClick={toggleCategorieEditMode}>{categorieInEditMode ? <FaTimes/> : <FaPen/>}</Button>\r\n                            <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => removeSubCategorieRemote(-1)}><FaTrashAlt/></Button>\r\n                        </>\r\n                        :\r\n                        <>\r\n                            <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => removeSubCategorieRemote(-1)}><FaTrashAlt/></Button>\r\n                        </>\r\n                    }\r\n                </th>\r\n            </tr>\r\n            </thead>\r\n            <tbody className={showBody ? \"\" : \"d-none\"}>\r\n                <tr>\r\n                    <td colSpan={2} className=\"jt-table-vertical-center\">\r\n                        <div>\r\n                            <Form onSubmit={addSubCategorieRemote}>\r\n                                <Form.Group className=\"d-flex flex-row my-2\">\r\n                                    <Form.Label column lg={3}>Nieuwe subcategorie: </Form.Label>\r\n                                    <Col xs={10} lg={7}>\r\n                                        <Form.Control\r\n                                            type=\"text\"\r\n                                            placeholder=\"Subcategorie naam\"\r\n                                            value={subCategorieNaam}\r\n                                            onChange={(e) => setSubCategorieNaam(e.target.value)}\r\n                                            required\r\n                                        />\r\n                                    </Col>\r\n                                    <Col xs={2}>\r\n                                        <Button variant=\"primary\" type=\"submit\" className=\"form-control\">\r\n                                            Maak aan\r\n                                        </Button>\r\n                                    </Col>\r\n                                </Form.Group>\r\n                            </Form>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            {categorie['subCategorieen'].map(subCategorie => (\r\n                <tr>\r\n                    <td className=\"jt-table-vertical-center\">\r\n                        {subCategorie['id'] == subCategorieInEditMode\r\n                        ?\r\n                            <div>\r\n                                <Form onSubmit={editSubCategorieRemote}>\r\n                                    <Form.Group className=\"d-flex flex-row my-2\">\r\n                                        <Col xs={10}>\r\n                                            <Form.Control\r\n                                                type=\"text\"\r\n                                                placeholder=\"Subcategorie naam\"\r\n                                                value={editedSubCategorieNaam}\r\n                                                onChange={(e) => setEditedSubCategorieNaam(e.target.value)}\r\n                                                required\r\n                                            />\r\n                                        </Col>\r\n                                        <Col xs={2}>\r\n                                            <Button variant=\"primary\" type=\"submit\" className=\"form-control\">\r\n                                                Bewerk\r\n                                            </Button>\r\n                                        </Col>\r\n                                    </Form.Group>\r\n                                </Form>\r\n                            </div>\r\n                        :\r\n                            <div className=\"d-flex flex-row\">\r\n                                <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                    <Form.Check\r\n                                        type=\"checkbox\"\r\n                                        className=\"jt-table-check\"\r\n                                        onChange={(e) => toggleSubCategorieChecked(subCategorie['id'])}\r\n                                        checked={checked.includes(subCategorie['id'])}\r\n                                    />\r\n                                </Form>\r\n                                <div>{subCategorie['naam']}</div>\r\n                            </div>\r\n                        }\r\n                    </td>\r\n                    <td className=\"jt-table-actions\">\r\n                        <Button variant=\"info\" className=\"rounded-circle\" onClick={() => toggleSubCategorieEditMode(subCategorie['id'])}>{subCategorie['id'] == subCategorieInEditMode ? <FaTimes/> : <FaPen/>}</Button>\r\n                        <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => removeSubCategorieRemote(subCategorie['id'])}><FaTrashAlt/></Button>\r\n                    </td>\r\n                </tr>\r\n            ))}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}","import {Redirect} from \"react-router-dom\";\r\nimport CategorieTable from \"../../components/CategorieTable\";\r\nimport {Alert, Button, Col, Form, Row} from \"react-bootstrap\";\r\nimport {useState} from \"react\";\r\n\r\nexport default function AdminCategorieenPage({ isLoggedIn, categorieen, leeftijd, onAddCategorie, onAddSubCategorie, onRemoveSubCategorie, onEditCategorie, onEditSubCategorie }) {\r\n    const [categorieNaam, setCategorieNaam] = useState();\r\n\r\n    async function addCategorieRemote(e) {\r\n        e.preventDefault();\r\n\r\n        const res = await fetch('/php/admin/addCategorie.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({categorieNaam})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onAddCategorie(data['categorie']);\r\n        } else {\r\n            alert('Het aanmaken van een nieuwe categorie is mislukt');\r\n        }\r\n\r\n        setCategorieNaam('');\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <main className=\"container\">\r\n            <h1>Admin Categorieën</h1>\r\n            <Form onSubmit={addCategorieRemote}>\r\n                <Form.Group as={Row} controlId=\"formBasicUser\">\r\n                    <Form.Label column lg={3}>Nieuwe categorie: </Form.Label>\r\n                    <Col xs={10} lg={7}>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            placeholder=\"Categorie naam\"\r\n                            value={categorieNaam}\r\n                            onChange={(e) => setCategorieNaam(e.target.value)}\r\n                            required\r\n                        />\r\n                    </Col>\r\n                    <Col xs={2}>\r\n                        <Button variant=\"primary\" type=\"submit\" className=\"form-control\">\r\n                            Maak aan\r\n                        </Button>\r\n                    </Col>\r\n                </Form.Group>\r\n            </Form>\r\n            {leeftijd['id'] != -1\r\n            ?\r\n                <CategorieTable\r\n                    categorie={leeftijd}\r\n                    onAddSubCategorie={onAddSubCategorie}\r\n                    onRemoveSubCategorie={onRemoveSubCategorie}\r\n                    onEditCategorie={onEditCategorie}\r\n                    onEditSubCategorie={onEditSubCategorie}\r\n                />\r\n            :\r\n                <Alert variant=\"danger\">\r\n                    <Alert.Heading>\r\n                        Categorie leeftijd ontbreekt!!!\r\n                    </Alert.Heading>\r\n                    <p className=\"mb-0\">\r\n                        Gelieve een categorie aan te maken met de naam 'Leeftijd'.\r\n                    </p>\r\n                </Alert>\r\n            }\r\n            {categorieen.map(categorie => (\r\n                <CategorieTable\r\n                    categorie={categorie}\r\n                    onAddSubCategorie={onAddSubCategorie}\r\n                    onRemoveSubCategorie={onRemoveSubCategorie}\r\n                    onEditCategorie={onEditCategorie}\r\n                    onEditSubCategorie={onEditSubCategorie}\r\n                />\r\n            ))}\r\n        </main>\r\n    )\r\n}","import ReactStars from \"react-rating-stars-component/dist/react-stars\";\r\n\r\nexport default function waarderingsSterren({waardering}) {\r\n    return (\r\n        <ReactStars\r\n            count={5}\r\n            size={24}\r\n            value={waardering}\r\n            edit={false}\r\n            activeColor=\"#ffd700\"\r\n        />\r\n    )\r\n}","import {Card} from \"react-bootstrap\";\r\nimport WaarderingsSterren from \"../components/WaarderingsSterren\"\r\n\r\nexport default function Review({review, gebruiker}) {\r\n    return (\r\n        <Card className=\"mb-2\">\r\n            <Card.Header>\r\n                <div className=\"d-flex flex-row align-items-center mb-2\">\r\n                    <Card.Title className=\"mb-0 mr-2\">\r\n                        {gebruiker['naam']}\r\n                    </Card.Title>\r\n                    <WaarderingsSterren\r\n                        waardering={review['waardering']}\r\n                    />\r\n                </div>\r\n                <Card.Subtitle>\r\n                    {review['datum']}\r\n                </Card.Subtitle>\r\n                {/*TODO Bewerken als gebruiker is review['gebruikerId']*/}\r\n            </Card.Header>\r\n            <Card.Body>\r\n                {review['inhoud']}\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}","import {useEffect, useState} from \"react\";\r\nimport {Link, Redirect, useLocation} from \"react-router-dom\";\r\nimport {Button, Row, Col, ListGroup, NavLink, Navbar, Form, Card} from 'react-bootstrap';\r\nimport Loading from \"../components/Loading\";\r\nimport {FaPen} from \"react-icons/fa\";\r\nimport Review from \"../components/Review\";\r\nimport ReactStars from \"react-rating-stars-component\";\r\nimport SpeelgoedToegevoegd from \"../components/SpeelgoedToegevoegd\";\r\n\r\nexport default function SpeelgoedFichePage({isLoggedIn, speelgoed, leeftijd, categorieen, userData, reviews,\r\n                                               gebruikers, periodes, onAddReview, reservaties, onWinkelWagenAdd, winkelWagen}) {\r\n    const location = useLocation();\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const [speelgoedItem, setSpeelgoedItem] = useState({});\r\n\r\n    const [reservatiePeriode, setReservatiePeriode] = useState(-1);\r\n\r\n    const [reviewToAdd, setReviewToAdd] = useState({});\r\n\r\n    const [showToegevoegd, setShowToegevoegd] = useState(false);\r\n    const [toegevoedSpeelgoed, setToegevoegdSpeelgoed] = useState({});\r\n    const [toegevoegdPeriode, setToegevoegdPeriode] = useState({});\r\n\r\n    useEffect(() => {\r\n        let query = location.search;\r\n        let variables = {};\r\n        if (query) {\r\n            query = query.slice(1,query.length); // Remove questionmark\r\n            let variableStrings = query.split('&'); // Split variables\r\n            variableStrings.forEach((variable)=>{\r\n                variables[variable.split('=')[0]] = variable.split('=')[1]; // Split key and value and store in array\r\n            })\r\n            setSpeelgoedItem(speelgoed.find(item => (item['id'] == variables['id'])));\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    function ratingChanged(newRating) {\r\n        setReviewToAdd({...reviewToAdd, \"waardering\": newRating});\r\n    }\r\n\r\n    function onShowModalToegevoegd(speelgoedId, periodeId) {\r\n        setToegevoegdSpeelgoed(speelgoed.find(item => (item['id'] === speelgoedId)));\r\n        setToegevoegdPeriode(periodes.find(item => (item['id'] === periodeId)));\r\n        setShowToegevoegd(true);\r\n    }\r\n\r\n    function onHideModalToegevoegd() {\r\n        setShowToegevoegd(false);\r\n    }\r\n\r\n    function onWinkelWagenAddLocal(e) {\r\n        e.preventDefault();\r\n        if (reservatiePeriode !== -1) {\r\n            if (!(winkelWagen.map(item => item['speelgoedId']).includes(speelgoedItem['id']) && winkelWagen.map(item => item['periodeId']).includes(reservatiePeriode))) {\r\n                onWinkelWagenAdd(speelgoedItem['id'], reservatiePeriode);\r\n                onShowModalToegevoegd(speelgoedItem['id'], reservatiePeriode);\r\n            } else {\r\n                alert(\"Deze reservatie zit reeds in uw winkelwagen\")\r\n            }\r\n        } else {\r\n            alert(\"Selecteer een periode\");\r\n        }\r\n    }\r\n\r\n    async function addReviewRemote(e) {\r\n        e.preventDefault();\r\n\r\n        let today = new Date();\r\n        let todayString = today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate();\r\n        const res = await fetch('/php/reviewAdd.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({...reviewToAdd, \"gebruikerId\": userData['id'], \"speelgoedId\": speelgoedItem['id'], \"datum\": todayString})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onAddReview(data['review']);\r\n            setReviewToAdd({\"waardering\": 0, \"inhoud\": \"\"});\r\n            ratingChanged(0);\r\n        } else {\r\n            alert('Het aanmaken van een review is mislukt');\r\n        }\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    if (loading) {\r\n        return (\r\n            <Loading/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container position-relative\">\r\n                {userData['role'] == \"Admin\"\r\n                    ?\r\n                    <Navbar className=\"jt-edit-btn jt-no-printt\">\r\n                        <NavLink as={Link} to={\"/admin/speelgoedfiche?action=bewerken&id=\" + speelgoedItem['id']}><FaPen/></NavLink>\r\n                    </Navbar>\r\n                    :\r\n                    <></>\r\n                }\r\n                {/*Titel*/}\r\n                <h1>\r\n                    <span className=\"mr-2\">{speelgoedItem['naam']}</span>\r\n                    <span className=\"jt-subtitle\">\r\n                {\r\n                    (speelgoedItem['oudCode']\r\n                        ? speelgoedItem['oudCode'] + \", \"\r\n                        : \"\")\r\n                    +\r\n                    (speelgoedItem['merk']\r\n                        ? speelgoedItem['merk'] + \", \"\r\n                        : \"\")\r\n                    +\r\n                    speelgoedItem['aankoopDatum']\r\n                }\r\n                </span>\r\n                </h1>\r\n                <Row>\r\n                    <Col xs={12} md={4}>\r\n                        <img id=\"foto\" src={speelgoedItem['foto'] ? speelgoedItem['foto'] : \"/images/placeholder.jpg\"} alt=\"\" className=\"m-auto\"/>\r\n                    </Col>\r\n                    <Col className=\"col\">\r\n                        <Row>\r\n                            {/*Leeftijd*/}\r\n                            <Col xl={6}>\r\n                                <h3>Leeftijd</h3>\r\n                                {speelgoedItem['leeftijden'].length > 0\r\n                                    ?\r\n                                    <ListGroup className=\"mb-3\">\r\n                                        {speelgoedItem['leeftijden'].map(item => (\r\n                                            <ListGroup.Item>{leeftijd['subCategorieen'].find(lt => (lt['id'] == item))['naam']}</ListGroup.Item>\r\n                                        ))}\r\n                                    </ListGroup>\r\n                                    :\r\n                                    <p>Geen leeftijden beschikbaar</p>\r\n                                }\r\n                            </Col>\r\n\r\n                            {/*Categorieen*/}\r\n                            <Col xl={6}>\r\n                                <h3>Categorieen</h3>\r\n                                {speelgoedItem['subCategorieen'].length > 0\r\n                                    ?\r\n                                    <ListGroup className=\"mb-3\">\r\n                                        {speelgoedItem['subCategorieen'].map(item => (\r\n                                            <ListGroup.Item>\r\n                                                {categorieen.find(c => (\r\n                                                    c['subCategorieen'].map(sc => sc['id']).includes(item)\r\n                                                ))['subCategorieen'].find(sc => (sc['id'] == item))['naam']}\r\n                                            </ListGroup.Item>\r\n                                        ))}\r\n                                    </ListGroup>\r\n                                    :\r\n                                    <p>Geen categorieen beschikbaar</p>\r\n                                }\r\n                            </Col>\r\n                        </Row>\r\n\r\n                        <Row>\r\n                            {/*Inhoud*/}\r\n                            <Col xl={6}>\r\n                                <h3>Inhoud</h3>\r\n                                {speelgoedItem['inhoud'].length > 0\r\n                                    ?\r\n                                    <ListGroup className=\"mb-3\">\r\n                                        {speelgoedItem['inhoud'].map(item => (\r\n                                            <ListGroup.Item>\r\n                                                {item['aantal'] + \" \" + item['text'] + \" (\" + item['tekort'] + \" tekort, \" + item['kapot'] + \" kapot)\"}\r\n                                            </ListGroup.Item>\r\n                                        ))}\r\n                                    </ListGroup>\r\n                                    :\r\n                                    <p>Geen inhoud beschikbaar</p>\r\n                                }\r\n                            </Col>\r\n\r\n                            {/*Tips*/}\r\n                            <Col xl={6}>\r\n                                <h3>Tips</h3>\r\n                                {speelgoedItem['tips'].length > 0\r\n                                    ?\r\n                                    <ListGroup className=\"mb-3\">\r\n                                        {speelgoedItem['tips'].map(item => (\r\n                                            <ListGroup.Item>\r\n                                                {item['text']}\r\n                                            </ListGroup.Item>\r\n                                        ))}\r\n                                    </ListGroup>\r\n                                    :\r\n                                    <p>Geen tips beschikbaar</p>\r\n                                }\r\n                            </Col>\r\n                        </Row>\r\n\r\n                        <Row>\r\n                            {/*Korte inhoud*/}\r\n                            <Col xs={12}>\r\n                                <h3>Korte inhoud</h3>\r\n                                <p>\r\n                                    {speelgoedItem['korteInhoud']}\r\n                                </p>\r\n                            </Col>\r\n                        </Row>\r\n\r\n                        <Row>\r\n                            {/*Bijlages*/}\r\n                            <Col xs={12}>\r\n                                <h3>Bijlages</h3>\r\n                                {speelgoedItem['bijlages'].length > 0\r\n                                    ?\r\n                                    <ul className=\"list-unstyled\">\r\n                                        {speelgoedItem['bijlages'].map(item => (\r\n                                            <li>\r\n                                                <a href={item['path']} target=\"_blank\">{item['type']}</a>\r\n                                            </li>\r\n                                        ))}\r\n                                    </ul>\r\n                                    :\r\n                                    <p>Geen bijlages beschikbaar</p>\r\n                                }\r\n                            </Col>\r\n                        </Row>\r\n\r\n                        <Form onSubmit={onWinkelWagenAddLocal} className=\"jt-no-print\">\r\n                            <Form.Row className=\"align-items-center\">\r\n                                {speelgoedItem['beschikbaar'] && !speelgoedItem['specialeAanvraag']\r\n                                    ?\r\n                                    <Col xs=\"auto\" className=\"my-1\">\r\n                                        <Form.Label htmlFor=\"periode\" srOnly>\r\n                                            Periode\r\n                                        </Form.Label>\r\n                                        <Form.Control\r\n                                            id=\"periode\"\r\n                                            as=\"select\"\r\n                                            value={reservatiePeriode}\r\n                                            onChange={e => setReservatiePeriode(parseInt(e.target.value))}\r\n                                        >\r\n                                            <option value=\"-1\">Kies...</option>\r\n                                            {periodes.filter(item => !(\r\n                                                item['isArchief'] || reservaties\r\n                                                    .filter(res => (!res['isArchief'] && res['speelgoedId'] === speelgoedItem['id']))\r\n                                                    .map(res => res['periodeId'])\r\n                                                    .includes(item['id']) ||\r\n                                                winkelWagen.filter(wwItem => (wwItem['speelgoedId'] === speelgoedItem['id']))\r\n                                                    .map(wwItem => wwItem['periodeId'])\r\n                                                    .includes(item['id'])\r\n                                            )).length > 0 ? periodes\r\n                                                .filter(item => !(\r\n                                                    item['isArchief'] || reservaties\r\n                                                        .filter(res => (!res['isArchief'] && res['speelgoedId'] === speelgoedItem['id']))\r\n                                                        .map(res => res['periodeId'])\r\n                                                        .includes(item['id']) ||\r\n                                                    winkelWagen.filter(wwItem => (wwItem['speelgoedId'] === speelgoedItem['id']))\r\n                                                        .map(wwItem => wwItem['periodeId'])\r\n                                                        .includes(item['id'])\r\n                                                ))\r\n                                                .map((periode) => (\r\n                                                        <option\r\n                                                            value={periode['id']}\r\n                                                        >{\"Van \" + periode['startDatum'] + \" tot \" + periode['eindDatum']}</option>\r\n                                                    )\r\n                                                ) : <option value=\"-1\">Geen periodes beschikbaar</option>}\r\n                                        </Form.Control>\r\n                                    </Col>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                                <Col xs=\"auto\" className=\"my-1\">\r\n                                    <Button\r\n                                        type=\"submit\"\r\n                                        variant={\r\n                                            !speelgoedItem['beschikbaar'] ||\r\n                                            speelgoedItem['specialeAanvraag'] ||\r\n                                            speelgoedItem['isArchief'] ||\r\n                                            periodes\r\n                                                .filter(item => !(\r\n                                                    item['isArchief'] ||\r\n                                                    reservaties\r\n                                                        .filter(res => (!res['isArchief'] && res['speelgoedId'] === speelgoedItem['id']))\r\n                                                        .map(res => res['periodeId'])\r\n                                                        .includes(item['id']) ||\r\n                                                    winkelWagen.filter(wwItem => (wwItem['speelgoedId'] === speelgoedItem['id']))\r\n                                                        .map(wwItem => wwItem['periodeId'])\r\n                                                        .includes(item['id'])\r\n                                                )).length === 0\r\n                                                ? \"danger\"\r\n                                                : \"success\"}\r\n                                        disabled={\r\n                                            !speelgoedItem['beschikbaar'] ||\r\n                                            speelgoedItem['specialeAanvraag'] ||\r\n                                            speelgoedItem['isArchief'] ||\r\n                                            periodes\r\n                                                .filter(item => !(\r\n                                                    item['isArchief'] ||\r\n                                                    reservaties\r\n                                                        .filter(res => (!res['isArchief'] && res['speelgoedId'] === speelgoedItem['id']))\r\n                                                        .map(res => res['periodeId'])\r\n                                                        .includes(item['id']) ||\r\n                                                    winkelWagen.filter(wwItem => (wwItem['speelgoedId'] === speelgoedItem['id']))\r\n                                                        .map(wwItem => wwItem['periodeId'])\r\n                                                        .includes(item['id'])\r\n                                                )).length === 0\r\n                                        }\r\n                                    >\r\n                                        {speelgoedItem['specialeAanvraag'] ? \"Speciale aanvraag\" : \"Reserveren\"}\r\n                                    </Button>\r\n                                </Col>\r\n                            </Form.Row>\r\n                        </Form>\r\n                    </Col>\r\n                </Row>\r\n\r\n                <section id=\"reviews\" className=\"jt-no-print\">\r\n                    <h2>Reviews</h2>\r\n                    <Card className=\"mb-4\">\r\n                        <Form onSubmit={addReviewRemote}>\r\n                            <Card.Header>\r\n                                <Card.Title className=\"mr-4\">\r\n                                    Voeg een review toe\r\n                                </Card.Title>\r\n                                <ReactStars\r\n                                    count={5}\r\n                                    size={24}\r\n                                    value={reviewToAdd['waardering']}\r\n                                    onChange={ratingChanged}\r\n                                    activeColor=\"#ffd700\"\r\n                                />\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <Form.Control\r\n                                    as=\"textarea\"\r\n                                    rows={5}\r\n                                    placeholder=\"Schrijf uw review...\"\r\n                                    value={reviewToAdd['inhoud']}\r\n                                    onChange={e => setReviewToAdd({...reviewToAdd, \"inhoud\": e.target.value})}\r\n                                    required\r\n                                />\r\n                            </Card.Body>\r\n                            <Card.Footer>\r\n                                <Button variant=\"success\" type=\"submit\">Maak aan</Button>\r\n                            </Card.Footer>\r\n                        </Form>\r\n                    </Card>\r\n                    {reviews\r\n                        .filter(item => (\r\n                            item['speelgoedId'] === speelgoedItem['id']\r\n                            && (item['gebruikerId'] === userData['id'] || userData['role'] === \"Admin\")\r\n                            )\r\n                        )\r\n                        .map(review => (\r\n                            <Review\r\n                                review={review}\r\n                                gebruiker={gebruikers.find(item => (item['id'] === review['gebruikerId']))}\r\n                            />\r\n                        ))}\r\n                </section>\r\n            </main>\r\n\r\n            <SpeelgoedToegevoegd\r\n                show={showToegevoegd}\r\n                onHide={() => onHideModalToegevoegd()}\r\n                item={toegevoedSpeelgoed}\r\n                periode={toegevoegdPeriode}\r\n            />\r\n        </>\r\n    )\r\n}","import {Redirect} from \"react-router-dom\";\r\nimport {Badge, Button, Col, Form, Table} from \"react-bootstrap\";\r\nimport {FaArchive, FaPen, FaPlus, FaTimes} from \"react-icons/fa\";\r\nimport {useState} from \"react\";\r\n\r\nexport default function AdminDoelgroepenPage({isLoggedIn, doelgroepen, onAddDoelgroep, onEditDoelgroep, onArchiveDoelgroep}){\r\n    const [showArchief, setShowArchief] = useState(false);\r\n    const [addDoelgroep, setAddDoelgroep] = useState(false);\r\n    const [doelgroepNaam, setDoelgroepNaam] = useState('');\r\n    const [editDoelgroepNaam, setEditDoelgroepNaam] = useState('');\r\n    const [editDoelgroep, setEditDoelgroep] = useState(-1);\r\n\r\n    function toggleEditDoelgroep(id) {\r\n        if (editDoelgroep === id) {\r\n            setEditDoelgroep(-1);\r\n        } else {\r\n            setEditDoelgroep(id);\r\n            setEditDoelgroepNaam(doelgroepen.find(item => item['id'] === id)['naam']);\r\n        }\r\n    }\r\n\r\n    async function addDoelgroepRemote(e) {\r\n        e.preventDefault();\r\n\r\n        const res = await fetch('/php/admin/doelgroepAdd.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({doelgroepNaam})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onAddDoelgroep(data['doelgroep']);\r\n        } else {\r\n            alert('Het aanmaken van een doelgroep is mislukt');\r\n        }\r\n    }\r\n\r\n    async function editDoelgroepRemote(e) {\r\n        e.preventDefault();\r\n\r\n        const res = await fetch('/php/admin/doelgroepEdit.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({editDoelgroep, editDoelgroepNaam})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onEditDoelgroep(data['doelgroep']);\r\n            setEditDoelgroep(-1);\r\n        } else {\r\n            alert('Het bewerken van de doelgroep is mislukt');\r\n        }\r\n    }\r\n\r\n    async function toggleArchiveDoelgroepRemote(id) {\r\n        const res = await fetch('/php/admin/doelgroepArchive.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({id, \"isArchief\": !(doelgroepen.find(item => (item['id'] === id))['isArchief'])})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onArchiveDoelgroep(data['id'], data['isArchief']);\r\n        } else {\r\n            alert('Het arciveren van de doelgroep is mislukt');\r\n        }\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <main className=\"container\">\r\n            <h1>Admin Doelgroepen</h1>\r\n            <Form.Check\r\n                id=\"toonArchief\"\r\n                type=\"checkbox\"\r\n                label={(showArchief ? \"Verberg \": \"Toon \") + \"archief\"}\r\n                onChange={() => setShowArchief(!showArchief)}\r\n                checked={showArchief}\r\n            />\r\n            <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                <thead>\r\n                <tr>\r\n                    <th className=\"pl-4\">Naam</th>\r\n                    <th/>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr>\r\n                    <td/>\r\n                    <td className=\"jt-table-actions\">\r\n                        <Button variant=\"success\" className=\"rounded-circle\" onClick={() => setAddDoelgroep(!addDoelgroep)}>{addDoelgroep ? <FaTimes/> : <FaPlus/>}</Button>\r\n                    </td>\r\n                </tr>\r\n                {addDoelgroep\r\n                    ?\r\n                    <tr>\r\n                        <td colSpan={2} className=\"jt-table-vertical-center\">\r\n                            <div>\r\n                                <Form onSubmit={addDoelgroepRemote}>\r\n                                    <Form.Group className=\"d-flex flex-row my-2\">\r\n                                        <Form.Label column lg={3}>Nieuwe doelgroep: </Form.Label>\r\n                                        <Col xs={10} lg={7}>\r\n                                            <Form.Control\r\n                                                type=\"text\"\r\n                                                placeholder=\"Doelgroep naam\"\r\n                                                value={doelgroepNaam}\r\n                                                onChange={(e) => setDoelgroepNaam(e.target.value)}\r\n                                                required\r\n                                            />\r\n                                        </Col>\r\n                                        <Col xs={2}>\r\n                                            <Button variant=\"primary\" type=\"submit\" className=\"form-control\">\r\n                                                Maak aan\r\n                                            </Button>\r\n                                        </Col>\r\n                                    </Form.Group>\r\n                                </Form>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                    :\r\n                    <></>\r\n                }\r\n                {doelgroepen.filter(item => (showArchief || !item['isArchief'] )).map(doelgroep => (\r\n                    <tr>\r\n                        {doelgroep['id'] === editDoelgroep\r\n                            ?\r\n                            <td>\r\n                                <div>\r\n                                    <Form onSubmit={e => editDoelgroepRemote(e)}>\r\n                                        <Form.Group className=\"d-flex flex-row my-2\">\r\n                                            <Col xs={10}>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Doelgroep naam\"\r\n                                                    value={editDoelgroepNaam}\r\n                                                    onChange={(e) => setEditDoelgroepNaam(e.target.value)}\r\n                                                    required\r\n                                                />\r\n                                            </Col>\r\n                                            <Col xs={2}>\r\n                                                <Button variant=\"primary\" type=\"submit\" className=\"form-control\">\r\n                                                    Bewerk\r\n                                                </Button>\r\n                                            </Col>\r\n                                        </Form.Group>\r\n                                    </Form>\r\n                                </div>\r\n                            </td>\r\n                            :\r\n                            <td className=\"pl-4\">\r\n                                <span className=\"mr-2\">\r\n                                    {doelgroep['naam']}\r\n                                </span>\r\n                                {doelgroep['isArchief']\r\n                                    ?\r\n                                    <Badge pill variant=\"archive\" className=\"mr-2\">\r\n                                    <span className=\"mr-2\">\r\n                                        Gearchiveerd\r\n                                    </span>\r\n                                        <FaTimes as={Button}\r\n                                                 onClick={() => toggleArchiveDoelgroepRemote(doelgroep['id'])}\r\n                                                 className=\"jt-clickable\"\r\n                                        />\r\n                                    </Badge>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                            </td>\r\n                        }\r\n                        <td className=\"jt-table-actions\">\r\n                            <Button variant=\"info\" className=\"rounded-circle\" onClick={() => toggleEditDoelgroep(doelgroep['id'])}>{doelgroep['id'] === editDoelgroep ? <FaTimes/> : <FaPen/>}</Button>\r\n                            <Button variant=\"archive\" className=\"rounded-circle\" onClick={() => toggleArchiveDoelgroepRemote(doelgroep['id'])}><FaArchive/></Button>\r\n                        </td>\r\n                    </tr>\r\n                ))}\r\n                </tbody>\r\n            </Table>\r\n        </main>\r\n    )\r\n}","import Loading from \"../../components/Loading\";\r\nimport {Badge, Button, Col, Form, Modal, Table} from \"react-bootstrap\";\r\nimport {FaArchive, FaPen, FaPlus, FaTimes} from \"react-icons/fa\";\r\nimport {useState} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nexport default function AdminPeriodesPage({isLoggedIn, periodes, onAddPeriode, onEditPeriode}) {\r\n    const [showArchief, setShowArchief] = useState(false);\r\n    const [addPeriode, setAddPeriode] = useState(false);\r\n    const [currentEditPeriode, setCurrentEditPeriode] = useState(-1);\r\n    const [editedPeriodeStart, setEditedPeriodeStart] = useState('');\r\n    const [editedPeriodeEind, setEditedPeriodeEind] = useState('');\r\n    const [allChecked, setAllChecked] = useState(false);\r\n    const [periodesChecked, setPeriodesChecked] = useState([]);\r\n    const [nieuwePeriodeStart, setNieuwePeriodeStart] = useState('');\r\n    const [nieuwePeriodeEind, setNieuwePeriodeEind] = useState('');\r\n\r\n    function onHideModal() {\r\n        setAddPeriode(false);\r\n    }\r\n\r\n    function toggleAllChecked() {\r\n        if (allChecked) {\r\n            setPeriodesChecked([]);\r\n            setAllChecked(false);\r\n        } else {\r\n            setPeriodesChecked(periodes.map(item => item['id']));\r\n            setAllChecked(true);\r\n        }\r\n    }\r\n\r\n    function togglePeriodeChecked(periodeId) {\r\n        setAllChecked(false);\r\n        if (periodesChecked.includes(periodeId)) {\r\n            setPeriodesChecked(periodesChecked.filter((id) => (id != periodeId)))\r\n        } else {\r\n            setPeriodesChecked([...periodesChecked, periodeId]);\r\n        }\r\n    }\r\n\r\n    function toggleEditedPeriode(periodeId) {\r\n        if (currentEditPeriode == periodeId) {\r\n            setCurrentEditPeriode(-1);\r\n        } else {\r\n            setCurrentEditPeriode(periodeId);\r\n            setEditedPeriodeStart(periodes.find(item => (item['id'] == periodeId))['startDatum']);\r\n            setEditedPeriodeEind(periodes.find(item => (item['id'] == periodeId))['eindDatum']);\r\n        }\r\n    }\r\n\r\n    async function addPeriodeRemote(e) {\r\n        e.preventDefault();\r\n\r\n        const res = await fetch('/php/admin/periodeAdd.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({nieuwePeriodeStart, nieuwePeriodeEind})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onAddPeriode(data['periode']);\r\n        } else {\r\n            alert('Het aanmaken van een periode is mislukt');\r\n        }\r\n        onHideModal();\r\n    }\r\n\r\n    async function editPeriodeRemote(e) {\r\n        e.preventDefault();\r\n\r\n        const res = await fetch('/php/admin/periodeEdit.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\"periodeId\": currentEditPeriode, editedPeriodeStart, editedPeriodeEind, \"isArchief\": periodes.find(item => (item['id'] == currentEditPeriode))['isArchief']})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onEditPeriode(data['periode']);\r\n        } else {\r\n            alert('Het bewerken van een periode is mislukt');\r\n        }\r\n        setCurrentEditPeriode(-1);\r\n    }\r\n\r\n    async function toggleArchivePeriodeRemote(periodeId) {\r\n        let periode = periodes.find(item => (item['id'] == periodeId));\r\n        const res = await fetch('/php/admin/periodeArchive.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({periodeId, \"startDatum\": periode['startDatum'], \"eindDatum\": periode['eindDatum'], \"isArchief\": !periode['isArchief']})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onEditPeriode(data['periode']);\r\n        } else {\r\n            alert('Het bewerken van een periode is mislukt');\r\n        }\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container\">\r\n                <h1>Admin Periodes</h1>\r\n                <Form.Check\r\n                    id=\"toonArchief\"\r\n                    type=\"checkbox\"\r\n                    label={(showArchief ? \"Verberg \": \"Toon \") + \"archief\"}\r\n                    onChange={(e) => setShowArchief(!showArchief)}\r\n                    checked={showArchief}\r\n                />\r\n                <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>Start</th>\r\n                        <th>Einde</th>\r\n                        <th>Gearchiveerd</th>\r\n                        <th></th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr>\r\n                        <td className=\"jt-table-id\">\r\n                            <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                    <Form.Check\r\n                                        type=\"checkbox\"\r\n                                        className=\"jt-table-check\"\r\n                                        onChange={(e) => toggleAllChecked()}\r\n                                        checked={allChecked}\r\n                                    />\r\n                                </Form>\r\n                            </div>\r\n                        </td>\r\n                        <td colSpan={3}></td>\r\n                        <td className=\"jt-table-actions\">\r\n                            <Button variant=\"success\" className=\"rounded-circle\" onClick={() => setAddPeriode(!addPeriode)}>{addPeriode ? <FaTimes/> : <FaPlus/>}</Button>\r\n                        </td>\r\n                    </tr>\r\n                    {periodes.filter(item => (showArchief || !item['isArchief'] )).map(periode => (\r\n                        <tr>\r\n                            {periode['id'] == currentEditPeriode\r\n                                ?\r\n                                <td colSpan={4}>\r\n                                    <div>\r\n                                        <Form onSubmit={e => editPeriodeRemote(e)}>\r\n                                            <Form.Group className=\"d-flex flex-row my-2\">\r\n                                                <Col xs={5}>\r\n                                                    <Form.Control\r\n                                                        type=\"date\"\r\n                                                        placeholder=\"Start\"\r\n                                                        value={editedPeriodeStart}\r\n                                                        onChange={(e) => setEditedPeriodeStart(e.target.value)}\r\n                                                        required\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col xs={5}>\r\n                                                    <Form.Control\r\n                                                        type=\"date\"\r\n                                                        placeholder=\"Einde\"\r\n                                                        value={editedPeriodeEind}\r\n                                                        onChange={(e) => setEditedPeriodeEind(e.target.value)}\r\n                                                        required\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col xs={2}>\r\n                                                    <Button variant=\"primary\" type=\"submit\" className=\"form-control\">\r\n                                                        Bewerk\r\n                                                    </Button>\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                        </Form>\r\n                                    </div>\r\n                                </td>\r\n                                :\r\n                                <>\r\n                                    <td className=\"jt-table-id\">\r\n                                        <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                            <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                                <Form.Check\r\n                                                    type=\"checkbox\"\r\n                                                    className=\"jt-table-check\"\r\n                                                    onChange={(e) => togglePeriodeChecked(periode['id'])}\r\n                                                    checked={periodesChecked.includes(periode['id'])}\r\n                                                />\r\n                                            </Form>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td>\r\n                                        {periode['startDatum']}\r\n                                    </td>\r\n                                    <td>\r\n                                        {periode['eindDatum']}\r\n                                    </td>\r\n                                    <td>\r\n                                        {periode['isArchief']\r\n                                            ?\r\n                                            <Badge pill variant=\"archive\" className=\"mr-2\">\r\n                                                <span className=\"mr-2\">\r\n                                                    Gearchiveerd\r\n                                                </span>\r\n                                                <FaTimes as={Button}\r\n                                                         onClick={() => toggleArchivePeriodeRemote(periode['id'])}\r\n                                                         className=\"jt-clickable\"\r\n                                                />\r\n                                            </Badge>\r\n                                            :\r\n                                            <></>\r\n                                        }\r\n                                    </td>\r\n                                </>\r\n                            }\r\n                            <td className=\"jt-table-actions\">\r\n                                <Button variant=\"info\" className=\"rounded-circle\" onClick={() => toggleEditedPeriode(periode['id'])}>{periode['id'] == currentEditPeriode ? <FaTimes/> : <FaPen/>}</Button>\r\n                                <Button variant=\"archive\" className=\"rounded-circle\" onClick={() => toggleArchivePeriodeRemote(periode['id'])}><FaArchive/></Button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                </Table>\r\n            </main>\r\n\r\n            <Modal show={addPeriode} onHide={() => onHideModal()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Nieuwe periode</Modal.Title>\r\n                </Modal.Header>\r\n                <Form onSubmit={addPeriodeRemote}>\r\n                    <Modal.Body>\r\n                        <Form.Group>\r\n                            <Form.Label>Startdatum: </Form.Label>\r\n                            <Form.Control\r\n                                type=\"date\"\r\n                                placeholder=\"Startdatum\"\r\n                                value={nieuwePeriodeStart}\r\n                                onChange={(e) => setNieuwePeriodeStart(e.target.value)}\r\n                                required\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label>Einddatum: </Form.Label>\r\n                            <Form.Control\r\n                                type=\"date\"\r\n                                placeholder=\"Einddatum\"\r\n                                value={nieuwePeriodeEind}\r\n                                onChange={(e) => setNieuwePeriodeEind(e.target.value)}\r\n                                required\r\n                            />\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={() => onHideModal()}>\r\n                            Sluiten\r\n                        </Button>\r\n                        <Button variant=\"success\" type=\"submit\">\r\n                            Maak aan\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n        </>\r\n    )\r\n}","import {Badge, Button, Form, Modal, Table} from \"react-bootstrap\";\r\nimport {FaArchive, FaPen, FaPlus, FaTimes, FaTrash} from \"react-icons/fa\";\r\nimport {useState} from \"react\";\r\nimport {sha256} from \"js-sha256\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nexport default function AdminGebruikersPage({isLoggedIn, gebruikers, onAddGebruiker, onEditGebruiker, onDeleteGebruiker, userData}) {\r\n    const [showArchief, setShowArchief] = useState(false);\r\n    const [addGebruiker, setAddGebruiker] = useState(false);\r\n    const [allChecked, setAllChecked] = useState(false);\r\n    const [gebruikersChecked, setGebruikersChecked] = useState([]);\r\n\r\n    const [currentEditedGebruiker, setCurrentEditedGebruiker] = useState({\"id\": -1});\r\n    const [changePassword, setChangePassword] = useState(false);\r\n\r\n    const [nieuweGebruiker, setNieuweGebruiker] = useState({\"naam\": \"\", \"email\": \"\", \"wachtwoord\": \"\"});\r\n\r\n    const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n    const [toDelete, setToDelete] = useState([]);\r\n\r\n    function onHideModalAdd() {\r\n        setAddGebruiker(false);\r\n        setNieuweGebruiker({\"naam\": \"\", \"email\": \"\", \"wachtwoord\": \"\"});\r\n    }\r\n\r\n    function onHideModalEdit() {\r\n        setCurrentEditedGebruiker({\"id\": -1});\r\n        setChangePassword(false);\r\n    }\r\n\r\n    function onHideModalDelete() {\r\n        setShowDeleteConfirm(false);\r\n    }\r\n\r\n    function toggleAllChecked() {\r\n        if (allChecked) {\r\n            setGebruikersChecked([]);\r\n            setAllChecked(false);\r\n        } else {\r\n            setGebruikersChecked(gebruikers.filter(item => (item['doelgroepId'] === userData['sessDoelgroep'])).map(item => item['id']));\r\n            setAllChecked(true);\r\n        }\r\n    }\r\n\r\n    function togglePeriodeChecked(periodeId) {\r\n        setAllChecked(false);\r\n        if (gebruikersChecked.includes(periodeId)) {\r\n            setGebruikersChecked(gebruikersChecked.filter((id) => (id !== periodeId)))\r\n        } else {\r\n            setGebruikersChecked([...gebruikersChecked, periodeId]);\r\n        }\r\n    }\r\n\r\n    function toggleEditedGebruiker(gebruikerId) {\r\n        if (currentEditedGebruiker['id'] === gebruikerId) {\r\n            onHideModalEdit();\r\n        } else {\r\n            setCurrentEditedGebruiker(gebruikers.find(item => (item['id'] === gebruikerId)));\r\n        }\r\n    }\r\n\r\n    async function addGebruikerRemote(e) {\r\n        e.preventDefault();\r\n\r\n        let gebruiker = {...nieuweGebruiker, \"wachtwoord\": sha256(nieuweGebruiker['wachtwoord'])};\r\n\r\n        const res = await fetch('/php/admin/gebruikerAdd.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify(gebruiker)\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onAddGebruiker(data['gebruiker']);\r\n        } else {\r\n            alert('Het aanmaken van een gebruiker is mislukt');\r\n        }\r\n        onHideModalAdd();\r\n    }\r\n\r\n    async function editGebruikerRemote(e) {\r\n        e.preventDefault();\r\n\r\n        let gebruiker = {...currentEditedGebruiker, \"wachtwoord\": (changePassword ? sha256(currentEditedGebruiker['wachtwoord']) : 0)};\r\n\r\n        const res = await fetch('/php/admin/gebruikerEdit.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify(gebruiker)\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onEditGebruiker(data['gebruiker']);\r\n        } else {\r\n            alert('Het bewerken van een gebruiker is mislukt');\r\n        }\r\n        onHideModalEdit();\r\n    }\r\n\r\n    async function editRoleRemote(gebruikerId, newRole) {\r\n        const res = await fetch('/php/admin/gebruikerEditRole.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                gebruikerId,\r\n                \"role\": newRole\r\n            })\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            let gebruiker = {...gebruikers.find(item => (item['id'] === data['id'])), \"role\": data['role']}\r\n            onEditGebruiker(gebruiker);\r\n        } else {\r\n            alert('Het veranderen van de rol van de gebruiker is mislukt');\r\n        }\r\n    }\r\n\r\n    async function toggleArchiveGebruikerRemote(gebruikerId) {\r\n        const res = await fetch('/php/admin/gebruikerArchive.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                gebruikerId,\r\n                \"isArchief\": !(gebruikers.find(item => (item['id'] === gebruikerId))['isArchief'])\r\n            })\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            let gebruiker = {...gebruikers.find(item => (item['id'] === data['id'])), \"isArchief\": data['isArchief']}\r\n            onEditGebruiker(gebruiker);\r\n        } else {\r\n            alert('Het archiveren van een gebruiker is mislukt');\r\n        }\r\n    }\r\n\r\n    function deleteGebruikerLocal(id) {\r\n        setShowDeleteConfirm(true);\r\n        let ids = [];\r\n        if (id === -1) {\r\n            ids = gebruikersChecked;\r\n        } else {\r\n            ids.push(id);\r\n        }\r\n        setToDelete(ids);\r\n    }\r\n\r\n    async function deleteGebruikerRemote() {\r\n        const res = await fetch('/php/admin/gebruikerDelete.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({toDelete})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onDeleteGebruiker(data['ids']);\r\n        } else {\r\n            alert('Het verwijderen is mislukt');\r\n        }\r\n        onHideModalDelete();\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container\">\r\n                <h1>Admin Periodes</h1>\r\n                <Form.Check\r\n                    id=\"toonArchief\"\r\n                    type=\"checkbox\"\r\n                    label={(showArchief ? \"Verberg \": \"Toon \") + \"archief\"}\r\n                    onChange={() => setShowArchief(!showArchief)}\r\n                    checked={showArchief}\r\n                />\r\n                <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th/>\r\n                        <th>Naam</th>\r\n                        <th>Email</th>\r\n                        <th>Rol</th>\r\n                        <th/>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr>\r\n                        <td className=\"jt-table-id\">\r\n                            <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                    <Form.Check\r\n                                        type=\"checkbox\"\r\n                                        className=\"jt-table-check\"\r\n                                        onChange={() => toggleAllChecked()}\r\n                                        checked={allChecked}\r\n                                    />\r\n                                </Form>\r\n                            </div>\r\n                        </td>\r\n                        <td colSpan={3}/>\r\n                        <td className=\"jt-table-actions\">\r\n                            <Button variant=\"success\" className=\"rounded-circle\" onClick={() => setAddGebruiker(!addGebruiker)}>{addGebruiker ? <FaTimes/> : <FaPlus/>}</Button>\r\n                            <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteGebruikerLocal(-1)}><FaTrash/></Button>\r\n                        </td>\r\n                    </tr>\r\n                    {gebruikers\r\n                        .filter(item => ((item['doelgroepId'] === userData['sessDoelgroep']) && (showArchief || !item['isArchief'])))\r\n                        .map(gebruiker => (\r\n                        <tr>\r\n                            <td className=\"jt-table-id\">\r\n                                <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                    <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                        <Form.Check\r\n                                            type=\"checkbox\"\r\n                                            className=\"jt-table-check\"\r\n                                            onChange={() => togglePeriodeChecked(gebruiker['id'])}\r\n                                            checked={gebruikersChecked.includes(gebruiker['id'])}\r\n                                        />\r\n                                    </Form>\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <span className=\"mr-2\">\r\n                                    {gebruiker['naam']}\r\n                                </span>\r\n                                {gebruiker['isArchief']\r\n                                    ?\r\n                                    <Badge pill variant=\"archive\" className=\"mr-2\">\r\n                                                <span className=\"mr-2\">\r\n                                                    Gearchiveerd\r\n                                                </span>\r\n                                        <FaTimes as={Button}\r\n                                                 onClick={() => toggleArchiveGebruikerRemote(gebruiker['id'])}\r\n                                                 className=\"jt-clickable\"\r\n                                        />\r\n                                    </Badge>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                            </td>\r\n                            <td>\r\n                                {gebruiker['email']}\r\n                            </td>\r\n                            <td>\r\n                                <Form.Control\r\n                                    as=\"select\"\r\n                                    value={gebruiker['role']}\r\n                                    onChange={(e) => editRoleRemote(gebruiker['id'], e.target.value)}\r\n                                >\r\n                                    <option value=\"Admin\">Admin</option>\r\n                                    <option value=\"Gebruiker\">Gebruiker</option>\r\n                                    <option value=\"Niet bevestigd\">Niet bevestigd</option>\r\n                                </Form.Control>\r\n                            </td>\r\n                            <td className=\"jt-table-actions\">\r\n                                <Button variant=\"info\" className=\"rounded-circle\" onClick={() => toggleEditedGebruiker(gebruiker['id'])}>{gebruiker['id'] === currentEditedGebruiker ? <FaTimes/> : <FaPen/>}</Button>\r\n                                <Button variant=\"archive\" className=\"rounded-circle\" onClick={() => toggleArchiveGebruikerRemote(gebruiker['id'])}><FaArchive/></Button>\r\n                                <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteGebruikerLocal(gebruiker['id'])}><FaTrash/></Button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                </Table>\r\n            </main>\r\n\r\n            <Modal show={addGebruiker} onHide={() => onHideModalAdd()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Nieuwe gebruiker:</Modal.Title>\r\n                </Modal.Header>\r\n                <Form onSubmit={addGebruikerRemote}>\r\n                    <Modal.Body>\r\n                        <Form.Group>\r\n                            <Form.Label>Naam:</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                placeholder=\"Gebruikersnaam\"\r\n                                value={nieuweGebruiker['naam']}\r\n                                onChange={(e) => setNieuweGebruiker({...nieuweGebruiker, \"naam\": e.target.value})}\r\n                                required\r\n                            >\r\n\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>Email:</Form.Label>\r\n                            <Form.Control\r\n                                type=\"email\"\r\n                                placeholder=\"Emailadres\"\r\n                                value={nieuweGebruiker['email']}\r\n                                onChange={(e) => setNieuweGebruiker({...nieuweGebruiker, \"email\": e.target.value})}\r\n                                required\r\n                            >\r\n\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>Wachtwoord:</Form.Label>\r\n                            <Form.Control\r\n                                type=\"password\"\r\n                                placeholder=\"Wachtwoord\"\r\n                                value={nieuweGebruiker['wachtwoord']}\r\n                                onChange={(e) => setNieuweGebruiker({...nieuweGebruiker, \"wachtwoord\": e.target.value})}\r\n                                required\r\n                            >\r\n\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={() => onHideModalAdd()}>\r\n                            Sluiten\r\n                        </Button>\r\n                        <Button variant=\"success\" type=\"submit\">\r\n                            Maak aan\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n\r\n            <Modal show={currentEditedGebruiker['id'] !== -1} onHide={() => onHideModalEdit()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Bewerk gebruiker:</Modal.Title>\r\n                </Modal.Header>\r\n                <Form onSubmit={editGebruikerRemote}>\r\n                    <Modal.Body>\r\n                        <Form.Group>\r\n                            <Form.Label>Naam:</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                placeholder=\"Gebruikersnaam\"\r\n                                value={currentEditedGebruiker['naam']}\r\n                                onChange={(e) => setCurrentEditedGebruiker({...currentEditedGebruiker, \"naam\": e.target.value})}\r\n                                required\r\n                            >\r\n\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>Email:</Form.Label>\r\n                            <Form.Control\r\n                                type=\"email\"\r\n                                placeholder=\"Emailadres\"\r\n                                value={currentEditedGebruiker['email']}\r\n                                onChange={(e) => setCurrentEditedGebruiker({...currentEditedGebruiker, \"email\": e.target.value})}\r\n                                required\r\n                            >\r\n\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n\r\n                        <Form.Check\r\n                            type=\"switch\"\r\n                            id=\"switch\"\r\n                            value={changePassword}\r\n                            onChange={() => setChangePassword(!changePassword)}\r\n                            label=\"Wachtwoord veranderen\"\r\n                        />\r\n\r\n                        {changePassword\r\n                            ?\r\n                            <Form.Group>\r\n                                <Form.Label>Wachtwoord:</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"password\"\r\n                                    placeholder=\"Wachtwoord\"\r\n                                    value={currentEditedGebruiker['wachtwoord']}\r\n                                    onChange={(e) => setCurrentEditedGebruiker({...currentEditedGebruiker, \"wachtwoord\": e.target.value})}\r\n                                    required\r\n                                >\r\n\r\n                                </Form.Control>\r\n                            </Form.Group>\r\n                            :\r\n                            <></>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={() => onHideModalEdit()}>\r\n                            Sluiten\r\n                        </Button>\r\n                        <Button variant=\"success\" type=\"submit\">\r\n                            Bewerk\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n\r\n            <Modal show={showDeleteConfirm} onHide={() => onHideModalDelete()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Verwijder gebruiker</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Weet u zeker dat u {toDelete.length} gebruiker{toDelete.length === 1 ? \"s\" : \"\"} wilt verwijderen?\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={() => onHideModalDelete()}>\r\n                        Sluiten\r\n                    </Button>\r\n                    <Button variant=\"danger\" onClick={() => deleteGebruikerRemote()}>\r\n                        Verwijder\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    )\r\n}","import {Link, Redirect} from \"react-router-dom\";\r\nimport {Button, Form, Modal, Table} from \"react-bootstrap\";\r\nimport {FaAngleDoubleDown, FaTimes, FaTrash} from \"react-icons/fa\";\r\nimport {useState} from \"react\";\r\nimport Filters from \"../../components/Filters\";\r\nimport WaarderingsSterren from \"../../components/WaarderingsSterren\"\r\n\r\nexport default function AdminReviewPage({isLoggedIn, filters, updateFilters, categorieen,\r\n                                            leeftijd, userData, removeCategorieFromFilters,\r\n                                            filteredSpeelgoed, reviews, onDeleteReview, gebruikers\r\n                                        }) {\r\n    const [allChecked, setAllChecked] = useState(false);\r\n    const [reviewsChecked, setReviewsChecked] = useState([]);\r\n\r\n    const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n    const [toDelete, setToDelete] = useState([]);\r\n\r\n    const [showInhoud, setShowInhoud] = useState([]);\r\n\r\n    function toggleAllChecked() {\r\n        if (allChecked) {\r\n            setReviewsChecked([]);\r\n            setAllChecked(false);\r\n        } else {\r\n            setReviewsChecked(reviews.map((item) => (item['id'])));\r\n            setAllChecked(true);\r\n        }\r\n    }\r\n\r\n    function toggleReviewsChecked(reviewId) {\r\n        setAllChecked(false);\r\n        if (reviewsChecked.includes(reviewId)) {\r\n            setReviewsChecked(reviewsChecked.filter((id) => (id !== reviewId)))\r\n        } else {\r\n            setReviewsChecked([...reviewsChecked, reviewId]);\r\n        }\r\n    }\r\n\r\n    function toggleReviewInhoud(reviewId) {\r\n        if (showInhoud.includes(reviewId)) {\r\n            setShowInhoud(showInhoud.filter((id) => (id !== reviewId)))\r\n        } else {\r\n            setShowInhoud([...showInhoud, reviewId]);\r\n        }\r\n    }\r\n\r\n    function onHideModalDelete() {\r\n        setShowDeleteConfirm(false);\r\n    }\r\n\r\n    function deleteReviewLocal(id) {\r\n        setShowDeleteConfirm(true);\r\n        let ids = [];\r\n        if (id === -1) {\r\n            ids = reviewsChecked;\r\n        } else {\r\n            ids.push(id);\r\n        }\r\n        setToDelete(ids);\r\n    }\r\n\r\n    async function deleteReviewRemote() {\r\n        const res = await fetch('/php/admin/reviewDelete.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({toDelete})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onDeleteReview(data['ids']);\r\n        } else {\r\n            alert('Het verwijderen is mislukt');\r\n        }\r\n        onHideModalDelete();\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container\">\r\n                <h1>Admin Reviews</h1>\r\n                <Filters\r\n                    filters={filters}\r\n                    updateFilters={updateFilters}\r\n                    categorieen={categorieen}\r\n                    leeftijd={leeftijd}\r\n                    userData={userData}\r\n                    removeCategorieFromFilters={removeCategorieFromFilters}\r\n                />\r\n                <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th/>\r\n                        <th>Speelgoed</th>\r\n                        <th>Gebruiker</th>\r\n                        <th>Waardering</th>\r\n                        <th/>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr>\r\n                        <td className=\"jt-table-id\">\r\n                            <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                    <Form.Check\r\n                                        type=\"checkbox\"\r\n                                        className=\"jt-table-check\"\r\n                                        onChange={() => toggleAllChecked()}\r\n                                        checked={allChecked}\r\n                                    />\r\n                                </Form>\r\n                            </div>\r\n                        </td>\r\n                        <td colSpan={3}/>\r\n                        <td className=\"jt-table-actions\">\r\n                            <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteReviewLocal(-1)}><FaTrash/></Button>\r\n                        </td>\r\n                    </tr>\r\n                    {reviews.filter(item => (filteredSpeelgoed.map(speelgoed => speelgoed['id']).includes(item['speelgoedId']))).map(review => (\r\n                        <>\r\n                            <tr>\r\n                                <td className=\"jt-table-id\">\r\n                                    <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                        <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                            <Form.Check\r\n                                                type=\"checkbox\"\r\n                                                className=\"jt-table-check\"\r\n                                                onChange={() => toggleReviewsChecked(review['id'])}\r\n                                                checked={reviewsChecked.includes(review['id'])}\r\n                                            />\r\n                                        </Form>\r\n                                    </div>\r\n                                </td>\r\n                                <td>\r\n                                    <Link to={\"/speelgoedfiche?id=\" + filteredSpeelgoed.find(item => (item['id'] === review['speelgoedId']))['id']}>\r\n                                        {filteredSpeelgoed.find(item => (item['id'] === review['speelgoedId']))['naam']}\r\n                                    </Link>\r\n                                </td>\r\n                                <td>\r\n                                    {gebruikers.find(item => (item['id'] === review['gebruikerId']))['naam']}\r\n                                </td>\r\n                                <td>\r\n                                    <WaarderingsSterren\r\n                                        waardering={review['waardering']}\r\n                                    />\r\n                                </td>\r\n                                <td className=\"jt-table-actions\">\r\n                                    <Button variant=\"info\" className=\"rounded-circle\" onClick={() => toggleReviewInhoud(review['id'])}>{showInhoud.includes(review['id']) ? <FaTimes/> : <FaAngleDoubleDown/>}</Button>\r\n                                    <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteReviewLocal(review['id'])}><FaTrash/></Button>\r\n                                </td>\r\n                            </tr>\r\n                            {showInhoud.includes(review['id'])\r\n                                ?\r\n                                <tr>\r\n                                    <td colSpan={5} className=\"bg-filter\">\r\n                                        <div className=\"mx-3 mt-2 mb-1\">Inhoud:</div>\r\n                                        <p className=\"mx-3 mb-2 p-2 bg-achtergrondkleur rounded\">\r\n                                            {review['inhoud']}\r\n                                        </p>\r\n                                    </td>\r\n                                </tr>\r\n                                :\r\n                                <></>\r\n                            }\r\n                        </>\r\n                    ))}\r\n                    </tbody>\r\n                </Table>\r\n            </main>\r\n\r\n            <Modal show={showDeleteConfirm} onHide={() => onHideModalDelete()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Verwijder review</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Weet u zeker dat u {toDelete.length} review{toDelete.length === 1 ? \"s\" : \"\"} wilt verwijderen?\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={() => onHideModalDelete()}>\r\n                        Sluiten\r\n                    </Button>\r\n                    <Button variant=\"danger\" onClick={() => deleteReviewRemote()}>\r\n                        Verwijder\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    )\r\n}","import {Badge, Button, Col, Form, Row} from \"react-bootstrap\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {FaTimes} from \"react-icons/fa\";\r\n\r\nexport default function SearchSelect({selectList, onSelect, placeholder, initialValue}) {\r\n    const [focus, setFocus] = useState(false);\r\n    const [text, setText] = useState(\"\");\r\n    const [filteredList, setFilteredList] = useState([]);\r\n\r\n    useEffect(() => {\r\n        onChangeInput(initialValue);\r\n    }, []);\r\n\r\n    function onChangeInput(value) {\r\n        setText(value);\r\n        setFilteredList(selectList.filter(item => (item['naam'].toLowerCase().includes(value.toLowerCase()))));\r\n    }\r\n\r\n    function selectSpeelgoed(id, naam) {\r\n        onChangeInput(naam);\r\n        setFocus(false);\r\n        onSelect(id);\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className=\"position-relative\"\r\n            onFocus={() => setFocus(true)}\r\n        >\r\n            <Form.Control\r\n                type=\"text\"\r\n                placeholder={placeholder}\r\n                value={text}\r\n                onChange={e => onChangeInput(e.target.value)}\r\n                required\r\n            />\r\n            {/*Options*/}\r\n            <div\r\n                className={focus ? \"d-flex flex-column position-absolute p-2 bg-achtergrondkleur jt-front w-100 shadow\" : \"d-none\"}\r\n            >\r\n                {filteredList\r\n                    .slice(0, 6)\r\n                    .map(item => (\r\n                    placeholder === \"Speelgoed\"\r\n                    ?\r\n                        <div\r\n                            onClick={() => selectSpeelgoed(item['id'], item['naam'])}\r\n                            className=\"jt-clickable my-2 p-2 bg-filter\"\r\n                        >\r\n                            <Row>\r\n                                <Col xs=\"2\">\r\n                                    <img\r\n                                        src={item['foto'] ? item['foto'] : \"/images/placeholder.jpg\"}\r\n                                        alt=\"\"\r\n                                        className=\"img-fluid\"\r\n                                    />\r\n                                </Col>\r\n                                <Col xs=\"10\" className=\"d-flex flex-row align-items-center\">\r\n                                    {item['naam']}\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col xs=\"12\" className=\"d-flex flex-row align-items-center pt-2\">\r\n                                    {!item['beschikbaar']\r\n                                        ?\r\n                                        <Badge pill variant=\"danger\" className=\"mr-2\">\r\n                                        <span className=\"mr-2\">\r\n                                            Niet beschikbaar\r\n                                        </span>\r\n                                        </Badge>\r\n                                        :\r\n                                        <></>\r\n                                    }\r\n                                    {item['specialeAanvraag']\r\n                                        ?\r\n                                        <Badge pill variant=\"primary\" className=\"mr-2\">\r\n                                        <span className=\"mr-2\">\r\n                                            Speciale aanvraag\r\n                                        </span>\r\n                                        </Badge>\r\n                                        :\r\n                                        <></>\r\n                                    }\r\n                                </Col>\r\n                            </Row>\r\n                        </div>\r\n                    :\r\n                        <div\r\n                            onClick={() => selectSpeelgoed(item['id'], item['naam'])}\r\n                            className=\"jt-clickable my-2 p-2 bg-filter\"\r\n                        >\r\n                            <Row>\r\n                                <Col xs=\"12\" className=\"d-flex flex-row align-items-center\">\r\n                                    {item['naam']}\r\n                                </Col>\r\n                            </Row>\r\n                        </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nSearchSelect.defaultProps = {\r\n    initialValue: \"\"\r\n}","import {Link, Redirect} from \"react-router-dom\";\r\nimport {Badge, Button, Col, Form, Modal, Row, Table} from \"react-bootstrap\";\r\nimport Filters from \"../../components/Filters\";\r\nimport {FaArchive, FaCheck, FaPen, FaPlus, FaTimes, FaTrashAlt} from \"react-icons/fa\";\r\nimport {useState} from \"react\";\r\nimport SearchSelect from \"../../components/SearchSelect\";\r\n\r\nexport default function AdminReservatiePage({isLoggedIn, filters, updateFilters, categorieen, leeftijd, userData, removeCategorieFromFilters,\r\n                                            filteredReservaties, speelgoed, gebruikers, periodes, onAddReservatie, onEditReservatie,\r\n                                            onDeleteReservaties, reservaties, onArchiveReservaties, onConfirmReservaties}) {\r\n    const [allChecked, setAllChecked] = useState(false);\r\n    const [reservatiesChecked, setReservatiesChecked] = useState([]);\r\n    const [filterPeriode, setFilterPeriode] = useState(-1);\r\n    const [filterGebruiker, setFilterGebruiker] = useState(-1);\r\n    const [filterBevestigd, setFilterBevestigd] = useState(-1);\r\n    const [returnList, setReturnList] = useState(false);\r\n    const [returnPeriode, setReturnPeriode] = useState(-1);\r\n\r\n    const [showAddModal, setShowAddModal] = useState(false);\r\n    const [showEditModal, setShowEditModal] = useState(false);\r\n    const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n\r\n    const [toAddReservatie, setToAddReservatie] = useState({\"periodeId\": -1});\r\n    const [toEditReservatie, setToEditReservatie] = useState({\"speelgoedId\": -1, \"gebruikerId\": -1, \"periodeId\": -1});\r\n    const [toDelete, setToDelete] = useState([]);\r\n\r\n    function onHideModalAdd() {\r\n        setShowAddModal(false);\r\n        setToAddReservatie({\"periodeId\": -1});\r\n    }\r\n\r\n    function onHideModalEdit() {\r\n        setShowEditModal(false);\r\n        setToEditReservatie({\"speelgoedId\": -1, \"gebruikerId\": -1, \"periodeId\": -1});\r\n    }\r\n\r\n    function onHideModalDelete() {\r\n        setShowDeleteModal(false);\r\n        setToDelete([]);\r\n    }\r\n\r\n    function toggleAllChecked() {\r\n        if (allChecked) {\r\n            setReservatiesChecked([]);\r\n            setAllChecked(false);\r\n        } else {\r\n            setReservatiesChecked(filteredReservaties.map((reservatie) => (reservatie['id'])));\r\n            setAllChecked(true);\r\n        }\r\n    }\r\n\r\n    function toggleReservatieChecked(speelgoedId) {\r\n        setAllChecked(false);\r\n        if (reservatiesChecked.includes(speelgoedId)) {\r\n            setReservatiesChecked(reservatiesChecked.filter((id) => (id !== speelgoedId)))\r\n        } else {\r\n            setReservatiesChecked([...reservatiesChecked, speelgoedId]);\r\n        }\r\n    }\r\n\r\n    function addReservatieLocal() {\r\n        setShowAddModal(true);\r\n    }\r\n\r\n    function editReservatieLocal(id) {\r\n        let reservatie = reservaties.find(item => (item['id'] === id));\r\n        setToEditReservatie({\r\n            id,\r\n            \"speelgoedId\": reservatie['speelgoedId'],\r\n            \"gebruikerId\": reservatie['gebruikerId'],\r\n            \"periodeId\": reservatie['periodeId']\r\n        })\r\n        setShowEditModal(true);\r\n    }\r\n\r\n    function deleteReservatieLocal(id) {\r\n        setShowDeleteModal(true);\r\n        let ids = [];\r\n        if (id === -1) {\r\n            ids = reservatiesChecked;\r\n        } else {\r\n            ids.push(id);\r\n        }\r\n        setToDelete(ids);\r\n    }\r\n\r\n    async function addReservatieRemote(e) {\r\n        e.preventDefault();\r\n\r\n        if (toAddReservatie[\"periodeId\"] === -1) return alert(\"Selecteer een periode\");\r\n        const res = await fetch('/php/admin/reservatieAdd.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify(toAddReservatie)\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onAddReservatie(data['reservatie']);\r\n        } else {\r\n            alert('Het aanmaken van een reservatie is mislukt');\r\n        }\r\n        onHideModalAdd();\r\n    }\r\n\r\n    async function editReservatieRemote(e) {\r\n        e.preventDefault();\r\n\r\n        const res = await fetch('/php/admin/reservatieEdit.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify(toEditReservatie)\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onEditReservatie(data['id'], data['speelgoedId'], data['gebruikerId'], data['periodeId']);\r\n        } else {\r\n            alert('Het bewerken van een reservatie is mislukt');\r\n        }\r\n\r\n        onHideModalEdit();\r\n    }\r\n\r\n    async function archiveReservatieRemote(id, isArchief) {\r\n        let ids = [];\r\n        if (id === -1) {\r\n            ids = reservatiesChecked;\r\n        } else {\r\n            ids.push(id);\r\n        }\r\n        let today = new Date();\r\n        let todayString = today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate();\r\n        const res = await fetch('/php/admin/reservatieArchive.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                ids,\r\n                isArchief,\r\n                \"archiefDatum\": todayString\r\n            })\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onArchiveReservaties(data['ids'], data['isArchief'], data['archiefDatum']);\r\n        } else {\r\n            alert('Het archiveren van een reservatie is mislukt');\r\n        }\r\n    }\r\n\r\n    async function confirmReservatieRemote(id, bevestigd) {\r\n        let ids = [];\r\n        if (id === -1) {\r\n            ids = reservatiesChecked;\r\n        } else {\r\n            ids.push(id);\r\n        }\r\n        const res = await fetch('/php/admin/reservatieConfirm.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                ids,\r\n                bevestigd\r\n            })\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onConfirmReservaties(data['ids'], data['bevestigd']);\r\n        } else {\r\n            alert('Het bevestigen van een reservatie is mislukt');\r\n        }\r\n    }\r\n\r\n    async function deleteReservatieRemote() {\r\n        const res = await fetch('/php/admin/reservatieDelete.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({toDelete})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onDeleteReservaties(data['ids']);\r\n        } else {\r\n            alert('Het verwijderen van een reservatie is mislukt');\r\n        }\r\n        onHideModalDelete();\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container-fluid\">\r\n                <h1 className=\"jt-no-print\">Admin Reservaties</h1>\r\n                <h1 className=\"jt-print\">Lijst binnen brengen</h1>\r\n                <Filters\r\n                    filters={filters}\r\n                    updateFilters={updateFilters}\r\n                    categorieen={categorieen}\r\n                    leeftijd={leeftijd}\r\n                    userData={userData}\r\n                    removeCategorieFromFilters={removeCategorieFromFilters}\r\n                />\r\n\r\n                <Row className=\"jt-no-print\">\r\n                    {/*Filter periodes*/}\r\n                    <Form.Group className=\"px-3 py-2\">\r\n                        <Col xs=\"auto\" className=\"d-flex flex-row align-items-center\">\r\n                            <Form.Label className=\"mb-0\">Periode:</Form.Label>\r\n                        </Col>\r\n                        <Col xs=\"auto\">\r\n                            <Form.Control\r\n                                as=\"select\"\r\n                                value={filterPeriode}\r\n                                onChange={e => setFilterPeriode(parseInt(e.target.value))}\r\n                                required\r\n                            >\r\n                                <option value=\"-1\">Alle periodes</option>\r\n                                {periodes.filter(item => (!item['isArchief'] || filters['showArchief'])).length > 0 ? periodes.filter(item => (!item['isArchief'] || filters['showArchief'])).map((periode) => (\r\n                                        <option\r\n                                            value={periode['id']}\r\n                                        >{\"Van \" + periode['startDatum'] + \" tot \" + periode['eindDatum']}</option>\r\n                                    )\r\n                                ) : <option value=\"-1\">Geen periodes beschikbaar</option>}\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    {/*Filter Gebruikers*/}\r\n                    <Form.Group className=\"px-3 py-2\">\r\n                        <Col xs=\"auto\" className=\"d-flex flex-row align-items-center\">\r\n                            <Form.Label className=\"mb-0\">Gebruiker:</Form.Label>\r\n                        </Col>\r\n                        <Col xs=\"auto\">\r\n                            <Form.Control\r\n                                as=\"select\"\r\n                                value={filterGebruiker}\r\n                                onChange={e => setFilterGebruiker(parseInt(e.target.value))}\r\n                                required\r\n                            >\r\n                                <option value=\"-1\">Alle gebruikers</option>\r\n                                {gebruikers.filter(item => (!item['isArchief'] || filters['showArchief'])).length > 0 ? gebruikers.filter(item => (!item['isArchief'] || filters['showArchief'])).map((gebruiker) => (\r\n                                        <option\r\n                                            value={gebruiker['id']}\r\n                                        >{gebruiker['naam']}</option>\r\n                                    )\r\n                                ) : <option value=\"-1\">Geen gebruikers beschikbaar</option>}\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    {/*Filter Bevestigd*/}\r\n                    <Form.Group className=\"px-3 py-2\">\r\n                        <Col xs=\"auto\" className=\"d-flex flex-row align-items-center\">\r\n                            <Form.Label className=\"mb-0\">Bevestigd:</Form.Label>\r\n                        </Col>\r\n                        <Col xs=\"auto\">\r\n                            <Form.Control\r\n                                as=\"select\"\r\n                                value={filterBevestigd}\r\n                                onChange={e => setFilterBevestigd(parseInt(e.target.value))}\r\n                                required\r\n                            >\r\n                                <option value=\"-1\">Toon alles</option>\r\n                                <option value=\"0\">Niet bevestigd</option>\r\n                                <option value=\"1\">Bevestigd</option>\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    {/*Lijst binnenbrengen*/}\r\n                    <Form.Group className=\"px-3 py-2\">\r\n                        <Col xs=\"auto\" className=\"d-flex flex-row align-items-center\">\r\n                            <Form.Check\r\n                                type=\"switch\"\r\n                                id=\"switch\"\r\n                                value={returnList}\r\n                                onChange={() => setReturnList(!returnList)}\r\n                                label=\"Binnenbrengen lijst\"\r\n                            />\r\n                        </Col>\r\n                        <Col xs=\"auto\">\r\n                            <Form.Control\r\n                                as=\"select\"\r\n                                value={returnPeriode}\r\n                                onChange={e => setReturnPeriode(parseInt(e.target.value))}\r\n                                required\r\n                            >\r\n                                <option value=\"-1\">Alle periodes</option>\r\n                                {periodes.filter(item => (!item['isArchief'] || filters['showArchief'])).length > 0 ? periodes.filter(item => (!item['isArchief'] || filters['showArchief'])).map((periode) => (\r\n                                        <option\r\n                                            value={periode['id']}\r\n                                        >{\"Van \" + periode['startDatum'] + \" tot \" + periode['eindDatum']}</option>\r\n                                    )\r\n                                ) : <option value=\"-1\">Geen periodes beschikbaar</option>}\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n                </Row>\r\n\r\n                <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th className=\"jt-table-check-container jt-no-print\"/>\r\n                        <th>Speelgoed</th>\r\n                        <th className={returnList ? \"jt-no-print\" : \"\"}>Gebruiker</th>\r\n                        <th className={returnList ? \"jt-no-print\" : \"\"}>Periode</th>\r\n                        <th className={returnList ? \"jt-no-print\" : \"\"}>Bevestigd</th>\r\n                        <th className={returnList ? \"jt-no-print\" : \"\"}>Archief</th>\r\n                        <th className=\"jt-no-print\"/>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr className=\"jt-no-print\">\r\n                        <td className=\"jt-table-id\">\r\n                            <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                    <Form.Check\r\n                                        type=\"checkbox\"\r\n                                        className=\"jt-table-check\"\r\n                                        onChange={() => toggleAllChecked()}\r\n                                        checked={allChecked}\r\n                                    />\r\n                                </Form>\r\n                            </div>\r\n                        </td>\r\n                        <td colSpan={5}/>\r\n                        <td className=\"jt-table-actions\">\r\n                            <Button variant=\"success\" className=\"rounded-circle\" onClick={() => addReservatieLocal()}><FaPlus/></Button>\r\n                            <Button variant=\"primary\" className=\"rounded-circle\" onClick={() => confirmReservatieRemote(-1, 1)}><FaCheck/></Button>\r\n                            <Button variant=\"archive\" className=\"rounded-circle\" onClick={() => archiveReservatieRemote(-1, 1)}><FaArchive/></Button>\r\n                            <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteReservatieLocal(-1)}><FaTrashAlt/></Button>\r\n                        </td>\r\n                    </tr>\r\n                    {filteredReservaties\r\n                        .filter(item => (\r\n                            (filterPeriode === -1 || item['periodeId'] === filterPeriode)\r\n                            && (filterGebruiker === -1 || item['gebruikerId'] === filterGebruiker)\r\n                            && (filterBevestigd === -1 || item['bevestigd'] === filterBevestigd)\r\n                            && (!returnList || !filteredReservaties\r\n                                .filter(res => (res['speelgoedId'] === item['speelgoedId'] && res['gebruikerId'] === item['gebruikerId']))\r\n                                    .map(res => res['periodeId'])\r\n                                    .includes(returnPeriode)\r\n                            )\r\n                        ))\r\n                        .map((reservatie) => (\r\n                        <tr>\r\n                            <td className=\"jt-table-id jt-no-print\">\r\n                                <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                    <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                        <Form.Check\r\n                                            type=\"checkbox\"\r\n                                            className=\"jt-table-check\"\r\n                                            onChange={() => toggleReservatieChecked(reservatie['id'])}\r\n                                            checked={reservatiesChecked.includes(reservatie['id'])}\r\n                                        />\r\n                                    </Form>\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <Link to={\"/speelgoedfiche?id=\" + reservatie['speelgoedId']}>\r\n                                    <img\r\n                                        src={speelgoed.find(spg => (reservatie['speelgoedId'] === spg['id']))['foto']\r\n                                        ? speelgoed.find(spg => (reservatie['speelgoedId'] === spg['id']))['foto']\r\n                                        : \"/images/placeholder.jpg\"}\r\n                                        className=\"jt-table-img\"\r\n                                        alt=\"\"\r\n                                    />\r\n                                    <span className=\"jt-table-naam\">\r\n                                        {speelgoed.find(spg => (reservatie['speelgoedId'] === spg['id']))['naam']}\r\n                                    </span>\r\n                                </Link>\r\n                                {speelgoed.find(spg => (reservatie['speelgoedId'] === spg['id']))['isArchief']\r\n                                    ?\r\n                                    <Badge pill variant=\"archive\" className=\"mr-2\">\r\n                                        <span>\r\n                                            Gearchiveerd\r\n                                        </span>\r\n                                    </Badge>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                            </td>\r\n                            <td className={returnList ? \"jt-no-print\" : \"\"}>\r\n                                {gebruikers.find(gebruiker => gebruiker['id'] === reservatie['gebruikerId'])['naam']}\r\n                            </td>\r\n                            <td className={returnList ? \"jt-no-print\" : \"\"}>\r\n                                {periodes.find(periode => (periode['id'] === reservatie['periodeId']))\r\n                                    ?\r\n                                    <>\r\n                                        <div>\r\n                                            {\"Van \" + periodes.find(periode => (periode['id'] === reservatie['periodeId']))['startDatum']}\r\n                                        </div>\r\n                                        <div>\r\n                                            {\"Tot \" + periodes.find(periode => (periode['id'] === reservatie['periodeId']))['eindDatum']}\r\n                                        </div>\r\n                                    </>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                            </td>\r\n                            <td className={returnList ? \"jt-no-print\" : \"\"}>\r\n                                {reservatie['bevestigd']\r\n                                    ?\r\n                                    <Badge pill variant=\"primary\">\r\n                                        <span className=\"mr-2\">\r\n                                            Bevestigd\r\n                                        </span>\r\n                                        <FaTimes as={Button}\r\n                                                 onClick={() => confirmReservatieRemote(reservatie['id'], 0)}\r\n                                                 className=\"jt-clickable\"\r\n                                        />\r\n                                    </Badge>\r\n                                    :\r\n                                    <Badge pill variant=\"danger\">\r\n                                        <span className=\"mr-2\">\r\n                                            Niet bevestigd\r\n                                        </span>\r\n                                        <FaTimes as={Button}\r\n                                                 onClick={() => confirmReservatieRemote(reservatie['id'], 1)}\r\n                                                 className=\"jt-clickable\"\r\n                                        />\r\n                                    </Badge>\r\n                                }\r\n                            </td>\r\n                            <td className={returnList ? \"jt-no-print\" : \"\"}>\r\n                                {reservatie['isArchief']\r\n                                    ?\r\n                                    <Badge pill variant=\"archive\" className=\"mr-2\">\r\n                                        <span className=\"mr-2\">\r\n                                            {reservatie['archiefDatum']}\r\n                                        </span>\r\n                                        <FaTimes as={Button}\r\n                                                 onClick={() => archiveReservatieRemote(reservatie['id'], 0)}\r\n                                                 className=\"jt-clickable\"\r\n                                        />\r\n                                    </Badge>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                            </td>\r\n                            <td className=\"jt-table-actions jt-no-print\">\r\n                                <Button variant=\"info\" className=\"rounded-circle\" onClick={() => editReservatieLocal(reservatie['id'], 1)}><FaPen/></Button>\r\n                                <Button variant=\"primary\" className=\"rounded-circle\" onClick={() => confirmReservatieRemote(reservatie['id'], 1)}><FaCheck/></Button>\r\n                                <Button variant=\"archive\" className=\"rounded-circle\" onClick={() => archiveReservatieRemote(reservatie['id'], 1)}><FaArchive/></Button>\r\n                                <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteReservatieLocal(reservatie['id'])}><FaTrashAlt/></Button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                </Table>\r\n            </main>\r\n\r\n            <Modal show={showAddModal} onHide={() => onHideModalAdd()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Nieuwe reservatie:</Modal.Title>\r\n                </Modal.Header>\r\n                <Form onSubmit={addReservatieRemote}>\r\n                    <Modal.Body>\r\n                        <Form.Group>\r\n                            <Form.Label>Speelgoed:</Form.Label>\r\n                            <SearchSelect\r\n                                selectList={speelgoed.filter(item => !item['isArchief'])}\r\n                                onSelect={(id) => setToAddReservatie({...toAddReservatie, \"speelgoedId\": id})}\r\n                                placeholder={\"Speelgoed\"}\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>Gebruiker:</Form.Label>\r\n                            <SearchSelect\r\n                                selectList={gebruikers.filter(item => (item['doelgroepId'] === userData['sessDoelgroep'] && !item['isArchief']))}\r\n                                onSelect={(id) => setToAddReservatie({...toAddReservatie, \"gebruikerId\": id})}\r\n                                placeholder={\"Gebruiker\"}\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>Periode:</Form.Label>\r\n                            <Form.Control\r\n                                id=\"periode\"\r\n                                as=\"select\"\r\n                                value={toAddReservatie['periodeId']}\r\n                                onChange={e => setToAddReservatie({...toAddReservatie, \"periodeId\": parseInt(e.target.value)})}\r\n                                required\r\n                            >\r\n                                <option value=\"-1\">Kies...</option>\r\n                                {periodes\r\n                                    .filter(item => (!item['isArchief']) || filters['showArchief']).length > 0\r\n                                    ? periodes\r\n                                        .filter(item => (!item['isArchief'] || filters['showArchief']))\r\n                                        .map((periode) => (\r\n                                                <option\r\n                                                    value={periode['id']}\r\n                                                >{\"Van \" + periode['startDatum'] + \" tot \" + periode['eindDatum']}</option>\r\n                                            )\r\n                                        )\r\n                                    : <option value=\"-1\">Geen periodes beschikbaar</option>\r\n                                }\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={() => onHideModalAdd()}>\r\n                            Sluiten\r\n                        </Button>\r\n                        <Button variant=\"success\" type=\"submit\">\r\n                            Maak aan\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n\r\n            <Modal show={showEditModal} onHide={() => onHideModalEdit()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Bewerk reservatie:</Modal.Title>\r\n                </Modal.Header>\r\n                <Form onSubmit={editReservatieRemote}>\r\n                    <Modal.Body>\r\n                        <Form.Group>\r\n                            <Form.Label>Speelgoed:</Form.Label>\r\n                            <SearchSelect\r\n                                selectList={speelgoed.filter(item => !item['isArchief'])}\r\n                                onSelect={(id) => setToEditReservatie({...toEditReservatie, \"speelgoedId\": id})}\r\n                                placeholder={\"Speelgoed\"}\r\n                                initialValue={\r\n                                    speelgoed.find(item => (toEditReservatie['speelgoedId'] == item['id']))\r\n                                        ? speelgoed.find(item => (toEditReservatie['speelgoedId'] == item['id']))['naam']\r\n                                        : \"\"\r\n                                }\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>Gebruiker:</Form.Label>\r\n                            <SearchSelect\r\n                                selectList={gebruikers.filter(item => (item['doelgroepId'] == userData['sessDoelgroep'] && !item['isArchief']))}\r\n                                onSelect={(id) => setToEditReservatie({...toEditReservatie, \"gebruikerId\": id})}\r\n                                placeholder={\"Gebruiker\"}\r\n                                initialValue={\r\n                                    gebruikers.find(item => (toEditReservatie['gebruikerId'] == item['id']))\r\n                                        ? gebruikers.find(item => (toEditReservatie['gebruikerId'] == item['id']))['naam']\r\n                                        : \"\"\r\n                                }\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>Periode:</Form.Label>\r\n                            <Form.Control\r\n                                as=\"select\"\r\n                                value={toEditReservatie['periodeId']}\r\n                                onChange={e => setToEditReservatie({...toEditReservatie, \"periodeId\": parseInt(e.target.value)})}\r\n                                defaultValue={toEditReservatie['periodeId']}\r\n                                required\r\n                            >\r\n                                {periodes\r\n                                    .filter(item => (!item['isArchief']) || filters['showArchief']).length > 0\r\n                                    ? periodes\r\n                                        .filter(item => (!item['isArchief'] || filters['showArchief']))\r\n                                        .map((periode) => (\r\n                                                <option\r\n                                                    value={periode['id']}\r\n                                                >{\"Van \" + periode['startDatum'] + \" tot \" + periode['eindDatum']}</option>\r\n                                            )\r\n                                        )\r\n                                    : <option value=\"-1\">Geen periodes beschikbaar</option>\r\n                                }\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={() => onHideModalEdit()}>\r\n                            Sluiten\r\n                        </Button>\r\n                        <Button variant=\"success\" type=\"submit\">\r\n                            Bewerk\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n\r\n            <Modal show={showDeleteModal} onHide={() => onHideModalDelete()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Verwijder reservatie</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Weet u zeker dat u {toDelete.length} reservatie{toDelete.length == 1 ? \"s\" : \"\"} wilt verwijderen?\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={() => onHideModalDelete()}>\r\n                        Sluiten\r\n                    </Button>\r\n                    <Button variant=\"danger\" onClick={() => deleteReservatieRemote()}>\r\n                        Verwijder\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    )\r\n}","import {Button, Form, Spinner, Table} from \"react-bootstrap\";\r\nimport {FaTrash} from \"react-icons/fa\";\r\nimport {useState} from \"react\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\n\r\nexport default function WinkelWagenPage({isLoggedIn, periodes, winkelWagen, onWinkelWagenDelete, speelgoed,\r\n                                            onWinkelWagenEdit, onWinkelWagenCommit, reservaties}) {\r\n    const [allChecked, setAllChecked] = useState(false);\r\n    const [itemsChecked, setItemsChecked] = useState([]);\r\n\r\n    const [committing, setCommitting] = useState(false);\r\n\r\n    function toggleAllChecked() {\r\n        if (allChecked) {\r\n            setItemsChecked([]);\r\n            setAllChecked(false);\r\n        } else {\r\n            setItemsChecked(winkelWagen.map(item => item['id']));\r\n            setAllChecked(true);\r\n        }\r\n    }\r\n\r\n    function toggleItemsChecked(itemId) {\r\n        setAllChecked(false);\r\n        if (itemsChecked.includes(itemId)) {\r\n            setItemsChecked(itemsChecked.filter((id) => (id !== itemId)))\r\n        } else {\r\n            setItemsChecked([...itemsChecked, itemId]);\r\n        }\r\n    }\r\n\r\n    function onWinkelWagenDeleteLocal(id) {\r\n        if(id === -1) {\r\n            onWinkelWagenDelete(itemsChecked);\r\n            setItemsChecked([]);\r\n            setAllChecked(false);\r\n        } else {\r\n            onWinkelWagenDelete([id]);\r\n            setItemsChecked(itemsChecked.filter(item => !(item['id'] === id)));\r\n        }\r\n    }\r\n\r\n    async function onWinkelWagenCommitLocal() {\r\n        setCommitting(true);\r\n        const res = await fetch('/php/confirmShoppingCart.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({winkelWagen})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onWinkelWagenCommit(data);\r\n            setCommitting(false);\r\n        } else {\r\n            alert(\"Er was een error bij het uploaden van de reservaties\");\r\n            setCommitting(false);\r\n        }\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container\">\r\n                <h1>Winkelwagen</h1>\r\n                <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th/>\r\n                        <th>Speelgoed</th>\r\n                        <th>Periode</th>\r\n                        <th/>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr>\r\n                        <td className=\"jt-table-id\">\r\n                            <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                    <Form.Check\r\n                                        type=\"checkbox\"\r\n                                        className=\"jt-table-check\"\r\n                                        onChange={() => toggleAllChecked()}\r\n                                        checked={allChecked}\r\n                                    />\r\n                                </Form>\r\n                            </div>\r\n                        </td>\r\n                        <td colSpan={2}/>\r\n                        <td className=\"jt-table-actions\">\r\n                            <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => onWinkelWagenDeleteLocal(-1)}><FaTrash/></Button>\r\n                        </td>\r\n                    </tr>\r\n                    {winkelWagen.map(item => (\r\n                        <tr>\r\n                            <td className=\"jt-table-id\">\r\n                                <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                    <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                        <Form.Check\r\n                                            type=\"checkbox\"\r\n                                            className=\"jt-table-check\"\r\n                                            onChange={() => toggleItemsChecked(item['id'])}\r\n                                            checked={itemsChecked.includes(item['id'])}\r\n                                        />\r\n                                    </Form>\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                {speelgoed.filter(spg => (item['speelgoedId'] === spg['id'])).map(item => (\r\n                                    <Link to={\"/speelgoedfiche?id=\" + item['id']} id={item['id'] + \"-naam\"}>\r\n                                        <img src={item['foto'] ? item['foto'] : \"/images/placeholder.jpg\"} className=\"jt-table-img\" alt=\"\"/>\r\n                                        <span className=\"jt-table-naam\">{item['naam']}</span>\r\n                                    </Link>\r\n                                ))}\r\n                            </td>\r\n                            <td>\r\n                                <Form.Control\r\n                                    id=\"periode\"\r\n                                    as=\"select\"\r\n                                    onChange={e => onWinkelWagenEdit(item['id'], e.target.value)}\r\n                                    value={item['periodeId']}\r\n                                >\r\n                                    {periodes\r\n                                        .filter(periode => !(\r\n                                            periode['isArchief'] ||\r\n                                            winkelWagen.filter(wwItem => (wwItem['id'] !== item['id'] && wwItem['speelgoedId'] === item['speelgoedId']))\r\n                                                .map(wwItem => wwItem['periodeId'])\r\n                                                .includes(periode['id']) ||\r\n                                            reservaties.filter(res => (!res['isArchief'] && res['speelgoedId'] === item['speelgoedId']))\r\n                                                .map(res => res['periodeId'])\r\n                                                .includes(periode['id'])\r\n                                        ))\r\n                                        .map((periode) => (\r\n                                        <option\r\n                                            value={periode['id']}\r\n                                        >\r\n                                            {\"Van \" + periode['startDatum'] + \" tot \" + periode['eindDatum']}\r\n                                        </option>\r\n                                    ))}\r\n                                </Form.Control>\r\n                            </td>\r\n                            <td className=\"jt-table-actions\">\r\n                                <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => onWinkelWagenDeleteLocal(item['id'])}><FaTrash/></Button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                    <tfoot>\r\n                        <td colSpan={4} className=\"text-right\">\r\n                            <Button\r\n                                as={Link}\r\n                                to=\"/\"\r\n                                className=\"mr-2\"\r\n                                variant=\"secondary\"\r\n                            >\r\n                                Verder Winkelen\r\n                            </Button>\r\n                            {!winkelWagen.length\r\n                                ?\r\n                                <Button\r\n                                    variant={winkelWagen.length > 0 ? \"success\" : \"danger\"}\r\n                                    onClick={() => onWinkelWagenCommitLocal()}\r\n                                    className=\"m-2\"\r\n                                    disabled={!winkelWagen.length}\r\n                                >\r\n                                    {winkelWagen.length > 0 ? (committing\r\n                                            ?\r\n                                            <>\r\n                                                <Spinner animation=\"border\" role=\"status\" variant=\"light\">\r\n                                                    <span className=\"sr-only\">Loading...</span>\r\n                                                </Spinner>\r\n                                                <span className=\"ml-2\">\r\n                                            Laden...\r\n                                        </span>\r\n                                            </>\r\n                                            : \"Bevestig\"\r\n                                    ) : \"Winkelwagen is leeg\"}\r\n                                </Button>\r\n                                :\r\n                                <Button\r\n                                    as={Link}\r\n                                    to=\"/winkelwagenBevestigd\"\r\n                                    variant={winkelWagen.length > 0 ? \"success\" : \"danger\"}\r\n                                    onClick={() => onWinkelWagenCommitLocal()}\r\n                                    className=\"m-2\"\r\n                                    disabled={!winkelWagen.length}\r\n                                >\r\n                                    {winkelWagen.length > 0 ? (committing\r\n                                            ?\r\n                                            <>\r\n                                                <Spinner animation=\"border\" role=\"status\" variant=\"light\">\r\n                                                    <span className=\"sr-only\">Loading...</span>\r\n                                                </Spinner>\r\n                                                <span className=\"ml-2\">\r\n                                            Laden...\r\n                                        </span>\r\n                                            </>\r\n                                            : \"Bevestig\"\r\n                                    ) : \"Winkelwagen is leeg\"}\r\n                                </Button>\r\n                            }\r\n                        </td>\r\n                    </tfoot>\r\n                </Table>\r\n            </main>\r\n        </>\r\n    )\r\n}","import {Table} from \"react-bootstrap\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\n\r\nexport default function WinkelWagenBevestigdPage({isLoggedIn, winkelWagenResult, speelgoed, periodes}) {\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <main className=\"container\">\r\n            <h1>Uw reservaties werden verstuurd</h1>\r\n            <section>\r\n                <h2>Gelukte reservaties</h2>\r\n                <p>\r\n                    Deze reservaties werden verstuurd goed ontvangen en verwerkt.\r\n                </p>\r\n                <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th>Speelgoed</th>\r\n                        <th>Periode</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {winkelWagenResult['reservaties'].map(item => (\r\n                        <tr>\r\n                            <td>\r\n                                {speelgoed.filter(spg => (item['speelgoedId'] === spg['id'])).map(spg => (\r\n                                    <Link to={\"/speelgoedfiche?id=\" + spg['id']} id={spg['id'] + \"-naam\"}>\r\n                                        <img src={spg['foto'] ? spg['foto'] : \"/images/placeholder.jpg\"} className=\"jt-table-img\" alt=\"\"/>\r\n                                        <span className=\"jt-table-naam\">{spg['naam']}</span>\r\n                                    </Link>\r\n                                ))}\r\n                            </td>\r\n                            <td>\r\n                                {periodes.filter(periode => (item['periodeId'] === periode['id'])).map(periode => (\r\n                                    \"Van \" + periode['startDatum'] + \" tot \" + periode['eindDatum']\r\n                                ))}\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                </Table>\r\n            </section>\r\n\r\n            <section>\r\n                <h2>Mislukte reservaties</h2>\r\n                {winkelWagenResult['doubles'].length > 0\r\n                    ?\r\n                    <>\r\n                        <p>\r\n                            Deze reservaties konden niet worden doorgevoerd wegens overlap met andere reservaties.\r\n                            Mogelijks heeft een andere gebruiker juist iets eerder gereserveerd.\r\n                        </p>\r\n                        <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                            <thead>\r\n                            <tr>\r\n                                <th>Speelgoed</th>\r\n                                <th>Periode</th>\r\n                            </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                            {winkelWagenResult['doubles'].map(item => (\r\n                                <tr>\r\n                                    <td>\r\n                                        {speelgoed.filter(spg => (item['speelgoedId'] === spg['id'])).map(spg => (\r\n                                            <Link to={\"/speelgoedfiche?id=\" + spg['id']} id={spg['id'] + \"-naam\"}>\r\n                                                <img src={spg['foto'] ? spg['foto'] : \"/images/placeholder.jpg\"} className=\"jt-table-img\" alt=\"\"/>\r\n                                                <span className=\"jt-table-naam\">{spg['naam']}</span>\r\n                                            </Link>\r\n                                        ))}\r\n                                    </td>\r\n                                    <td>\r\n                                        {periodes.filter(periode => (item['periodeId'] === periode['id'])).map(periode => (\r\n                                            \"Van \" + periode['startDatum'] + \" tot \" + periode['eindDatum']\r\n                                        ))}\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                            </tbody>\r\n                        </Table>\r\n                    </>\r\n                    :\r\n                    <p>\r\n                        Alle reservaties werden goed doorgevoerd\r\n                    </p>\r\n\r\n                }\r\n            </section>\r\n        </main>\r\n    )\r\n}","import Filters from \"../components/Filters\";\r\nimport {Badge, Button, Col, Form, Modal, Row, Table} from \"react-bootstrap\";\r\nimport {FaTrashAlt} from \"react-icons/fa\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport {useState} from \"react\";\r\n\r\nexport default function MijnReservatiesPage ({isLoggedIn, userData, filteredReservaties, periodes, speelgoed, filters,\r\n                                        categorieen, leeftijd, updateFilters, removeCategorieFromFilters,\r\n                                        onDeleteReservaties}) {\r\n    const [allChecked, setAllChecked] = useState(false);\r\n    const [reservatiesChecked, setReservatiesChecked] = useState([]);\r\n    const [filterPeriode, setFilterPeriode] = useState(-1);\r\n\r\n    const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n    const [toDelete, setToDelete] = useState([]);\r\n\r\n    function toggleAllChecked() {\r\n        if (allChecked) {\r\n            setReservatiesChecked([]);\r\n            setAllChecked(false);\r\n        } else {\r\n            setReservatiesChecked(filteredReservaties.map((reservatie) => (reservatie['id'])));\r\n            setAllChecked(true);\r\n        }\r\n    }\r\n\r\n    function toggleReservatieChecked(speelgoedId) {\r\n        setAllChecked(false);\r\n        if (reservatiesChecked.includes(speelgoedId)) {\r\n            setReservatiesChecked(reservatiesChecked.filter((id) => (id !== speelgoedId)))\r\n        } else {\r\n            setReservatiesChecked([...reservatiesChecked, speelgoedId]);\r\n        }\r\n    }\r\n\r\n    function deleteReservatieLocal(id) {\r\n        setShowDeleteModal(true);\r\n        let ids = [];\r\n        if (id === -1) {\r\n            ids = reservatiesChecked;\r\n        } else {\r\n            ids.push(id);\r\n        }\r\n        setToDelete(ids);\r\n    }\r\n\r\n    async function deleteReservatieRemote() {\r\n        const res = await fetch('/php/mijnReservatieDelete.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({toDelete, \"gebruikerId\": userData['id']})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onDeleteReservaties(data['ids']);\r\n        } else {\r\n            alert('Het verwijderen van een reservatie is mislukt');\r\n        }\r\n        onHideModalDelete();\r\n    }\r\n\r\n    function onHideModalDelete() {\r\n        setShowDeleteModal(false);\r\n        setToDelete([]);\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container\">\r\n                <h1>Mijn Reservaties</h1>\r\n                <Filters\r\n                    filters={filters}\r\n                    updateFilters={updateFilters}\r\n                    categorieen={categorieen}\r\n                    leeftijd={leeftijd}\r\n                    userData={userData}\r\n                    removeCategorieFromFilters={removeCategorieFromFilters}\r\n                />\r\n                <Form.Group as={Row} className=\"px-3 py-2\">\r\n                    <Col xs=\"auto\" className=\"d-flex flex-row align-items-center\">\r\n                        <Form.Label className=\"mb-0\">Periode:</Form.Label>\r\n                    </Col>\r\n                    <Col xs=\"auto\">\r\n                        <Form.Control\r\n                            as=\"select\"\r\n                            value={filterPeriode}\r\n                            onChange={e => setFilterPeriode(parseInt(e.target.value))}\r\n                            required\r\n                        >\r\n                            <option value=\"-1\">Alle periodes</option>\r\n                            {periodes.filter(item => !item['isArchief']).length > 0 ? periodes.filter(item => !item['isArchief']).map((periode) => (\r\n                                    <option\r\n                                        value={periode['id']}\r\n                                    >{\"Van \" + periode['startDatum'] + \" tot \" + periode['eindDatum']}</option>\r\n                                )\r\n                            ) : <option value=\"-1\">Geen periodes beschikbaar</option>}\r\n                        </Form.Control>\r\n                    </Col>\r\n                </Form.Group>\r\n                <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th className=\"jt-table-check-container\"/>\r\n                        <th>Speelgoed</th>\r\n                        <th>Periode</th>\r\n                        <th>Bevestigd</th>\r\n                        <th/>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr>\r\n                        <td className=\"jt-table-id\">\r\n                            <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                    <Form.Check\r\n                                        type=\"checkbox\"\r\n                                        className=\"jt-table-check\"\r\n                                        onChange={() => toggleAllChecked()}\r\n                                        checked={allChecked}\r\n                                    />\r\n                                </Form>\r\n                            </div>\r\n                        </td>\r\n                        <td colSpan={3}/>\r\n                        <td className=\"jt-table-actions\">\r\n                            <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteReservatieLocal(-1)}><FaTrashAlt/></Button>\r\n                        </td>\r\n                    </tr>\r\n                    {filteredReservaties\r\n                        .filter(item => (\r\n                                (filterPeriode === -1 || item['periodeId'] === filterPeriode) &&\r\n                                (item['gebruikerId'] === userData['id'])\r\n                            )\r\n                        )\r\n                        .map((reservatie) => (\r\n                        <tr>\r\n                            <td className=\"jt-table-id\">\r\n                                <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                    <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                        <Form.Check\r\n                                            type=\"checkbox\"\r\n                                            className=\"jt-table-check\"\r\n                                            onChange={() => toggleReservatieChecked(reservatie['id'])}\r\n                                            checked={reservatiesChecked.includes(reservatie['id'])}\r\n                                        />\r\n                                    </Form>\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <Link to={\"/speelgoedfiche?id=\" + reservatie['speelgoedId']}>\r\n                                    <img\r\n                                        src={speelgoed.find(spg => (reservatie['speelgoedId'] === spg['id']))['foto']\r\n                                            ? speelgoed.find(spg => (reservatie['speelgoedId'] === spg['id']))['foto']\r\n                                            : \"/images/placeholder.jpg\"}\r\n                                        className=\"jt-table-img\"\r\n                                        alt=\"\"\r\n                                    />\r\n                                    <span className=\"jt-table-naam\">\r\n                                    {speelgoed.find(spg => (reservatie['speelgoedId'] === spg['id']))['naam']}\r\n                                </span>\r\n                                </Link>\r\n                            </td>\r\n                            <td>\r\n                                {periodes.find(periode => (periode['id'] === reservatie['periodeId']))\r\n                                    ?\r\n                                    <>\r\n                                        <div>\r\n                                            {\"Van \" + periodes.find(periode => (periode['id'] === reservatie['periodeId']))['startDatum']}\r\n                                        </div>\r\n                                        <div>\r\n                                            {\"Tot \" + periodes.find(periode => (periode['id'] === reservatie['periodeId']))['eindDatum']}\r\n                                        </div>\r\n                                    </>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                            </td>\r\n                            <td>\r\n                                {reservatie['bevestigd']\r\n                                    ?\r\n                                    <Badge pill variant=\"primary\">\r\n                                        <span>\r\n                                            Bevestigd\r\n                                        </span>\r\n                                    </Badge>\r\n                                    :\r\n                                    <Badge pill variant=\"danger\">\r\n                                        <span>\r\n                                            Niet bevestigd\r\n                                        </span>\r\n                                    </Badge>\r\n                                }\r\n                            </td>\r\n                            <td className=\"jt-table-actions\">\r\n                                <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteReservatieLocal(reservatie['id'])}><FaTrashAlt/></Button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                </Table>\r\n            </main>\r\n\r\n            <Modal show={showDeleteModal} onHide={() => onHideModalDelete()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Verwijder reservatie</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Weet u zeker dat u {toDelete.length} reservatie{toDelete.length == 1 ? \"s\" : \"\"} wilt verwijderen?\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={() => onHideModalDelete()}>\r\n                        Sluiten\r\n                    </Button>\r\n                    <Button variant=\"danger\" onClick={() => deleteReservatieRemote()}>\r\n                        Verwijder\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    )\r\n}","import {BrowserRouter as Router, Route} from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport {Alert} from \"react-bootstrap\";\n\n// Import components\nimport Banner from \"./components/Banner\";\nimport Header from \"./components/Header\";\nimport Loading from \"./components/Loading\";\nimport Footer from \"./components/Footer\";\n\n// Import pages\nimport LoginPage from \"./pages/LoginPage\";\nimport SignUpPage from \"./pages/SignUpPage\";\nimport HomePage from \"./pages/HomePage\";\nimport AdminSpeelgoedPage from \"./pages/admin/AdminSpeelgoedPage\";\nimport AdminSpeelgoedFichePage from \"./pages/admin/AdminSpeelgoedFichePage\";\nimport AdminCategorieenPage from \"./pages/admin/AdminCategorieenPage\";\nimport SpeelgoedFichePage from \"./pages/SpeelgoedFichePage\";\nimport AdminDoelgroepenPage from \"./pages/admin/AdminDoelgroepenPage\";\nimport AdminPeriodesPage from \"./pages/admin/AdminPeriodesPage\";\nimport AdminGebruikersPage from \"./pages/admin/AdminGebruikersPage\";\nimport AdminReviewPage from \"./pages/admin/AdminReviewPage\";\nimport AdminReservatiePage from \"./pages/admin/AdminReservatiePage\";\nimport WinkelWagenPage from \"./pages/WinkelWagenPage\";\nimport WinkelWagenBevestigdPage from \"./pages/WinkelWagenBevestigdPage\";\nimport MijnReservatiesPage from \"./pages/MijnReservatiesPage\";\n\nfunction App() {\n    const [loading, setLoading] = useState(true);\n    const [searchbarText, setSearchbarText] = useState('');\n\n    const [userData, setUserData] = useState({\"isLoggedIn\": 0});\n    const [doelgroepen, setDoelgroepen] = useState([]);\n    const [filters, setFilters] = useState({\"categorieen\": [], \"leeftijden\": [], \"showArchief\": 0});\n    const [speelgoed, setSpeelgoed] = useState([]);\n    const [filteredSpeelgoed, setFilteredSpeelgoed] = useState([]);\n    const [categorieen, setCategorieen] = useState([]);\n    const [leeftijd, setLeeftijd] = useState({\"id\": -1, \"naam\": \"Leeftijd\", \"subCategorieen\": []});\n    const [periodes, setPeriodes] = useState([]);\n    const [gebruikers, setGebruikers] = useState([]);\n    const [reviews, setReviews] = useState([]);\n    const [reservaties, setReservaties] = useState([]);\n    const [filteredReservaties, setFilteredReservaties] = useState([]);\n    const [winkelWagen, setWinkelWagen] = useState([]);\n    const [winkelWagenResult, setWinkelWagenResult] = useState({\"reservaties\": [], \"doubles\": []});\n\n    useEffect(() => {\n        if (initDoelgroepen()) {\n            setLoading(false);\n        }\n    }, []);\n\n    // Login\n    async function login(userData) {\n        setLoading(true);\n        setUserData(userData);\n        const catRes = await initCategorie();\n        const spgRes = await initSpeelgoed(catRes[0], catRes[1]);\n        await initPeriodes();\n        await initGebruikers();\n        await initReviews();\n        const resRes = await initReservaties();\n        const fltSpgRes = await filterSpeelgoed(spgRes, searchbarText, filters);\n        const fltResRes = await filterReservaties(resRes, fltSpgRes, filters);\n        if (fltResRes) {\n            setLoading(false);\n        }\n        setFilteredSpeelgoed(fltSpgRes);\n        setFilteredReservaties(fltResRes);\n    }\n\n    // Logout\n    async function logout() {\n        setLoading(true);\n        setSearchbarText('');\n        setUserData({\"isLoggedIn\": 0});\n        setDoelgroepen([]);\n        setFilters({\"categorieen\": [], \"leeftijden\": [], \"showArchief\": 0});\n        setSpeelgoed([]);\n        setFilteredSpeelgoed([]);\n        setCategorieen([]);\n        setLeeftijd({\"id\": -1, \"naam\": \"Leeftijd\", \"subCategorieen\": []});\n        setPeriodes([]);\n        setGebruikers([]);\n        setReviews([]);\n        setReservaties([]);\n        setFilteredReservaties([]);\n        setWinkelWagen([]);\n        const doelRes = await initDoelgroepen()\n        if (doelRes) {\n            setLoading(false);\n        }\n    }\n\n    // Fetch doelgroepen\n    async function initDoelgroepen() {\n        setLoading(true);\n        const res = await fetch('/php/doelgroepen.php');\n        const data = await res.json();\n\n        if (data['ok']) {\n            setDoelgroepen(data['doelgroepen']);\n            return true;\n        }\n        alert('Er was een probleem met het laden van de data');\n        return false;\n    }\n\n    // Speelgoed functions\n    async function initSpeelgoed(categorieen, leeftijd) {\n        const res = await fetch('/php/speelgoed.php');\n        const data = await res.json();\n\n        if (data['ok']) {\n            if (data['speelgoed']) {\n                let newSpeelgoed = [];\n                data['speelgoed'].forEach((item) => {\n                    newSpeelgoed.push(\n                        {...item,\n                            \"subCategorieen\": item['subCategorieen'].filter(scId => ([].concat.apply([],categorieen.map(c => (c['subCategorieen'])).map(scen => (scen.map(sc => sc['id'])))).includes(scId))),\n                            \"leeftijden\": item['subCategorieen'].filter(scId => (leeftijd['subCategorieen'].map(sc => (sc['id'])).includes(scId)))\n                        });\n                })\n                setSpeelgoed(newSpeelgoed);\n                return newSpeelgoed;\n            }\n            return speelgoed;\n        } else {\n            alert('Er was een probleem met het laden van het speelgoed');\n        }\n    }\n\n    async function onAddSpeelgoed(newSpeelgoed) {\n        const result = [...speelgoed, newSpeelgoed];\n        setSpeelgoed(result);\n        const fltSpgRes = await filterSpeelgoed(result, searchbarText, filters)\n        setFilteredSpeelgoed(fltSpgRes);\n        const fltResRes = await filterReservaties(reservaties, fltSpgRes, filters);\n        setFilteredReservaties(fltResRes);\n    }\n\n    async function onUpdateSpeelgoed(updatedSpeelgoed) {\n        let newSpeelgoed = [];\n        speelgoed.forEach(item => {\n            if(item['id'] === updatedSpeelgoed['id']) {\n                newSpeelgoed.push(updatedSpeelgoed);\n            } else {\n                newSpeelgoed.push(item);\n            }\n        })\n        setSpeelgoed(newSpeelgoed);\n        const fltSpgRes = await filterSpeelgoed(newSpeelgoed, searchbarText, filters)\n        setFilteredSpeelgoed(fltSpgRes);\n        const fltResRes = await filterReservaties(reservaties, fltSpgRes, filters);\n        setFilteredReservaties(fltResRes);\n    }\n\n    async function archiveSpeelgoed(ids, isArchief, archiefDatum) {\n        let newSpeelgoed = [];\n        speelgoed.forEach(item => {\n            if (ids.includes(item['id'])) {\n                newSpeelgoed.push({...item, \"isArchief\": isArchief, \"archiefDatum\": archiefDatum});\n            } else {\n                newSpeelgoed.push(item);\n            }\n        })\n        setSpeelgoed(newSpeelgoed);\n        const fltSpgRes = await filterSpeelgoed(newSpeelgoed, searchbarText, filters)\n        setFilteredSpeelgoed(fltSpgRes);\n        const fltResRes = await filterReservaties(reservaties, fltSpgRes, filters);\n        setFilteredReservaties(fltResRes);\n    }\n\n    async function onDeleteSpeelgoed(ids) {\n        let newSpeelgoed = speelgoed.filter((item) => (!ids.includes(item['id'])));\n        setSpeelgoed(newSpeelgoed);\n        const fltSpgRes = await filterSpeelgoed(newSpeelgoed, searchbarText, filters)\n        setFilteredSpeelgoed(fltSpgRes);\n        const fltResRes = await filterReservaties(reservaties, fltSpgRes, filters);\n        setFilteredReservaties(fltResRes);\n    }\n\n    async function onToggleBeschikbaar(id, status) {\n        let newSpeelgoed = [];\n        speelgoed.forEach(item => {\n            if (id === item['id']) {\n                newSpeelgoed.push({...item, \"beschikbaar\": status});\n            } else {\n                newSpeelgoed.push(item);\n            }\n        })\n        setSpeelgoed(newSpeelgoed);\n        const fltSpgRes = await filterSpeelgoed(newSpeelgoed, searchbarText, filters)\n        setFilteredSpeelgoed(fltSpgRes);\n        const fltResRes = await filterReservaties(reservaties, fltSpgRes, filters);\n        setFilteredReservaties(fltResRes);\n    }\n\n    async function onToggleSpecialeAanvraag(id, status) {\n        let newSpeelgoed = [];\n        speelgoed.forEach(item => {\n            if (id === item['id']) {\n                newSpeelgoed.push({...item, \"specialeAanvraag\": status});\n            } else {\n                newSpeelgoed.push(item);\n            }\n        })\n        setSpeelgoed(newSpeelgoed);\n        const fltSpgRes = await filterSpeelgoed(newSpeelgoed, searchbarText, filters)\n        setFilteredSpeelgoed(fltSpgRes);\n        const fltResRes = await filterReservaties(reservaties, fltSpgRes, filters);\n        setFilteredReservaties(fltResRes);\n    }\n\n    // Filter functions\n    async function filterSpeelgoed(newSpeelgoed, searchbarText, filters) {\n        let toFilter = newSpeelgoed;\n        switch (filters['showArchief']) {\n            case 0:\n                toFilter = toFilter.filter(sg => (!sg['isArchief']));\n                break;\n            case 1:\n                toFilter = toFilter.filter(sg => sg['isArchief']);\n                break;\n            default:\n                break;\n        }\n        toFilter = toFilter.filter(sg => (sg['naam'].toLowerCase().includes(searchbarText.toLowerCase())));\n        if (filters['leeftijden'].length !== 0) {\n            toFilter = toFilter.filter(sg => (hasInCommon(sg['leeftijden'], filters['leeftijden'])));\n        }\n        filters['categorieen'].forEach((categorie) => {\n            if (categorie['subCategorieen'].length !== 0) {\n                toFilter = toFilter.filter(sg => (hasInCommon(sg['subCategorieen'], categorie['subCategorieen'])));\n            }\n        })\n        return toFilter;\n    }\n\n    async function filterReservaties(newReservaties, filteredSpeelgoed, filters) {\n        let toFilter = newReservaties;\n        switch (filters['showArchief']) {\n            case 0:\n                toFilter = toFilter.filter(res => (!res['isArchief']));\n                break;\n            case 1:\n                toFilter = toFilter.filter(res=> res['isArchief']);\n                break;\n            default: break;\n        }\n        toFilter = toFilter.filter(res => (filteredSpeelgoed.map(spg => spg['id']).includes(res['speelgoedId'])));\n        return toFilter;\n    }\n\n    function hasInCommon(array1, array2) {\n        let result = false\n        array2.forEach(item => {\n            if (array1.includes(item)) {\n                result = true;\n            }\n        })\n        return result;\n    }\n\n    async function removeCategorieFromFilters(type, id) {\n        let newFilters = {\"categorieen\": [], \"leeftijden\": [], \"showArchief\": 0};\n        switch (type) {\n            case \"leeftijd\":\n                newFilters = {...filters, \"leeftijden\": []};\n                break;\n            case \"categorie\":\n                newFilters = {...filters, \"categorieen\": filters['categorieen'].filter(c => (c['id'] !== id))};\n                break;\n            default: break;\n        }\n        setFilters(newFilters);\n        const fltSpgRes = await filterSpeelgoed(speelgoed, searchbarText, newFilters)\n        setFilteredSpeelgoed(fltSpgRes);\n        const fltResRes = await filterReservaties(reservaties, fltSpgRes, newFilters);\n        setFilteredReservaties(fltResRes);\n    }\n\n    async function updateFilters(type, newValue, deleteValue, id) {\n        let newFilters;\n        switch (type) {\n            case \"search\":\n                setSearchbarText(newValue);\n                const fltSpgResSearch = await filterSpeelgoed(speelgoed, newValue, filters)\n                setFilteredSpeelgoed(fltSpgResSearch);\n                const fltResResSearch = await filterReservaties(reservaties, fltSpgResSearch, filters);\n                setFilteredReservaties(fltResResSearch);\n                break;\n            case \"leeftijd\":\n                newFilters = {...filters, \"leeftijden\": [...filters['leeftijden'].filter(lt => (!deleteValue.includes(lt))), ...newValue]}\n                setFilters(newFilters);\n                const fltSpgResLeeftijd = await filterSpeelgoed(speelgoed, searchbarText, newFilters)\n                setFilteredSpeelgoed(fltSpgResLeeftijd);\n                const fltResResLeeftijd = await filterReservaties(reservaties, fltSpgResLeeftijd, newFilters);\n                setFilteredReservaties(fltResResLeeftijd);\n                break;\n            case \"subCategorie\":\n                let filterCategorie = filters['categorieen'].filter(c => (c['id'] === id));\n                let filterSubCategorieen = []\n                if (filterCategorie.length > 0) {\n                    filterSubCategorieen = filterCategorie[0]['subCategorieen'];\n                    filterSubCategorieen = [...filterSubCategorieen.filter(sc => (!deleteValue.includes(sc))), ...newValue];\n                } else {\n                    filterSubCategorieen = newValue;\n                }\n                filterCategorie = {\"id\": id, \"subCategorieen\": filterSubCategorieen};\n                newFilters = {...filters, \"categorieen\": [...filters['categorieen'].filter(c => !(c['id'] === id)), filterCategorie]}\n                setFilters(newFilters);\n                const fltSpgResCat = await filterSpeelgoed(speelgoed, searchbarText, newFilters)\n                setFilteredSpeelgoed(fltSpgResCat);\n                const fltResResCat = await filterReservaties(reservaties, fltSpgResCat, newFilters);\n                setFilteredReservaties(fltResResCat);\n                break;\n            case \"showArchief\":\n                newFilters = {...filters, \"showArchief\": newValue};\n                setFilters(newFilters);\n                const fltSpgRes = await filterSpeelgoed(speelgoed, searchbarText, newFilters)\n                setFilteredSpeelgoed(fltSpgRes);\n                const fltResRes = await filterReservaties(reservaties, fltSpgRes, newFilters);\n                setFilteredReservaties(fltResRes);\n                break;\n            default: break;\n        }\n    }\n\n    // Categorie functions\n    async function initCategorie() {\n        setLoading(true);\n        const res = await fetch('/php/categorieen.php');\n        const data = await res.json();\n\n        if (data['ok']) {\n            if (data['categorieen']) {\n                let categorieen = data['categorieen'].filter((c) => (c['naam'] !== \"Leeftijd\"));\n                let leeftijd = data['categorieen'].filter((c) => (c['naam'] === \"Leeftijd\"))[0]\n                    ? data['categorieen'].filter((c) => (c['naam'] === \"Leeftijd\"))[0]\n                    : {\"id\": -1, \"naam\": \"Leeftijd\", \"subCategorieen\": []};\n                setCategorieen(categorieen);\n                setLeeftijd(leeftijd);\n                return [categorieen, leeftijd];\n            }\n            return [categorieen, leeftijd];\n        }\n        alert('Er was een probleem met het laden van de categorieen');\n        return [];\n    }\n\n    function onAddCategorie(categorie) {\n        if (categorie['naam'] === \"Leeftijd\") {\n            setLeeftijd({...categorie, \"subCategorieen\": []});\n        } else {\n            setCategorieen([...categorieen, {...categorie, \"subCategorieen\": []}]);\n        }\n    }\n\n    function onAddSubCategorie(subCategorie, categorie) {\n        if (categorie['naam'] === \"Leeftijd\") {\n            setLeeftijd({...categorie, \"subCategorieen\": [...categorie['subCategorieen'], subCategorie]});\n            return;\n        }\n        let newCategorieen = []\n        categorieen.forEach(c => {\n            if (c['id'] === categorie['id']) {\n                newCategorieen.push({...categorie, \"subCategorieen\": [...categorie['subCategorieen'], subCategorie]});\n            } else {\n                newCategorieen.push(c);\n            }\n        })\n        setCategorieen(newCategorieen);\n    }\n\n    function onEditCategorie(newCategorieNaam, categorie) {\n        let newCategorieen = [];\n        categorieen.forEach(c => {\n            if (c['id'] === categorie['id']) {\n                newCategorieen.push({...categorie, \"naam\": newCategorieNaam});\n            } else {\n                newCategorieen.push(c);\n            }\n        })\n        setCategorieen(newCategorieen);\n    }\n\n    function onEditSubCategorie(newSubCategorieNaam, categorie, subCategorieId) {\n        if (categorie['naam'] === \"Leeftijd\") {\n            let newSubCategorieen = []\n            categorie['subCategorieen'].forEach(sc => {\n                if (sc['id'] === subCategorieId) {\n                    newSubCategorieen.push({\"id\": subCategorieId, \"naam\": newSubCategorieNaam})\n                } else {\n                    newSubCategorieen.push(sc);\n                }\n            })\n            setLeeftijd({...categorie, \"subCategorieen\": newSubCategorieen});\n            return;\n        }\n        let newCategorieen = [];\n        categorieen.forEach(c => {\n            if (c['id'] === categorie['id']) {\n                let newSubCategorieen = []\n                categorie['subCategorieen'].forEach(sc => {\n                    if (sc['id'] === subCategorieId) {\n                        newSubCategorieen.push({\"id\": subCategorieId, \"naam\": newSubCategorieNaam})\n                    } else {\n                        newSubCategorieen.push(sc);\n                    }\n                })\n                newCategorieen.push({...categorie, \"subCategorieen\": newSubCategorieen});\n            } else {\n                newCategorieen.push(c);\n            }\n        })\n        setCategorieen(newCategorieen);\n    }\n\n    function onRemoveSubCategorie(removedSubCategorieIds, categorie, categorieRemoved) {\n        if (categorieRemoved) {\n            setCategorieen(categorieen.filter((c) => (c['id'] !== categorie['id'])));\n            return;\n        }\n        if (categorie['naam'] === \"Leeftijd\") {\n            setLeeftijd({...categorie, \"subCategorieen\": categorie['subCategorieen'].filter(sc => (!removedSubCategorieIds.includes(sc['id'])))});\n            return;\n        }\n        let newCategorieen = [];\n        categorieen.forEach(c => {\n            if (c['id'] === categorie['id']) {\n                newCategorieen.push({\n                    ...categorie,\n                    \"subCategorieen\": categorie['subCategorieen'].filter(\n                        sc => (!removedSubCategorieIds.includes(sc['id']))\n                    )\n                });\n            } else {\n                newCategorieen.push(c);\n            }\n        })\n        setCategorieen(newCategorieen);\n    }\n\n    // Doelgroepen functies\n    function onAddDoelgroep(doelgroep) {\n        setDoelgroepen([...doelgroepen, doelgroep]);\n    }\n\n    function onEditDoelgroep(doelgroep) {\n        let newDoelgroepen = []\n        doelgroepen.forEach((item) => {\n            if (item['id'] === doelgroep['id']) {\n                newDoelgroepen.push({...doelgroep , \"isArchief\": item['isArchief']});\n            } else {\n                newDoelgroepen.push(item);\n            }\n        })\n        setDoelgroepen(newDoelgroepen);\n    }\n\n    function onArchiveDoelgroep(id, isArchief) {\n        let newDoelgroepen = []\n        doelgroepen.forEach((doelgroep) => {\n            if (doelgroep['id'] === id) {\n                newDoelgroepen.push({...doelgroepen.find(item => (item['id'] === id)), \"isArchief\": isArchief});\n            } else {\n                newDoelgroepen.push(doelgroep);\n            }\n        })\n        setDoelgroepen(newDoelgroepen);\n    }\n\n    // Periode Functions\n    async function initPeriodes() {\n        const res = await fetch('/php/periodes.php');\n        const data = await res.json();\n\n        if (data['ok']) {\n            setPeriodes(data['periodes']);\n            return data['periodes'];\n        }\n        return [];\n    }\n\n    function onAddPeriode(periode) {\n        setPeriodes([...periodes, periode]);\n    }\n\n    function onEditPeriode(periode) {\n        let newPeriodes = [];\n        periodes.forEach(item => {\n            if (item['id'] === periode['id']) {\n                newPeriodes.push(periode);\n            } else {\n                newPeriodes.push(item);\n            }\n        })\n        setPeriodes(newPeriodes);\n    }\n\n    // Gebruiker functions\n    async function initGebruikers() {\n        const res = await fetch('/php/gebruikers.php');\n        const data = await res.json();\n\n        if (data['ok']) {\n            setGebruikers(data['gebruikers']);\n            return data['gebruikers'];\n        }\n        return [];\n    }\n\n    function onAddGebruiker(gebruiker) {\n        setGebruikers([...gebruikers, gebruiker]);\n    }\n\n    function onEditGebruiker(gebruiker) {\n        let newGebruikers = [];\n        gebruikers.forEach(item => {\n            if (item['id'] === gebruiker['id']) {\n                newGebruikers.push(gebruiker);\n            } else {\n                newGebruikers.push(item);\n            }\n        })\n        setGebruikers(newGebruikers);\n    }\n\n    function onDeleteGebruiker(ids) {\n        setGebruikers(gebruikers.filter(item => !(ids.includes(item['id']))));\n    }\n\n    // Review functions\n    async function initReviews() {\n        const res = await fetch('/php/reviews.php');\n        const data = await res.json();\n\n        if (data['ok']) {\n            setReviews(data['reviews']);\n            return data['reviews'];\n        }\n        return [];\n    }\n\n    function onAddReview(review) {\n        setReviews([...reviews, review]);\n    }\n\n    function onDeleteReview(ids) {\n        setReviews(reviews.filter(item => !(ids.includes(item['id']))));\n    }\n\n\n    // Reservatie functions\n    async function initReservaties() {\n        const res = await fetch('/php/reservaties.php');\n        const data = await res.json();\n\n        if (data['ok']) {\n            setReservaties(data['reservaties']);\n            return data['reservaties'];\n        }\n        return [];\n    }\n\n    async function onAddReservatie(reservatie) {\n        let newReservaties = [...reservaties, reservatie];\n        setReservaties(newReservaties);\n        const resRes = await filterReservaties(newReservaties, filteredSpeelgoed, filters);\n        setFilteredReservaties(resRes);\n    }\n\n    async function onEditReservatie(id, speelgoedId, gebruikerId, periodeId) {\n        let newReservaties = [];\n        reservaties.forEach(item => {\n            if (item['id'] === id) {\n                newReservaties.push({...item, speelgoedId, gebruikerId, periodeId});\n            } else {\n                newReservaties.push(item);\n            }\n        })\n        setReservaties(newReservaties);\n        const resRes = await filterReservaties(newReservaties, filteredSpeelgoed, filters);\n        setFilteredReservaties(resRes);\n    }\n\n    async function onArchiveReservaties(ids, isArchief, archiefDatum) {\n        let newReservaties = [];\n        reservaties.forEach(item => {\n            if (ids.includes(item['id'])) {\n                newReservaties.push({...item, isArchief, archiefDatum});\n            } else {\n                newReservaties.push(item);\n            }\n        })\n        setReservaties(newReservaties);\n        const resRes = await filterReservaties(newReservaties, filteredSpeelgoed, filters);\n        setFilteredReservaties(resRes);\n    }\n\n    async function onConfirmReservaties(ids, bevestigd) {\n        let newReservaties = [];\n        reservaties.forEach(item => {\n            if (ids.includes(item['id'])) {\n                newReservaties.push({...item, bevestigd});\n            } else {\n                newReservaties.push(item);\n            }\n        })\n        setReservaties(newReservaties);\n        const resRes = await filterReservaties(newReservaties, filteredSpeelgoed, filters);\n        setFilteredReservaties(resRes);\n    }\n\n    async function onDeleteReservaties(ids) {\n        let newReservaties = reservaties.filter(res => !ids.includes(res['id']));\n        setReservaties(newReservaties);\n        const resRes = await filterReservaties(newReservaties, filteredSpeelgoed, filters);\n        setFilteredReservaties(resRes);\n    }\n\n    // Winkelwagen functions\n    function onWinkelWagenAdd(speelgoedId, periodeId) {\n        let newItem = {speelgoedId, periodeId, \"gebruikerId\": userData['id']};\n        let id = 1;\n        if (winkelWagen.length > 0) {\n            id = winkelWagen[winkelWagen.length - 1]['id'] + 1;\n        }\n        newItem = {...newItem, id}\n        setWinkelWagen([\n            ...winkelWagen,\n            newItem\n            ]\n        )\n    }\n\n    function onWinkelWagenEdit(id, periodeId) {\n        let newWinkelwagen = [];\n        winkelWagen.forEach(item => {\n            if(item['id'] === id) {\n                newWinkelwagen.push({...item, periodeId});\n            } else {\n                newWinkelwagen.push(item);\n            }\n        })\n        setWinkelWagen(newWinkelwagen);\n    }\n\n    function onWinkelWagenDelete(ids) {\n        setWinkelWagen(winkelWagen.filter(item => (!ids.includes(item['id']))));\n    }\n\n    async function onWinkelWagenCommit(data) {\n        setWinkelWagen([]);\n        setWinkelWagenResult(data);\n        if (data['doubles'].length > 0) {\n            setLoading(true);\n            const resRes = await initReservaties();\n            const fltResRes = await filterReservaties(resRes, speelgoed, filters);\n            if (fltResRes) {\n                setLoading(false);\n            }\n            setFilteredReservaties(fltResRes);\n        } else {\n            let newReservaties = [...reservaties, ...data['reservaties']];\n            setReservaties(newReservaties);\n            const fltResRes = await filterReservaties(newReservaties, speelgoed, filters);\n            setFilteredReservaties(fltResRes);\n        }\n    }\n\n    if (loading) {\n        return (\n            <main className=\"jt-loading-screen\">\n                <Loading/>\n            </main>\n        )\n    }\n\n    return (\n        <Router>\n            <div className=\"jt-wrapper\">\n                <Banner/>\n                <Header\n                    isLoggedIn={userData['isLoggedIn']}\n                    role={userData['role']}\n                    onLogout={logout}\n                    updateFilters={updateFilters}\n                    searchbarText={searchbarText}\n                    winkelWagen={winkelWagen}\n                />\n                {userData['isLoggedIn']\n                    ?\n                    <Alert show={userData['doelgroep'] !== userData['sessDoelgroep']} variant=\"danger\">\n                        <p className=\"mb-0\">\n                            U bent momenteel ingelogd bij Speelotheek&nbsp;\n                            <strong>{doelgroepen.filter(doelgroep => (doelgroep['id'] === userData['sessDoelgroep']))[0]['naam']}</strong>.\n                            Gelieve opnieuw in te loggen indien u wenst over te schakelen naar Speelotheek&nbsp;\n                            <strong>{doelgroepen.filter(doelgroep => doelgroep['id'] === userData['doelgroep'])[0]['naam']}</strong>.\n                        </p>\n                    </Alert>\n                    : <></>\n                }\n                <Route path=\"/login\" exact render={() => (\n                    <LoginPage\n                        onLogin={login}\n                        doelgroepen={doelgroepen}\n                        isLoggedIn={userData['isLoggedIn']}\n                    />\n                )}\n                />\n                <Route path=\"/sign_up\" exact render={() => (\n                    <SignUpPage\n                        doelgroepen={doelgroepen}\n                        isLoggedIn={userData['isLoggedIn']}\n                    />\n                )}\n                />\n                <Route path=\"/\" exact render={() => (\n                    <HomePage\n                        isLoggedIn={userData['isLoggedIn']}\n                        filters={filters}\n                        updateFilters={updateFilters}\n                        categorieen={categorieen}\n                        leeftijd={leeftijd}\n                        userData={userData}\n                        removeCategorieFromFilters={removeCategorieFromFilters}\n                        filteredSpeelgoed={filteredSpeelgoed}\n                        periodes={periodes}\n                        onWinkelWagenAdd={onWinkelWagenAdd}\n                        winkelWagen={winkelWagen}\n                        reservaties={reservaties}\n                    />\n                )}\n                />\n                <Route path=\"/admin/speelgoed\" exact render={() => (\n                    <AdminSpeelgoedPage\n                        isLoggedIn={userData['isLoggedIn']}\n                        filteredSpeelgoed={filteredSpeelgoed}\n                        filters={filters}\n                        updateFilters={updateFilters}\n                        removeCategorieFromFilters={removeCategorieFromFilters}\n                        archiveSpeelgoed={archiveSpeelgoed}\n                        onDeleteSpeelgoed={onDeleteSpeelgoed}\n                        onToggleBeschikbaar={onToggleBeschikbaar}\n                        onToggleSpecialeAanvraag={onToggleSpecialeAanvraag}\n                        categorieen={categorieen}\n                        leeftijd={leeftijd}\n                        userData={userData}\n                    />\n                )}\n                />\n                <Route path=\"/admin/speelgoedfiche\" exact render={() => (\n                    <AdminSpeelgoedFichePage\n                        isLoggedIn={userData['isLoggedIn']}\n                        doelgroepen={doelgroepen}\n                        userData={userData}\n                        categorieen={categorieen}\n                        leeftijd={leeftijd}\n                        speelgoed={speelgoed}\n                        onAddSpeelgoed={onAddSpeelgoed}\n                        onUpdateSpeelgoed={onUpdateSpeelgoed}\n                        onDeleteSpeelgoed={onDeleteSpeelgoed}\n                    />\n                )}\n                />\n                <Route path=\"/admin/categorieen\" exact render={() => (\n                    <AdminCategorieenPage\n                        isLoggedIn={userData['isLoggedIn']}\n                        categorieen = {categorieen}\n                        leeftijd = {leeftijd}\n                        onAddCategorie={onAddCategorie}\n                        onAddSubCategorie={onAddSubCategorie}\n                        onRemoveSubCategorie={onRemoveSubCategorie}\n                        onEditCategorie={onEditCategorie}\n                        onEditSubCategorie={onEditSubCategorie}\n                    />\n                )}\n                />\n                <Route path=\"/speelgoedfiche\" exact render={() => (\n                    <SpeelgoedFichePage\n                        isLoggedIn={userData['isLoggedIn']}\n                        speelgoed={speelgoed}\n                        categorieen = {categorieen}\n                        leeftijd = {leeftijd}\n                        userData={userData}\n                        reviews={reviews}\n                        gebruikers={gebruikers}\n                        periodes={periodes}\n                        onAddReview={onAddReview}\n                        reservaties={reservaties}\n                        onWinkelWagenAdd={onWinkelWagenAdd}\n                        winkelWagen={winkelWagen}\n                    />\n                )}\n                />\n                <Route path=\"/admin/doelgroepen\" exact render={() => (\n                    <AdminDoelgroepenPage\n                        isLoggedIn={userData['isLoggedIn']}\n                        doelgroepen={doelgroepen}\n                        onAddDoelgroep={onAddDoelgroep}\n                        onEditDoelgroep={onEditDoelgroep}\n                        onArchiveDoelgroep={onArchiveDoelgroep}\n                    />\n                )}\n                />\n                <Route path=\"/admin/periodes\" exact render={() => (\n                    <AdminPeriodesPage\n                        isLoggedIn={userData['isLoggedIn']}\n                        periodes={periodes}\n                        onAddPeriode={onAddPeriode}\n                        onEditPeriode={onEditPeriode}\n                    />\n                )}\n                />\n                <Route path=\"/admin/gebruikers\" exact render={() => (\n                    <AdminGebruikersPage\n                        isLoggedIn={userData['isLoggedIn']}\n                        gebruikers={gebruikers}\n                        doelgroepen={doelgroepen}\n                        onAddGebruiker={onAddGebruiker}\n                        onEditGebruiker={onEditGebruiker}\n                        onDeleteGebruiker={onDeleteGebruiker}\n                        userData={userData}\n                    />\n                )}\n                />\n                <Route path=\"/admin/reviews\" exact render={() => (\n                    <AdminReviewPage\n                        isLoggedIn={userData['isLoggedIn']}\n                        filters={filters}\n                        categorieen={categorieen}\n                        leeftijd={leeftijd}\n                        userData={userData}\n                        reviews={reviews}\n                        gebruikers={gebruikers}\n                        updateFilters={updateFilters}\n                        removeCategorieFromFilters={removeCategorieFromFilters}\n                        filteredSpeelgoed={filteredSpeelgoed}\n                        onDeleteReview={onDeleteReview}\n                    />\n                )}\n                />\n                <Route path=\"/admin/reservaties\" exact render={() => (\n                    <AdminReservatiePage\n                        isLoggedIn={userData['isLoggedIn']}\n                        filters={filters}\n                        updateFilters={updateFilters}\n                        removeCategorieFromFilters={removeCategorieFromFilters}\n                        categorieen={categorieen}\n                        leeftijd={leeftijd}\n                        userData={userData}\n                        filteredReservaties={filteredReservaties}\n                        speelgoed={speelgoed}\n                        gebruikers={gebruikers}\n                        periodes={periodes}\n                        onAddReservatie={onAddReservatie}\n                        onEditReservatie={onEditReservatie}\n                        onDeleteReservaties={onDeleteReservaties}\n                        reservaties={reservaties}\n                        onArchiveReservaties={onArchiveReservaties}\n                        onConfirmReservaties={onConfirmReservaties}\n                    />\n                )}\n                />\n                <Route path=\"/winkelwagen\" exact render={() => (\n                    <WinkelWagenPage\n                        isLoggedIn={userData['isLoggedIn']}\n                        winkelWagen={winkelWagen}\n                        onWinkelWagenDelete={onWinkelWagenDelete}\n                        speelgoed={speelgoed}\n                        periodes={periodes}\n                        onWinkelWagenEdit={onWinkelWagenEdit}\n                        reservaties={reservaties}\n                        onWinkelWagenCommit={onWinkelWagenCommit}\n                    />\n                )}\n                />\n                <Route path=\"/winkelwagenBevestigd\" exact render={() => (\n                    <WinkelWagenBevestigdPage\n                        isLoggedIn={userData['isLoggedIn']}\n                        winkelWagenResult={winkelWagenResult}\n                        speelgoed={speelgoed}\n                        periodes={periodes}\n                    />\n                )}\n                />\n                <Route path=\"/mijnreservaties\" exact render={() => (\n                    <MijnReservatiesPage\n                        isLoggedIn={userData['isLoggedIn']}\n                        filters={filters}\n                        updateFilters={updateFilters}\n                        removeCategorieFromFilters={removeCategorieFromFilters}\n                        categorieen={categorieen}\n                        leeftijd={leeftijd}\n                        userData={userData}\n                        filteredReservaties={filteredReservaties}\n                        speelgoed={speelgoed}\n                        periodes={periodes}\n                        onDeleteReservaties={onDeleteReservaties}\n                    />\n                )}\n                />\n                <div className=\"jt-wrapper-fill\"/>\n                <Footer/>\n                <Banner/>\n            </div>\n        </Router>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/style.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}