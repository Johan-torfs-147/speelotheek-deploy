(this["webpackJsonpspeelotheek-react"]=this["webpackJsonpspeelotheek-react"]||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(28),i=n.n(c),s=(n(89),n(3)),o=n.n(s),l=n(14),d=n(4),j=n(10),u=n(2),b=n(13),h=n(19),p=n(114),O=n(0);function f(){return Object(O.jsx)("div",{className:"jt-banner jt-no-print"})}var x=n(122),m=n(121),g=n(111),v=n(123),k=n(82),y=n(120),C=n(7);function w(e){var t=e.isLoggedIn,n=e.toggleSearchbar,a=e.searchbarActive,r=e.updateFilters,c=e.searchbarText;return Object(O.jsx)(O.Fragment,{children:t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"jt-searchbar-expand",children:[Object(O.jsx)("div",{className:"flex-fill"}),Object(O.jsx)(m.a,{placement:"bottom",overlay:Object(O.jsx)(g.a,{children:"Zoeken"}),children:Object(O.jsx)("div",{className:"jt-searchbar-button border-0",children:Object(O.jsx)("a",{onClick:n,className:a?"jt-searchbar-link jt-searchbar-link-active":"jt-searchbar-link",children:Object(O.jsx)(C.k,{size:"1.5em"})})})},"bottom")]}),Object(O.jsx)("div",{className:"jt-searchbar jt-searchbar-full",children:Object(O.jsx)("div",{className:"jt-searchbar-container",children:Object(O.jsx)("input",{id:"searchbar",type:"text",placeholder:"Zoeken",className:"jt-searchbar-input",onChange:function(e){return r("search",e.target.value,!1)},value:c})})})]}):Object(O.jsx)("div",{className:"flex-fill"})})}function N(e){var t=e.title,n=e.faIcon,a=e.collapse,r=e.to,c=e.shoppingCartLength;return Object(O.jsx)(m.a,{placement:"bottom",overlay:Object(O.jsx)(g.a,{className:"d-none d-"+a+"-block",children:t}),children:Object(O.jsxs)(v.a.Link,{to:r,as:b.b,className:"position-relative",children:[n,Object(O.jsx)("span",{className:"d-md-none ml-2",children:t}),c>0?Object(O.jsx)("div",{className:"jt-shopping-cart-number",children:Object(O.jsx)("span",{children:c})}):Object(O.jsx)(O.Fragment,{})]})},"bottom")}function S(e){var t=e.title,n=e.faIcon,a=e.collapse,r=e.dropdownMenu;return Object(O.jsxs)(y.a,{as:v.a.Item,className:"d-flex align-items-center",children:[Object(O.jsx)(m.a,{placement:"bottom",overlay:Object(O.jsx)(g.a,{className:"d-none d-"+a+"-block",children:t}),children:Object(O.jsxs)(y.a.Toggle,{as:v.a.Link,children:[n,Object(O.jsx)("span",{className:"d-md-none ml-2",children:t})]})},"bottom"),r]})}function I(e){var t=e.isLoggedIn,n=e.role,a=e.onLogout,r=e.toggleSearchbar,c=e.searchbarActive,i=e.updateFilters,s=e.searchbarText,l=e.winkelWagen,d=e.username,u=Object(h.f)();function p(){return(p=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/logout.php");case 2:return t=e.sent,e.next=5,t.json();case 5:e.sent.ok&&a();case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f="md";return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(x.a,{activeKey:"/",className:"bg-light p-2 container-fluid",expand:f,children:[Object(O.jsx)(m.a,{placement:"bottom",overlay:Object(O.jsx)(g.a,{className:"d-none d-md-block",children:"Go back"}),children:Object(O.jsx)(v.a,{children:Object(O.jsx)(v.a.Link,{as:b.b,onClick:function(){u.length<2||u.goBack()},className:"px-2",children:Object(O.jsx)(C.j,{size:"1.8em"})})})},"bottom"),Object(O.jsxs)(k.a,{to:"/",as:b.b,className:"d-flex align-items-center",children:[Object(O.jsx)("img",{src:"./images/logo_tballonneke_klein.svg",width:"48",height:"48",alt:"Logo"}),Object(O.jsx)("span",{className:"jt-nav-title d-none d-sm-inline",children:"Speelotheek"})]}),Object(O.jsx)(w,{isLoggedIn:t,toggleSearchbar:r,searchbarActive:c,updateFilters:i,searchbarText:s}),Object(O.jsx)(x.a.Toggle,{"aria-controls":"navbar-links",className:"border-0"}),Object(O.jsx)(x.a.Collapse,{className:"jt-nav-collapse",id:"navbar-links",children:Object(O.jsx)(v.a,{children:t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v.a.Item,{className:"d-flex align-items-center",children:Object(O.jsx)(N,{title:"Home",faIcon:Object(O.jsx)(C.g,{size:"1.8em"}),collapse:f,to:"/"})}),"Admin"===n?Object(O.jsx)(S,{title:"Admin",faIcon:Object(O.jsx)(C.p,{size:"1.8em"}),collapse:f,dropdownMenu:Object(O.jsxs)(y.a.Menu,{className:"bg-light dropdown-menu-right",children:[Object(O.jsx)(y.a.Item,{to:"/admin/speelgoed",as:b.b,className:"bg-light text-dark",children:"Speelgoed"}),Object(O.jsx)(y.a.Item,{to:"/admin/reservaties",as:b.b,className:"bg-light text-dark",children:"Reservaties"}),Object(O.jsx)(y.a.Item,{to:"/admin/gebruikers",as:b.b,className:"bg-light text-dark",children:"Gebruikers"}),Object(O.jsx)(y.a.Item,{to:"/admin/categorieen",as:b.b,className:"bg-light text-dark",children:"Categorie\xebn"}),Object(O.jsx)(y.a.Item,{to:"/admin/periodes",as:b.b,className:"bg-light text-dark",children:"Periodes"}),Object(O.jsx)(y.a.Item,{to:"/admin/reviews",as:b.b,className:"bg-light text-dark",children:"Reviews"}),Object(O.jsx)(y.a.Item,{to:"/admin/doelgroepen",as:b.b,className:"bg-light text-dark",children:"Doelgroepen"}),Object(O.jsx)(y.a.Item,{to:"/admin/statistiek",as:b.b,className:"bg-light text-dark",children:"Statistiek"})]})}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(v.a.Item,{className:"d-flex align-items-center",children:Object(O.jsx)(N,{title:"Winkelkar",faIcon:Object(O.jsx)(C.l,{size:"1.8em"}),collapse:f,to:"/winkelwagen",shoppingCartLength:l.length})}),Object(O.jsx)(S,{title:d,faIcon:Object(O.jsx)(C.o,{size:"1.8em"}),collapse:f,dropdownMenu:Object(O.jsxs)(y.a.Menu,{className:"bg-light dropdown-menu-right",children:[Object(O.jsx)(y.a.Item,{to:"/mijnreservaties",as:b.b,className:"bg-light text-dark",children:"Mijn reservaties"}),Object(O.jsx)(y.a.Item,{onClick:function(){return p.apply(this,arguments)},className:"bg-light text-dark",children:"Logout"})]})})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v.a.Item,{className:"d-flex align-items-center",children:Object(O.jsx)(v.a.Link,{to:"/login",as:b.b,children:"Login"})}),Object(O.jsx)(v.a.Item,{className:"d-flex align-items-center",children:Object(O.jsx)(v.a.Link,{to:"/sign_up",as:b.b,children:"Registreer"})})]})})})]})})}function D(e){var t=e.isLoggedIn,n=e.updateFilters,a=e.searchbarText;return Object(O.jsx)(O.Fragment,{children:t?Object(O.jsx)("div",{className:"jt-searchbar d-md-none",children:Object(O.jsx)("input",{id:"searchbar",type:"text",placeholder:"Zoeken",className:"jt-searchbar-input flex-fill",onChange:function(e){return n("search",e.target.value,!1)},value:a})}):Object(O.jsx)("div",{className:"flex-fill"})})}function L(e){var t=e.isLoggedIn,n=e.role,r=e.onLogout,c=e.updateFilters,i=e.searchbarText,s=e.winkelWagen,o=e.username,l=Object(a.useState)(!1),d=Object(u.a)(l,2),j=d[0],b=d[1];return Object(O.jsxs)("header",{className:"jt-no-print",children:[Object(O.jsx)(I,{isLoggedIn:t,role:n,onLogout:r,toggleSearchbar:function(){b(!j),c("search","",!1)},searchbarActive:j,updateFilters:c,searchbarText:i,winkelWagen:s,username:o}),j?Object(O.jsx)(D,{isLoggedIn:t,updateFilters:c,searchbarText:i}):Object(O.jsx)(O.Fragment,{})]})}N.defaultProps={shoppingCartLength:0};var A=n(112);function F(){return Object(O.jsxs)("h2",{children:[Object(O.jsx)(A.a,{animation:"grow",role:"status",children:Object(O.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(O.jsx)("span",{className:"ml-2",children:"Laden..."})]})}function T(){return Object(O.jsx)("footer",{className:"container-fluid py-4 jt-no-print",children:Object(O.jsx)("span",{children:"\xa9 vzw 't Ballonneke"})})}var G=n(119),E=n(113),B=n(83),z=n(81),H=n(44);function P(e){var t=e.onLogin,n=e.onLoginFailed,r=e.doelgroepen,c=Object(a.useState)(""),i=Object(u.a)(c,2),s=i[0],l=i[1],d=Object(a.useState)(""),b=Object(u.a)(d,2),h=b[0],p=b[1],f=Object(a.useState)(-1),x=Object(u.a)(f,2),m=x[0],g=x[1],v=Object(a.useState)(""),k=Object(u.a)(v,2),y=k[0],C=k[1];function w(){return(w=Object(j.a)(o.a.mark((function e(a){var r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),-1!==m){e.next=3;break}return e.abrupt("return",alert("Selecteer een doelgroep"));case 3:return C("Login"),r=Object(H.sha256)(h),e.next=7,fetch("./php/login.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:s,encrpass:r,doelgroep:m})});case 7:return c=e.sent,e.next=10,c.json();case 10:(i=e.sent).ok?t(i.userData):n(i.errMsg?i.errMsg:"Emailadres en wachtwoord combinatie onbekend"),l(""),p(""),C("");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsxs)(G.a,{onSubmit:function(e){return w.apply(this,arguments)},children:[Object(O.jsxs)(G.a.Group,{as:E.a,controlId:"formBasicUser",children:[Object(O.jsx)(G.a.Label,{column:!0,lg:3,children:"Naam of email:"}),Object(O.jsx)(B.a,{lg:9,children:Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Voer naam of email in",value:s,onChange:function(e){return l(e.target.value)},required:!0})})]}),Object(O.jsxs)(G.a.Group,{as:E.a,controlId:"formBasicPassword",children:[Object(O.jsx)(G.a.Label,{column:!0,lg:3,children:"Wachtwoord:"}),Object(O.jsx)(B.a,{lg:9,children:Object(O.jsx)(G.a.Control,{type:"password",placeholder:"Wachtwoord",value:h,onChange:function(e){return p(e.target.value)},required:!0})})]}),Object(O.jsxs)(G.a.Group,{as:E.a,controlId:"formBasicDoelgroep",children:[Object(O.jsx)(G.a.Label,{column:!0,lg:3,children:"Doelgroep:"}),Object(O.jsx)(B.a,{lg:9,children:Object(O.jsxs)(G.a.Control,{as:"select",value:m,onChange:function(e){return g(e.target.value)},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Kies..."}),r.length>0?r.filter((function(e){return!e.isArchief})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.naam})})):Object(O.jsx)("option",{value:"-1",children:"Geen doelgroepen"})]})})]}),"Login"===y?Object(O.jsxs)(z.a,{variant:"primary",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"primary",type:"submit",children:"Log in"})]})}function W(e){var t=e.onLogin,n=e.doelgroepen,r=e.isLoggedIn,c=Object(a.useState)(!1),i=Object(u.a)(c,2),s=i[0],o=i[1],l=Object(a.useState)(""),d=Object(u.a)(l,2),j=d[0],b=d[1];return r?Object(O.jsx)(h.a,{to:"/"}):Object(O.jsxs)("main",{className:"container jt-login-container",children:[Object(O.jsx)("h1",{children:"Login Form"}),Object(O.jsx)(p.a,{show:s,variant:"danger",onClose:function(){return o(!1)},dismissible:!0,children:Object(O.jsx)("p",{className:"mb-0",children:j})}),Object(O.jsx)(P,{onLogin:t,onLoginFailed:function(e){o(!0),b(e)},doelgroepen:n})]})}function R(e){var t=e.doelgroepen,n=e.onSignUp,r=Object(a.useState)(""),c=Object(u.a)(r,2),i=c[0],s=c[1],l=Object(a.useState)(""),d=Object(u.a)(l,2),b=d[0],h=d[1],p=Object(a.useState)(""),f=Object(u.a)(p,2),x=f[0],m=f[1],g=Object(a.useState)(""),v=Object(u.a)(g,2),k=v[0],y=v[1],C=Object(a.useState)(-1),w=Object(u.a)(C,2),N=w[0],S=w[1],I=Object(a.useState)(""),D=Object(u.a)(I,2),L=D[0],F=D[1];function T(e){return e.replace(/\n/g,"\\\\n").replace(/\r/g,"\\\\r").replace(/\t/g,"\\\\t").replace(/"/g,'\\"')}var P=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),-1!==N){e.next=3;break}return e.abrupt("return",alert("Selecteer een doelgroep"));case 3:if(x===k&&""!==b&&""!==x){e.next=5;break}return e.abrupt("return",alert("Zorg dat wachtwoord juist bevestigd is"));case 5:return F("Registreer"),a=Object(H.sha256)(x),e.next=9,fetch("./php/signUp.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:T(i),encrpass:a,email:T(b),doelgroep:N})});case 9:return r=e.sent,e.next=12,r.json();case 12:e.sent.ok?n(!0):n(!1),s(""),m(""),h(""),y(""),F("");case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(G.a,{onSubmit:P,children:[Object(O.jsxs)(G.a.Group,{as:E.a,controlId:"formUser",children:[Object(O.jsx)(G.a.Label,{column:!0,lg:2,children:"Naam:"}),Object(O.jsx)(B.a,{lg:10,children:Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Voer gebruikersnaam in",value:i,onChange:function(e){return s(e.target.value)},required:!0})})]}),Object(O.jsxs)(G.a.Group,{as:E.a,controlId:"formEmail",children:[Object(O.jsx)(G.a.Label,{column:!0,lg:2,children:"Emailadres:"}),Object(O.jsx)(B.a,{lg:10,children:Object(O.jsx)(G.a.Control,{type:"email",placeholder:"Voer emailadres in",value:b,onChange:function(e){return h(e.target.value)},required:!0})})]}),Object(O.jsxs)(G.a.Group,{as:E.a,controlId:"formDoelgroep",children:[Object(O.jsx)(G.a.Label,{column:!0,lg:2,children:"Doelgroep:"}),Object(O.jsx)(B.a,{lg:10,children:Object(O.jsxs)(G.a.Control,{as:"select",value:N,onChange:function(e){return S(e.target.value)},children:[Object(O.jsx)("option",{value:"-1",children:"Kies..."}),t.length>0?t.filter((function(e){return!e.isArchief})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.naam})})):Object(O.jsx)("option",{value:"-1",children:"Geen doelgroepen"})]})})]}),Object(O.jsxs)(G.a.Group,{as:E.a,children:[Object(O.jsxs)(B.a,{lg:6,className:"mb-3",children:[Object(O.jsx)(G.a.Label,{children:"Wachtwoord:"}),Object(O.jsx)(G.a.Control,{id:"formPassword",type:"password",placeholder:"Wachtwoord",value:x,onChange:function(e){return m(e.target.value)},required:!0})]}),Object(O.jsxs)(B.a,{lg:6,className:"mb-3",children:[Object(O.jsx)(G.a.Label,{children:"Bevestig wachtwoord:"}),Object(O.jsx)(G.a.Control,{id:"formPasswordConfirm",type:"password",placeholder:"Wachtwoord",value:k,onChange:function(e){return y(e.target.value)},required:!0})]})]}),"Registreer"===L?Object(O.jsxs)(z.a,{variant:"primary",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"primary",type:"submit",children:"Registreer"})]})}function V(e){var t=e.doelgroepen,n=e.isLoggedIn,r=Object(a.useState)(!1),c=Object(u.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)(!1),l=Object(u.a)(o,2),d=l[0],j=l[1];return n?Object(O.jsx)(h.a,{to:"/"}):Object(O.jsxs)("main",{className:"container jt-login-container",children:[Object(O.jsx)("h1",{children:"Registreer"}),Object(O.jsxs)(p.a,{show:i,variant:"success",onClose:function(){return s(!1)},dismissible:!0,children:[Object(O.jsx)(p.a.Heading,{className:"mb-0",children:"Uw gegevens werden verzonden"}),Object(O.jsx)("p",{className:"mb-0",children:"U kan inloggen vanaf dat een administrator uw account heeft geactiveerd."})]}),Object(O.jsxs)(p.a,{show:d,variant:"danger",onClose:function(){return j(!1)},dismissible:!0,children:[Object(O.jsx)(p.a.Heading,{className:"mb-0",children:"Er is iets misgegaan"}),Object(O.jsx)("p",{className:"mb-0",children:"Probeer een andere combinatie"})]}),Object(O.jsx)(R,{doelgroepen:t,onSignUp:function(e){s(e),j(!e)}})]})}var U=n(124);function J(e){var t=e.categorie,n=e.updateFilters,r=e.filters,c=(e.initialShow,Object(a.useState)(!1)),i=Object(u.a)(c,2),s=i[0],o=i[1],d=Object(a.useState)(t.subCategorieen.map((function(e){return e.id})).filter((function(e){return r.leeftijden.concat.apply([],r.categorieen.map((function(e){return e.subCategorieen}))).includes(e)||r.leeftijden.includes(e)}))),j=Object(u.a)(d,2),b=j[0],h=j[1];return Object(O.jsx)(U.a,{className:"mr-2 mb-2",children:Object(O.jsxs)(U.a.Body,{children:[Object(O.jsx)(U.a.Title,{children:Object(O.jsx)(G.a.Check,{id:"all"+t.id,type:"checkbox",label:t.naam,onChange:function(e){return function(){var e=[];s?(h([]),n("Leeftijd"==t.naam?"leeftijd":"subCategorie",[],t.subCategorieen.map((function(e){return e.id})),t.id),o(!1)):(e=t.subCategorieen.map((function(e){return e.id})),n("Leeftijd"==t.naam?"leeftijd":"subCategorie",e,e,t.id),h(e),o(!0))}()},checked:s})}),Object(O.jsx)(U.a.Text,{children:t.subCategorieen.map((function(e){return Object(O.jsx)(G.a.Check,{id:e.id,type:"checkbox",label:e.naam,onChange:function(a){return r=e.id,o(!1),void(b.includes(r)?(h(b.filter((function(e){return e!=r}))),n("Leeftijd"==t.naam?"leeftijd":"subCategorie",[],[r],t.id)):(n("Leeftijd"==t.naam?"leeftijd":"subCategorie",[r],[],t.id),h([].concat(Object(l.a)(b),[r]))));var r},checked:b.includes(e.id)})}))})]})})}function q(e){var t=e.filters,n=e.updateFilters,r=e.categorieen,c=e.leeftijd,i=e.userData,s=e.removeCategorieFromFilters,o=Object(a.useState)(),d=Object(u.a)(o,2),j=(d[0],d[1],Object(a.useState)(t.categorieen.map((function(e){return e.id})))),b=Object(u.a)(j,2),h=b[0],p=b[1],f=Object(a.useState)(t.leeftijden.length>0),x=Object(u.a)(f,2),m=x[0],g=x[1];return Object(O.jsxs)("div",{className:"rounded p-3 my-3 bg-filter jt-no-print",children:[Object(O.jsx)("h2",{children:"Filters"}),Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsxs)("div",{className:"d-flex flex-row flex-wrap mb-2",children:[-1!==c.id?Object(O.jsx)(z.a,{variant:(m?"":"outline-")+"primary",onClick:function(){return e=c.id,void(m?(g(!1),s("leeftijd",e)):g(!0));var e},className:"mr-2 mb-2",children:"Leeftijd"}):Object(O.jsx)(O.Fragment,{}),r.map((function(e){return Object(O.jsx)(z.a,{variant:(h.includes(e.id)?"":"outline-")+"primary",onClick:function(){return t=e.id,void(h.includes(t)?(p(h.filter((function(e){return!(e===t)}))),s("categorie",t)):p([].concat(Object(l.a)(h),[t])));var t},className:"mr-2  mb-2",children:e.naam})}))]}),Object(O.jsxs)("div",{className:"d-flex flex-row flex-wrap mb-2",children:[m?Object(O.jsx)(J,{categorie:c,updateFilters:n,filters:t,initialShow:function(e){c.id===e?g(!0):p([].concat(Object(l.a)(h),[e]))}}):Object(O.jsx)(O.Fragment,{}),r.filter((function(e){return h.includes(e.id)})).map((function(e){return Object(O.jsx)(J,{categorie:e,updateFilters:n,filters:t})}))]})]}),"Admin"===i.role?Object(O.jsxs)(E.a,{children:[Object(O.jsxs)(G.a.Group,{className:"mb-0",children:[Object(O.jsx)(B.a,{xs:"auto",className:"d-flex flex-row align-items-center",children:Object(O.jsx)(G.a.Label,{className:"mb-0",children:"Archief:"})}),Object(O.jsx)(B.a,{xs:"auto",children:Object(O.jsxs)(G.a.Control,{as:"select",value:t.showArchief,onChange:function(e){return n("showArchief",parseInt(e.target.value))},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Toon alles"}),Object(O.jsx)("option",{value:"0",children:"Verberg archief"}),Object(O.jsx)("option",{value:"1",children:"Toon archief"})]})})]}),Object(O.jsxs)(G.a.Group,{className:"mb-0",children:[Object(O.jsx)(B.a,{xs:"auto",className:"d-flex flex-row align-items-center",children:Object(O.jsx)(G.a.Label,{className:"mb-0",children:"Uitgeleend:"})}),Object(O.jsx)(B.a,{xs:"auto",children:Object(O.jsxs)(G.a.Control,{as:"select",value:t.showUitgeleend,onChange:function(e){return n("showUitgeleend",parseInt(e.target.value))},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Toon alles"}),Object(O.jsx)("option",{value:"0",children:"Verberg uitgeleend"}),Object(O.jsx)("option",{value:"1",children:"Toon uitgeleend"})]})})]})]}):Object(O.jsx)(O.Fragment,{})]})}var M=n(116),K=n(118),_=n(115),Z=n(84),Y=n.n(Z);function Q(e){var t=e.speelgoedItem,n=e.categorieen,a=e.leeftijd,r=e.addSpeelgoed,c=e.reservaties,i=e.periodes,s=e.winkelWagen;return Object(O.jsxs)(U.a,{bg:"light",children:[Object(O.jsx)(U.a.Header,{to:"/speelgoedFiche?id="+t.id,className:"px-3 pt-3",children:Object(O.jsx)("img",{className:"img-fluid",src:t.foto?t.foto:"/images/placeholder.jpg"})}),Object(O.jsxs)(U.a.Body,{children:[Object(O.jsx)(U.a.Title,{as:b.b,to:"/speelgoedfiche?id="+t.id,className:"jt-card-title",children:t.naam}),Object(O.jsx)(U.a.Text,{children:Object(O.jsx)(Y.a,{text:t.korteInhoud,min:40,ideal:60,max:120,readMoreText:Object(O.jsx)("a",{className:"jt-read-more jt-clickable",children:"Lees meer..."})})}),Object(O.jsx)("div",{className:"jt-card-tags",children:t.leeftijden.map((function(e){return Object(O.jsx)(_.a,{pill:!0,variant:"secondary",children:a.subCategorieen.filter((function(t){return t.id==e})).map((function(e){return e.naam}))})}))}),Object(O.jsx)("div",{className:"jt-card-tags",children:t.subCategorieen.map((function(e){return Object(O.jsx)(_.a,{pill:!0,variant:"secondary",children:n.filter((function(t){return t.subCategorieen.map((function(e){return e.id})).includes(e)}))[0].subCategorieen.filter((function(t){return t.id==e})).map((function(e){return e.naam}))})}))}),Object(O.jsx)(z.a,{variant:!t.beschikbaar||t.specialeAanvraag||t.isArchief||0===i.filter((function(e){return!(e.isArchief||c.filter((function(e){return!e.isArchief&&e.speelgoedId===t.id})).map((function(e){return e.periodeId})).includes(e.id)||s.filter((function(e){return e.speelgoedId===t.id})).map((function(e){return e.periodeId})).includes(e.id))})).length?"danger":"success",disabled:!t.beschikbaar||t.specialeAanvraag||t.isArchief||0===i.filter((function(e){return!(e.isArchief||c.filter((function(e){return!e.isArchief&&e.speelgoedId===t.id})).map((function(e){return e.periodeId})).includes(e.id)||s.filter((function(e){return e.speelgoedId===t.id})).map((function(e){return e.periodeId})).includes(e.id))})).length,className:"mt-2",onClick:function(){return r(t.id)},children:t.specialeAanvraag?"Speciale aanvraag":"Reserveren"})]})]})}function X(e){var t=e.onHide,n=e.item,a=e.show,r=e.periode,c=e.formatDate;return Object(O.jsxs)(K.a,{show:a,onHide:t,children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Speelgoed toegevoegd"})}),Object(O.jsxs)(K.a.Body,{children:[Object(O.jsx)(b.b,{to:"/speelgoedfiche?id="+n.id,id:n.id+"-naam",children:Object(O.jsxs)(E.a,{children:[Object(O.jsx)(B.a,{xs:"2",children:Object(O.jsx)("img",{src:n.foto?n.foto:"/images/placeholder.jpg",alt:"",className:"img-fluid"})}),Object(O.jsx)(B.a,{xs:"10",className:"d-flex flex-row align-items-center",children:n.naam})]})}),Object(O.jsx)("p",{children:"Van "+c(r.startDatum)+" tot "+c(r.eindDatum)})]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(z.a,{variant:"secondary",onClick:t,children:"Verder winkelen"}),Object(O.jsx)(z.a,{as:b.b,to:"/winkelwagen",variant:"success",children:"Naar winkelwagen"})]})]})}function $(e){var t=e.isLoggedIn,n=e.filters,r=e.updateFilters,c=e.categorieen,i=e.leeftijd,s=e.userData,o=e.removeCategorieFromFilters,l=e.filteredSpeelgoed,j=e.periodes,b=e.onWinkelWagenAdd,p=e.winkelWagen,f=e.reservaties,x=e.formatDate,m=Object(a.useState)(!1),g=Object(u.a)(m,2),v=g[0],k=g[1],y=Object(a.useState)({speelgoedId:-1,periodeId:-1}),C=Object(u.a)(y,2),w=C[0],N=C[1],S=Object(a.useState)(!1),I=Object(u.a)(S,2),D=I[0],L=I[1],F=Object(a.useState)({}),T=Object(u.a)(F,2),E=T[0],B=T[1],H=Object(a.useState)({startDatum:"1995-07-13",eindDatum:"1995-07-13"}),P=Object(u.a)(H,2),W=P[0],R=P[1],V=Object(a.useState)(""),U=Object(u.a)(V,2),J=U[0],_=U[1];function Z(e){N(Object(d.a)(Object(d.a)({},w),{},{speelgoedId:e})),k(!0)}function Y(){N({speelgoedId:-1,periodeId:-1}),k(!1)}return t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("main",{className:"container",children:[Object(O.jsx)("h1",{children:"Hoofdpagina"}),Object(O.jsx)(q,{filters:n,updateFilters:r,categorieen:c,leeftijd:i,userData:s,removeCategorieFromFilters:o}),Object(O.jsx)(M.a,{className:"jt-card-columns",children:l.map((function(e){return Object(O.jsx)(Q,{speelgoedItem:e,categorieen:c,leeftijd:i,addSpeelgoed:Z,reservaties:f,periodes:j,winkelWagen:p})}))})]}),Object(O.jsxs)(K.a,{show:v,onHide:function(){return Y()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Toevoegen aan winkelwagen"})}),Object(O.jsxs)(G.a,{onSubmit:function(e){return e.preventDefault(),w.periodeId&&-1!==w.periodeId?p.map((function(e){return e.speelgoedId})).includes(w.speelgoedId&&p.filter((function(e){return e.speelgoedId===w.speelgoedId})).map((function(e){return e.periodeId})).includes(w.periodeId))?alert("Deze reservatie zit reeds in uw winkelwagen"):(_("Toevoegen"),b(w.speelgoedId,w.periodeId),t=w.speelgoedId,n=w.periodeId,B(l.find((function(e){return e.id===t}))),R(j.find((function(e){return e.id===n}))),L(!0),Y(),void _("")):alert("Selecteer een periode");var t,n},children:[Object(O.jsx)(K.a.Body,{children:Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Periode:"}),Object(O.jsxs)(G.a.Control,{as:"select",value:w.periodeId,onChange:function(e){return N(Object(d.a)(Object(d.a)({},w),{},{periodeId:parseInt(e.target.value)}))},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Kies..."}),j.filter((function(e){return!e.isArchief})).length>0?j.filter((function(e){return!(e.isArchief||f.filter((function(e){return!e.isArchief&&e.speelgoedId===w.speelgoedId})).map((function(e){return e.periodeId})).includes(e.id)||p.filter((function(e){return e.speelgoedId===w.speelgoedId})).map((function(e){return e.periodeId})).includes(e.id))})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:"Van "+x(e.startDatum)+" tot "+x(e.eindDatum)})})):Object(O.jsx)("option",{value:"-1",children:"Geen periodes beschikbaar"})]})]})}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(z.a,{variant:"secondary",onClick:function(){return Y()},children:"Sluiten"}),"Toevoegen"===J?Object(O.jsxs)(z.a,{variant:"success",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"success",type:"submit",children:"Toevoegen"})]})]})]}),Object(O.jsx)(X,{show:D,onHide:function(){L(!1)},item:E,periode:W,formatDate:x})]}):Object(O.jsx)(h.a,{to:"/login"})}X.defaultProps={periode:{startDatum:"1995-07-13",eindDatum:"1995-07-13"},item:{}};var ee=n(117);function te(e){var t=e.isLoggedIn,n=e.filteredSpeelgoed,r=e.filters,c=e.updateFilters,i=e.removeCategorieFromFilters,s=e.archiveSpeelgoed,d=e.uitleenSpeelgoed,f=e.onDeleteSpeelgoed,x=e.onToggleBeschikbaar,m=e.onToggleSpecialeAanvraag,g=e.categorieen,v=e.leeftijd,k=e.userData,y=e.sortSpeelgoed,w=e.sortParam,N=Object(h.g)(),S=Object(a.useState)(),I=Object(u.a)(S,2),D=I[0],L=I[1],F=Object(a.useState)([]),T=Object(u.a)(F,2),E=T[0],B=T[1],H=Object(a.useState)(!1),P=Object(u.a)(H,2),W=P[0],R=P[1],V=Object(a.useState)(!1),U=Object(u.a)(V,2),J=U[0],M=U[1],Z=Object(a.useState)([]),Y=Object(u.a)(Z,2),Q=Y[0],X=Y[1],$=Object(a.useState)(""),te=Object(u.a)($,2),ne=te[0],ae=te[1],re=Object(a.useState)(-1),ce=Object(u.a)(re,2),ie=ce[0],se=ce[1];function oe(e,t){return le.apply(this,arguments)}function le(){return(le=Object(j.a)(o.a.mark((function e(t,n){var a,r,c,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se(t),ae("Archiveren"),a=[],-1==t?a=E:a.push(t),r=new Date,c=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate(),e.next=8,fetch("/php/admin/speelgoedArchive.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:a,isArchief:n?1:0,archiefDatum:c})});case 8:return i=e.sent,e.next=11,i.json();case 11:(l=e.sent).ok?s(l.ids,l.isArchief,l.archiefDatum):alert("Het arciveren is mislukt"),ae(""),se(-1);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t){return je.apply(this,arguments)}function je(){return(je=Object(j.a)(o.a.mark((function e(t,n){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se(t),ae("Uitlenen"),a=[],-1==t?a=E:a.push(t),e.next=6,fetch("/php/admin/speelgoedUitlenen.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:a,uitgeleend:n?1:0})});case 6:return r=e.sent,e.next=9,r.json();case 9:(c=e.sent).ok?d(c.ids,c.uitgeleend):alert("Het uitlenen is mislukt"),ae(""),se(-1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e){M(!0);var t=[];-1==e?t=E:t.push(e),X(t)}function be(e){e&&function(){he.apply(this,arguments)}(),M(!1)}function he(){return(he=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae("Delete"),e.next=3,fetch("/php/admin/speelgoedDelete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toDelete:Q})});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).ok?f(n.ids):alert("Het verwijderen is mislukt"),ae("");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(){return(pe=Object(j.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/admin/speelgoedBeschikbaar.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,status:n})});case 2:return a=e.sent,e.next=5,a.json();case 5:(r=e.sent).ok?x(r.id,r.status):alert('Het veranderen van status "beschikbaar" is mislukt');case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(){return(Oe=Object(j.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/admin/speelgoedSpecialeAanvraag.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,status:n})});case 2:return a=e.sent,e.next=5,a.json();case 5:(r=e.sent).ok?m(r.id,r.status):alert('Het veranderen van status "speciale aanvraag" is mislukt');case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e=N.search,t={};e&&((e=e.slice(1,e.length)).split("&").forEach((function(e){t[e.split("=")[0]]=e.split("=")[1]})),L(t.action))}),[]),t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("main",{className:"container-fluid",children:[Object(O.jsx)("h1",{children:"Admin Speelgoed"}),Object(O.jsx)(p.a,{show:"toegevoegd"==D,variant:"success",onClose:function(){return L("")},dismissible:!0,children:Object(O.jsx)("p",{className:"mb-0",children:"Speelgoed succesvol aangemaakt"})}),Object(O.jsx)(p.a,{show:"bewerkt"==D,variant:"success",onClose:function(){return L("")},dismissible:!0,children:Object(O.jsx)("p",{className:"mb-0",children:"Speelgoed succesvol bewerkt"})}),Object(O.jsx)(q,{filters:r,updateFilters:c,categorieen:g,leeftijd:v,userData:k,removeCategorieFromFilters:i}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"jt-table-check-container"}),Object(O.jsxs)("th",{className:"jt-table-center jt-table-id-container",children:["#",Object(O.jsxs)("div",{className:"d-flex flex-row",children:[Object(O.jsx)(C.e,{onClick:function(){return y("oudCode","asc")},color:"oudCode"===w.param&&"asc"===w.type?"blue":"black"}),Object(O.jsx)(C.d,{onClick:function(){return y("oudCode","desc")},color:"oudCode"===w.param&&"desc"===w.type?"blue":"black"})]})]}),Object(O.jsxs)("th",{children:["Naam",Object(O.jsxs)("div",{className:"d-flex flex-row",children:[Object(O.jsx)(C.e,{onClick:function(){return y("naam","asc")},color:"naam"===w.param&&"asc"===w.type?"blue":"black"}),Object(O.jsx)(C.d,{onClick:function(){return y("naam","desc")},color:"naam"===w.param&&"desc"===w.type?"blue":"black"})]})]}),Object(O.jsx)("th",{})]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(e){W?(B([]),R(!1)):(B(n.map((function(e){return e.id}))),R(!0))},checked:W})})})}),Object(O.jsx)("td",{colSpan:"2"}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(z.a,{as:b.b,to:"/admin/speelgoedfiche?action=toevoegen",variant:"success",className:"rounded-circle",children:Object(O.jsx)(C.i,{})}),"Uitlenen"===ne&&-1===ie?Object(O.jsx)(z.a,{variant:"secondary",className:"rounded-circle",disabled:!0,children:Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})}):Object(O.jsx)(z.a,{variant:"secondary",className:"rounded-circle",onClick:function(){return de(-1,1)},children:Object(O.jsx)(C.c,{})}),"Archiveren"===ne&&-1===ie?Object(O.jsx)(z.a,{variant:"archive",className:"rounded-circle",disabled:!0,children:Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})}):Object(O.jsx)(z.a,{variant:"archive",className:"rounded-circle",onClick:function(){return oe(-1,1)},children:Object(O.jsx)(C.b,{})}),Object(O.jsx)(z.a,{variant:"danger",className:"rounded-circle",onClick:function(){return ue(-1)},children:Object(O.jsx)(C.n,{})})]})]}),n.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(t){return n=e.id,R(!1),void(E.includes(n)?B(E.filter((function(e){return e!=n}))):B([].concat(Object(l.a)(E),[n])));var n},checked:E.includes(e.id)})})})}),Object(O.jsx)("td",{className:"jt-table-id",children:e.oudCode}),Object(O.jsxs)("td",{children:[Object(O.jsxs)(b.b,{to:"/speelgoedfiche?id="+e.id,id:e.id+"-naam",children:[Object(O.jsx)("img",{src:e.foto?e.foto:"/images/placeholder.jpg",className:"jt-table-img"}),Object(O.jsx)("span",{className:"jt-table-naam",children:e.naam})]}),e.beschikbaar?Object(O.jsx)(O.Fragment,{}):Object(O.jsxs)(_.a,{pill:!0,variant:"danger",className:"mr-2",children:[Object(O.jsx)("span",{className:"mr-2",children:"Niet beschikbaar"}),Object(O.jsx)(C.m,{as:z.a,onClick:function(){return function(e,t){return pe.apply(this,arguments)}(e.id,1)},className:"jt-clickable"})]}),e.specialeAanvraag?Object(O.jsxs)(_.a,{pill:!0,variant:"primary",className:"mr-2",children:[Object(O.jsx)("span",{className:"mr-2",children:"Speciale Aanvraag"}),Object(O.jsx)(C.m,{as:z.a,onClick:function(){return function(e,t){return Oe.apply(this,arguments)}(e.id,0)},className:"jt-clickable"})]}):Object(O.jsx)(O.Fragment,{})]}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(z.a,{as:b.b,to:"/admin/speelgoedfiche?action=bewerken&id="+e.id,variant:"info",className:"rounded-circle",children:Object(O.jsx)(C.h,{})}),"Uitlenen"===ne&&ie===e.id?Object(O.jsx)(z.a,{variant:"secondary",className:"rounded-circle",disabled:!0,children:Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})}):Object(O.jsx)(z.a,{variant:e.uitgeleend?"secondary":"outline-secondary",className:"rounded-circle",onClick:function(){return de(e.id,!e.uitgeleend)},children:Object(O.jsx)(C.c,{})}),"Archiveren"===ne&&ie===e.id?Object(O.jsx)(z.a,{variant:"archive",className:"rounded-circle",disabled:!0,children:Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})}):Object(O.jsx)(z.a,{variant:e.isArchief?"archive":"outline-archive",className:"rounded-circle",onClick:function(){return oe(e.id,!e.isArchief)},children:Object(O.jsx)(C.b,{})}),Object(O.jsx)(z.a,{variant:"danger",className:"rounded-circle",onClick:function(){return ue(e.id)},children:Object(O.jsx)(C.n,{})})]})]})}))]})]})]}),Object(O.jsxs)(K.a,{show:J,onHide:function(){return be(!1)},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Speelgoed verwijderen"})}),Object(O.jsxs)(K.a.Body,{children:["Weet u zeker dat u ",Q.length," stuk",Q.length>1?"ken":""," speelgoed wilt verwijderen?"]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(z.a,{variant:"secondary",onClick:function(){return be(!1)},children:"Sluiten"}),"Delete"===ne?Object(O.jsxs)(z.a,{variant:"danger",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"danger",onClick:function(){return be(!0)},children:"Verwijder"})]})]})]}):Object(O.jsx)(h.a,{to:"/login"})}function ne(e){var t=e.isLoggedIn,n=e.filteredSpeelgoed,r=e.filters,c=e.updateFilters,i=e.removeCategorieFromFilters,s=e.categorieen,o=e.leeftijd,l=e.userData,d=e.sortSpeelgoed,j=e.sortParam,p=e.reservaties,f=e.periodes,x=Object(a.useState)(""),m=Object(u.a)(x,2),g=m[0],v=m[1],k=Object(a.useState)(""),y=Object(u.a)(k,2),w=y[0],N=y[1],S=Object(a.useState)("{}"),I=Object(u.a)(S,2),D=I[0],L=I[1],A=Object(a.useState)(""),F=Object(u.a)(A,2),T=F[0],z=F[1],H=Object(a.useState)(""),P=Object(u.a)(H,2),W=P[0],R=P[1];function V(e,t){if(v(e),N(t),""==e||""==t){var a={};return n.forEach((function(e){var t=p.filter((function(t){return t.speelgoedId===e.id})).length;a[e.id]={count:t}})),void L(a)}var r={};n.forEach((function(n){var a=p.filter((function(a){return a.speelgoedId===n.id&&f.filter((function(n){return n.startDatum>=e&&n.startDatum<t})).map((function(e){return e.id})).includes(a.periodeId)})).length;r[n.id]={count:a}})),L(r)}return Object(a.useEffect)((function(){var e={};n.forEach((function(t){var n=p.filter((function(e){return e.speelgoedId===t.id})).length;e[t.id]={count:n}})),L(e)}),[]),t?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("main",{className:"container-fluid",children:[Object(O.jsx)("h1",{children:"Admin Speelgoed"}),Object(O.jsx)(q,{filters:r,updateFilters:c,categorieen:s,leeftijd:o,userData:l,removeCategorieFromFilters:i}),Object(O.jsxs)(E.a,{className:"jt-no-print",children:[Object(O.jsx)(G.a.Group,{className:"px-3 py-2",children:Object(O.jsxs)(B.a,{xs:"auto",children:[Object(O.jsx)(G.a.Label,{htmlFor:"vanDatum",children:"Van: "}),Object(O.jsx)(G.a.Control,{id:"vanDatum",type:"date",value:g,onChange:function(e){return V(e.target.value,w)}})]})}),Object(O.jsx)(G.a.Group,{className:"px-3 py-2",children:Object(O.jsxs)(B.a,{xs:"auto",children:[Object(O.jsx)(G.a.Label,{htmlFor:"totDatum",children:"Tot: "}),Object(O.jsx)(G.a.Control,{id:"totDatum",type:"date",value:w,onChange:function(e){return V(g,e.target.value)}})]})}),Object(O.jsx)(G.a.Group,{className:"px-3 py-2",children:Object(O.jsx)(B.a,{xs:"auto",className:"d-flex flex-row align-items-center",children:Object(O.jsx)(G.a.Check,{type:"switch",id:"switch",value:T,onChange:function(){return z(!T)},label:"Toon speelgoed zonder reservaties"})})})]}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsxs)("th",{className:"jt-table-center jt-table-id-container",children:["#",Object(O.jsxs)("div",{className:"d-flex flex-row",children:[Object(O.jsx)(C.e,{onClick:function(){return d("oudCode","asc")},color:"oudCode"===j.param&&"asc"===j.type?"blue":"black"}),Object(O.jsx)(C.d,{onClick:function(){return d("oudCode","desc")},color:"oudCode"===j.param&&"desc"===j.type?"blue":"black"})]})]}),Object(O.jsxs)("th",{children:["Naam",Object(O.jsxs)("div",{className:"d-flex flex-row",children:[Object(O.jsx)(C.e,{onClick:function(){return d("naam","asc")},color:"naam"===j.param&&"asc"===j.type?"blue":"black"}),Object(O.jsx)(C.d,{onClick:function(){return d("naam","desc")},color:"naam"===j.param&&"desc"===j.type?"blue":"black"})]})]}),Object(O.jsxs)("th",{className:"text-right",children:["Aantal reservaties",Object(O.jsxs)("div",{className:"d-flex flex-row justify-content-end",children:[Object(O.jsx)(C.e,{onClick:function(){return R("asc")},color:"asc"===W?"blue":"black"}),Object(O.jsx)(C.d,{onClick:function(){return R("desc")},color:"desc"===W?"blue":"black"})]})]})]})}),Object(O.jsx)("tbody",{children:n.filter((function(e){return T||0!=(void 0!=D[e.id]?D[e.id].count:0)})).sort((function(e,t){if(""===W)return 0;var n=void 0!=D[e.id]?D[e.id].count:0,a=void 0!=D[t.id]?D[t.id].count:0;return n<a?"asc"===W?-1:1:n>a?"asc"===W?1:-1:0})).map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:e.oudCode}),Object(O.jsx)("td",{children:Object(O.jsxs)(b.b,{to:"/speelgoedfiche?id="+e.id,id:e.id+"-naam",children:[Object(O.jsx)("img",{src:e.foto?e.foto:"/images/placeholder.jpg",className:"jt-table-img"}),Object(O.jsx)("span",{className:"jt-table-naam",children:e.naam})]})}),Object(O.jsx)("td",{className:"text-right",children:void 0!=D[e.id]?D[e.id].count:0})]})}))})]})]})}):Object(O.jsx)(h.a,{to:"/login"})}function ae(e){var t=e.isLoggedIn,n=(e.doelgroepen,e.userData),r=e.leeftijd,c=e.categorieen,i=e.speelgoed,s=e.onAddSpeelgoed,b=e.onUpdateSpeelgoed,p=e.onDeleteSpeelgoed,f=Object(h.g)(),x=Object(a.useState)(""),m=Object(u.a)(x,2),g=m[0],v=m[1],k=Object(a.useState)(-1),y=Object(u.a)(k,2),C=y[0],w=y[1],N=Object(a.useState)({url:"/images/placeholder.jpg",bestand:void 0}),S=Object(u.a)(N,2),I=S[0],D=S[1],L=Object(a.useState)(""),F=Object(u.a)(L,2),T=F[0],H=F[1],P=Object(a.useState)(""),W=Object(u.a)(P,2),R=W[0],V=W[1],U=Object(a.useState)(n.sessDoelgroep),J=Object(u.a)(U,2),q=J[0],M=(J[1],Object(a.useState)([])),K=Object(u.a)(M,2),_=K[0],Z=K[1],Y=Object(a.useState)([]),Q=Object(u.a)(Y,2),X=Q[0],$=Q[1],ee=Object(a.useState)(""),te=Object(u.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)(""),ce=Object(u.a)(re,2),ie=ce[0],se=ce[1],oe=Object(a.useState)(""),le=Object(u.a)(oe,2),de=le[0],je=le[1],ue=Object(a.useState)([{id:1,text:"",aantal:0,kapot:0,tekort:0}]),be=Object(u.a)(ue,2),he=be[0],pe=be[1],Oe=Object(a.useState)([{id:1,text:""}]),fe=Object(u.a)(Oe,2),xe=fe[0],me=fe[1],ge=Object(a.useState)(""),ve=Object(u.a)(ge,2),ke=ve[0],ye=ve[1],Ce=Object(a.useState)([{id:1,naam:"",bestand:void 0}]),we=Object(u.a)(Ce,2),Ne=we[0],Se=we[1],Ie=Object(a.useState)(!0),De=Object(u.a)(Ie,2),Le=De[0],Ae=De[1],Fe=Object(a.useState)(!1),Te=Object(u.a)(Fe,2),Ge=Te[0],Ee=Te[1],Be=Object(a.useState)(""),ze=Object(u.a)(Be,2),He=ze[0],Pe=ze[1],We=Object(h.f)();function Re(e){return e.replace(/\n/g,"\\\\n").replace(/\r/g,"\\\\r").replace(/\t/g,"\\\\t").replace(/"/g,'\\"')}function Ve(){return(Ve=Object(j.a)(o.a.mark((function e(t){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Pe("Upload"),(a=new FormData).append("foto",I.bestand),a.append("titel",Re(T)),a.append("oudCode",Re(R)),a.append("doelgroep",""+q),X.forEach((function(e){a.append("subCategorieen[]",e)})),_.forEach((function(e){a.append("leeftijd[]",e)})),a.append("merk",Re(ne)),a.append("leverancier",Re(ie)),a.append("aankoopDatum",de),he.forEach((function(e){e.text&&!e.removed&&a.append("inhoud[]",JSON.stringify(Object(d.a)(Object(d.a)({},e),{},{text:Re(e.text)})))})),xe.forEach((function(e){e.text&&!e.removed&&a.append("tips[]",JSON.stringify(Object(d.a)(Object(d.a)({},e),{},{text:Re(e.text)})))})),a.append("korteInhoud",Re(ke)),Ne.forEach((function(e){e.naam&&e.bestand&&!e.removed&&(a.append("bijlagesBestand[]",e.bestand),a.append("bijlagesNaam[]",Re(e.naam)))})),a.append("beschikbaar",Le?"1":"0"),a.append("specialeAanvraag",Ge?"1":"0"),e.next=20,fetch("../php/admin/speelgoedInsert.php",{method:"POST",body:a});case 20:return r=e.sent,e.next=23,r.json();case 23:(c=e.sent).ok?(c.doelgroep==n.sessDoelgroep&&s(c.speelgoed),We.push("/admin/speelgoed?action=toegevoegd")):alert("Speelgoed aanmaken mislukt"),Pe("");case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(){return(Ue=Object(j.a)(o.a.mark((function e(t){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Pe("Upload"),(a=new FormData).append("id",""+C),a.append("foto",I.bestand),a.append("titel",Re(T)),a.append("oudCode",Re(R)),a.append("doelgroep",""+q),X.forEach((function(e){a.append("subCategorieen[]",e)})),_.forEach((function(e){a.append("leeftijd[]",e)})),a.append("merk",Re(ne)),a.append("leverancier",Re(ie)),a.append("aankoopDatum",de),he.forEach((function(e){(e.text||e.removed&&e.original)&&a.append("inhoud[]",JSON.stringify(Object(d.a)(Object(d.a)({},e),{},{text:Re(e.text)})))})),xe.forEach((function(e){(e.text||e.removed&&e.original)&&a.append("tips[]",JSON.stringify(Object(d.a)(Object(d.a)({},e),{},{text:Re(e.text)})))})),a.append("korteInhoud",Re(ke)),Ne.forEach((function(e){(e.naam&&e.bestand||e.original)&&(a.append("bijlagesBestand[]",e.bestand),a.append("bijlagesNaam[]",JSON.stringify({id:e.id,naam:Re(e.naam),original:e.original,removed:e.removed})))})),a.append("beschikbaar",Le?"1":"0"),a.append("specialeAanvraag",Ge?"1":"0"),e.next=21,fetch("../php/admin/speelgoedUpdate.php",{method:"POST",body:a});case 21:return r=e.sent,e.next=24,r.json();case 24:(c=e.sent).ok?(c.doelgroep==n.sessDoelgroep?b(c.speelgoed):p(c.speelgoed.id),We.push("/admin/speelgoed?action=bewerkt")):alert("Speelgoed bewerken mislukt"),Pe("");case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e,t,n){var a=[];he.forEach((function(r){if(r.id==n.id&&"lostFocus"!=e){var c={};switch(e){case"text":c=Object(d.a)(Object(d.a)({},n),{},{text:t});break;case"aantal":c=Object(d.a)(Object(d.a)({},n),{},{aantal:t});break;case"kapot":c=Object(d.a)(Object(d.a)({},n),{},{kapot:t});break;case"tekort":c=Object(d.a)(Object(d.a)({},n),{},{tekort:t});break;default:c=n}a.push(c)}else""!==r.text?a.push(r):a.push(Object(d.a)(Object(d.a)({},r),{},{removed:1}))})),""!==a[a.length-1].text&&a.push({id:a[a.length-1].id-1,text:"",aantal:0,kapot:0,tekort:0}),a[a.length-1].removed=0,pe(a)}function qe(e,t,n){var a=[];xe.forEach((function(r){if(r.id==n.id&&"lostFocus"!=e){var c;c=Object(d.a)(Object(d.a)({},n),{},{text:t}),a.push(c)}else""!==r.text?a.push(r):a.push(Object(d.a)(Object(d.a)({},r),{},{removed:1}))})),""!==a[a.length-1].text&&a.push({id:a[a.length-1].id-1,text:""}),a[a.length-1].removed=0,me(a)}function Me(e,t,n){var a=[];Ne.forEach((function(r){if(r.id==n.id&&"lostFocus"!=e){var c={};switch(e){case"bestand":c=Object(d.a)(Object(d.a)({},n),{},{bestand:t.target.files[0]});break;case"naam":c=Object(d.a)(Object(d.a)({},n),{},{naam:t.target.value});break;default:c=n}a.push(c)}else""!==r.naam?a.push(r):a.push(Object(d.a)(Object(d.a)({},r),{},{removed:1}))})),""!==a[a.length-1].naam&&a.push({id:a[a.length-1].id-1,naam:"",bestand:""}),a[a.length-1].removed=0,Se(a)}function Ke(e,t){switch(e){case"subCategorie":if(X.includes(t)){$(X.filter((function(e){return e!=t})));break}$([].concat(Object(l.a)(X),[t]));break;case"leeftijd":if(_.includes(t)){Z(_.filter((function(e){return e!=t})));break}Z([].concat(Object(l.a)(_),[t]))}}return Object(a.useEffect)((function(){var e=f.search,t={};if(e&&((e=e.slice(1,e.length)).split("&").forEach((function(e){t[e.split("=")[0]]=e.split("=")[1]})),v(t.action),"bewerken"==t.action&&i.filter((function(e){return e.id==t.id})).length>0)){var n=i.filter((function(e){return e.id==t.id}))[0];w(n.id),D({url:n.foto?n.foto:"/images/placeholder.jpg",bestand:void 0}),H(n.naam),V(n.oudCode),Z(n.leeftijden),$(n.subCategorieen),ae(n.merk),se(n.leverancier),je(n.aankoopDatum),pe([].concat(Object(l.a)(n.inhoud.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{original:1,removed:0})}))),[{id:0,text:"",aantal:0,kapot:0,tekort:0}])),me([].concat(Object(l.a)(n.tips.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{original:1,removed:0})}))),[{id:0,text:""}])),ye(n.korteInhoud),Se([].concat(Object(l.a)(n.bijlages.map((function(e){return{id:e.id,naam:e.type,path:e.path,bestand:void 0,original:1,removed:0}}))),[{id:0,naam:"",bestand:void 0}])),Ae(n.beschikbaar),Ee(n.specialeAanvraag)}}),[]),t?Object(O.jsxs)("main",{className:"container",children:["toevoegen"==g?Object(O.jsx)("h1",{children:"Admin speelgoed aanmaken"}):Object(O.jsx)("h1",{children:"Admin speelgoed bewerken"}),Object(O.jsxs)(G.a,{className:"row",onSubmit:"toevoegen"==g?function(e){return Ve.apply(this,arguments)}:function(e){return Ue.apply(this,arguments)},children:[Object(O.jsx)("div",{className:"col-12 col-md-4",children:Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)("img",{id:"foto",src:I.url,alt:"",className:"m-auto"}),Object(O.jsx)("input",{id:"foto-",type:"file",className:"form-control-file mt-2",onChange:function(e){return function(e){D({bestand:e.target.files[0],url:URL.createObjectURL(e.target.files[0])})}(e)}})]})}),Object(O.jsxs)("div",{className:"col",children:[Object(O.jsxs)(G.a.Group,{controlId:"title",children:[Object(O.jsx)(G.a.Label,{children:"Titel:"}),Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Titel",value:T,onChange:function(e){return H(e.target.value)},required:!0})]}),Object(O.jsxs)(G.a.Group,{as:E.a,className:"mb-0",children:[Object(O.jsxs)(B.a,{lg:6,children:[Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Oude code:"}),Object(O.jsx)(G.a.Control,{id:"oudeCode",type:"text",placeholder:"Oude code",value:R,onChange:function(e){return V(e.target.value)}})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Leeftijd:"}),Object(O.jsx)(G.a.Control,{id:"leeftijd",as:"select",htmlSize:3,custom:!0,value:_,multiple:!0,children:r.subCategorieen.length>0?r.subCategorieen.map((function(e){return Object(O.jsx)("option",{value:e.id,selected:_.includes(e.id),onClick:function(){return Ke("leeftijd",e.id)},children:e.naam})})):Object(O.jsx)("option",{value:"-1",children:"Geen leeftijden"})})]})]}),Object(O.jsx)(B.a,{lg:6,children:Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Categorie\xebn:"}),Object(O.jsx)(G.a.Control,{id:"categorieen",as:"select",htmlSize:7,custom:!0,value:X,multiple:!0,children:c.length>0?c.map((function(e){return e.subCategorieen.length>0?Object(O.jsx)("optgroup",{label:e.naam,children:e.subCategorieen.map((function(e){return Object(O.jsx)("option",{value:e.id,selected:X.includes(e.id),onClick:function(){return Ke("subCategorie",e.id)},children:e.naam})}))}):Object(O.jsx)(O.Fragment,{})})):Object(O.jsx)("option",{value:"-1",children:"Geen doelgroepen"})})]})})]}),Object(O.jsxs)(G.a.Group,{as:E.a,className:"mb-0",children:[Object(O.jsx)(B.a,{lg:4,children:Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Merk:"}),Object(O.jsx)(G.a.Control,{id:"merk",type:"text",placeholder:"Merk",value:ne,onChange:function(e){return ae(e.target.value)}})]})}),Object(O.jsx)(B.a,{lg:4,children:Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Leverancier:"}),Object(O.jsx)(G.a.Control,{id:"leverancier",type:"text",placeholder:"Leverancier",value:ie,onChange:function(e){return se(e.target.value)}})]})}),Object(O.jsx)(B.a,{lg:4,children:Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Aankoopdatum:"}),Object(O.jsx)(G.a.Control,{id:"aankoopDatum",type:"date",value:de,onChange:function(e){return je(e.target.value)}})]})})]}),Object(O.jsxs)(G.a.Group,{as:E.a,className:"mb-0",children:[Object(O.jsx)(B.a,{xs:6,children:Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Inhoud:"}),he.filter((function(e){return!e.removed})).map((function(e){return Object(O.jsx)(G.a.Control,{id:"inhoudItem-"+e.id,type:"text",placeholder:"Inhoud",value:e.text,onChange:function(t){return Je("text",t.target.value,e)},onBlur:function(t){return Je("lostFocus",t.target.value,e)},className:"mb-1"})}))]})}),Object(O.jsx)(B.a,{xs:2,children:Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Aantal:"}),he.filter((function(e){return!e.removed})).map((function(e){return Object(O.jsx)(G.a.Control,{id:"inhoudAantal-"+e.id,type:"number",value:e.aantal,onChange:function(t){return Je("aantal",t.target.value,e)},className:"mb-1"})}))]})}),Object(O.jsx)(B.a,{xs:2,children:Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Kapot:"}),he.filter((function(e){return!e.removed})).map((function(e){return Object(O.jsx)(G.a.Control,{id:"inhoudKapot-"+e.id,type:"number",value:e.kapot,onChange:function(t){return Je("kapot",t.target.value,e)},className:"mb-1"})}))]})}),Object(O.jsx)(B.a,{xs:2,children:Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Tekort:"}),he.filter((function(e){return!e.removed})).map((function(e){return Object(O.jsx)(G.a.Control,{id:"inhoudTekort-"+e.id,type:"number",value:e.tekort,onChange:function(t){return Je("tekort",t.target.value,e)},className:"mb-1"})}))]})})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Tips:"}),xe.filter((function(e){return!e.removed})).map((function(e){return Object(O.jsx)(G.a.Control,{id:"tipItem-"+e.id,as:"textarea",placeholder:"Geef een tip...",value:e.text,onChange:function(t){return qe("text",t.target.value,e)},onBlur:function(t){return qe("lostFocus",t.target.value,e)},rows:1,className:"mb-1"})}))]}),Object(O.jsxs)(G.a.Group,{controlId:"korteInhoud",children:[Object(O.jsx)(G.a.Label,{children:"Korte beschrijving:"}),Object(O.jsx)(G.a.Control,{as:"textarea",placeholder:"Korte beschrijving",value:ke,onChange:function(e){return ye(e.target.value)}})]}),Object(O.jsxs)(G.a.Group,{as:E.a,children:[Object(O.jsx)(B.a,{xs:12,children:Object(O.jsx)(G.a.Label,{children:"Bijlages:"})}),Ne.filter((function(e){return!e.removed})).map((function(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(B.a,{xs:6,children:Object(O.jsx)(G.a.Control,{id:"bijlage-"+e.id,type:"text",placeholder:"Naam bijlage",value:e.naam,onChange:function(t){return Me("naam",t,e)},onBlur:function(t){return Me("lostFocus",t.target.value,e)},className:"mb-1",required:e.bestand})}),Object(O.jsx)(B.a,{xs:6,className:"d-flex align-items-center",children:e.path?Object(O.jsx)("a",{href:e.path,target:"_blank",children:e.naam}):Object(O.jsx)("input",{id:"file-"+e.id,type:"file",onChange:function(t){return Me("bestand",t,e)},className:"form-control-file mb-1"})})]})}))]}),Object(O.jsx)(G.a.Group,{children:Object(O.jsx)(G.a.Check,{id:"beschikbaar",type:"checkbox",label:"Beschikbaar",onChange:function(e){return Ae(!Le)},checked:Le})}),Object(O.jsx)(G.a.Group,{children:Object(O.jsx)(G.a.Check,{id:"specialeAanvraag",type:"checkbox",label:"Speciale Aanvraag",onChange:function(e){return Ee(!Ge)},checked:Ge})}),"Upload"===He?Object(O.jsxs)(z.a,{variant:"primary",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):"toevoegen"===g?Object(O.jsx)(z.a,{variant:"primary",type:"submit",children:"Speelgoed aanmaken"}):Object(O.jsx)(z.a,{variant:"primary",type:"submit",children:"Speelgoed bewerken"})]})]})]}):Object(O.jsx)(h.a,{to:"/login"})}function re(e){var t=e.categorie,n=e.onAddSubCategorie,r=e.onEditCategorie,c=e.onEditSubCategorie,i=e.onShowDeleteModal,s=e.removeChecked,d=e.resetRemoveChecked,b=Object(a.useState)(),h=Object(u.a)(b,2),p=h[0],f=h[1],x=Object(a.useState)(!1),m=Object(u.a)(x,2),g=m[0],v=m[1],k=Object(a.useState)(!1),y=Object(u.a)(k,2),w=y[0],N=y[1],S=Object(a.useState)(),I=Object(u.a)(S,2),D=I[0],L=I[1],F=Object(a.useState)([]),T=Object(u.a)(F,2),E=T[0],H=T[1],P=Object(a.useState)(!1),W=Object(u.a)(P,2),R=W[0],V=W[1],U=Object(a.useState)(t.naam),J=Object(u.a)(U,2),q=J[0],M=J[1],K=Object(a.useState)(),_=Object(u.a)(K,2),Z=_[0],Y=_[1],Q=Object(a.useState)(""),X=Object(u.a)(Q,2),$=X[0],te=X[1],ne=Object(a.useState)(-1),ae=Object(u.a)(ne,2),re=ae[0],ce=ae[1];function ie(e){return e.replace(/\n/g,"\\\\n").replace(/\r/g,"\\\\r").replace(/\t/g,"\\\\t").replace(/"/g,'\\"')}function se(){return(se=Object(j.a)(o.a.mark((function e(a){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),te("Maak aan"),e.next=4,fetch("/php/admin/addSubCategorie.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({categorieId:t.id,subCategorieNaam:ie(D)})});case 4:return r=e.sent,e.next=7,r.json();case 7:(c=e.sent).ok?(n(c.subCategorie,t),L("")):alert("Het aanmaken van een nieuwe subcategorie is mislukt"),te("");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return(oe=Object(j.a)(o.a.mark((function e(n){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),te("Bewerk"),e.next=4,fetch("/php/admin/editCategorie.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({categorieId:t.id,editedCategorieNaam:ie(q)})});case 4:return a=e.sent,e.next=7,a.json();case 7:(c=e.sent).ok?(r(c.newCategorieNaam,t),v(!1)):alert("Het bewerken van de categorie is mislukt"),te("");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return de.apply(this,arguments)}function de(){return(de=Object(j.a)(o.a.mark((function e(n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),te("Bewerk"),ce(p),e.next=5,fetch("/php/admin/editSubCategorie.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subCategorieId:p,editedSubCategorieNaam:ie(Z)})});case 5:return a=e.sent,e.next=8,a.json();case 8:(r=e.sent).ok?(c(r.newSubCategorieNaam,t,p),f(0)):alert("Het bewerken van de subcategorie is mislukt"),ce(-1),te("");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e){var n=[],a=!1;-1===e?"Leeftijd"===t.naam?n=E:0===E.length?(a=!0,n=t.subCategorieen.map((function(e){return e.id}))):(a=R,n=E):n.push(e),i(n,a,t)}return Object(a.useEffect)((function(){s===t.id&&(H([]),d())}),[s]),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"jt-table-vertical-center",children:g?Object(O.jsx)("div",{children:Object(O.jsx)(G.a,{onSubmit:function(e){return oe.apply(this,arguments)},children:Object(O.jsxs)(G.a.Group,{className:"d-flex flex-row my-2",children:[Object(O.jsx)(B.a,{xs:10,children:Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Categorie naam",value:q,onChange:function(e){return M(e.target.value)},required:!0})}),Object(O.jsx)(B.a,{xs:2,children:"Bewerk"===$&&-1===re?Object(O.jsxs)(z.a,{variant:"primary",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"primary",type:"submit",className:"form-control",children:"Bewerk"})})]})})}):Object(O.jsxs)("div",{className:"d-flex flex-row",children:[Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(e){R?(H([]),V(!1)):(H(t.subCategorieen.map((function(e){return e.id}))),V(!0))},checked:R})}),Object(O.jsx)("div",{className:"d-flex align-items-center",children:t.naam}),Object(O.jsx)(z.a,{variant:"outline-info",size:"sm",onClick:function(){N(!w)},className:"ml-3",children:w?"Verberg":"Toon"})]})}),Object(O.jsxs)("th",{className:"jt-table-actions",children:["Leeftijd"!=t.naam?Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(z.a,{variant:"info",className:"rounded-circle",onClick:function(){v(!g),f(0)},children:g?Object(O.jsx)(C.m,{}):Object(O.jsx)(C.h,{})})}):Object(O.jsx)(O.Fragment,{}),"Delete"===$&&-1===re?Object(O.jsx)(z.a,{variant:"danger",className:"rounded-circle",disabled:!0,children:Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})}):Object(O.jsx)(z.a,{variant:"danger",className:"rounded-circle",onClick:function(){return je(-1)},children:Object(O.jsx)(C.n,{})})]})]})}),Object(O.jsxs)("tbody",{className:w?"":"d-none",children:[Object(O.jsx)("tr",{children:Object(O.jsx)("td",{colSpan:2,className:"jt-table-vertical-center",children:Object(O.jsx)("div",{children:Object(O.jsx)(G.a,{onSubmit:function(e){return se.apply(this,arguments)},children:Object(O.jsxs)(G.a.Group,{className:"d-flex flex-row my-2",children:[Object(O.jsx)(G.a.Label,{column:!0,lg:3,children:"Nieuwe subcategorie: "}),Object(O.jsx)(B.a,{xs:10,lg:7,children:Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Subcategorie naam",value:D,onChange:function(e){return L(e.target.value)},required:!0})}),Object(O.jsx)(B.a,{xs:2,children:"Maak aan"===$&&-1===re?Object(O.jsxs)(z.a,{variant:"primary",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"primary",type:"submit",className:"form-control",children:"Maak aan"})})]})})})})}),t.subCategorieen.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-vertical-center",children:e.id==p?Object(O.jsx)("div",{children:Object(O.jsx)(G.a,{onSubmit:le,children:Object(O.jsxs)(G.a.Group,{className:"d-flex flex-row my-2",children:[Object(O.jsx)(B.a,{xs:10,children:Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Subcategorie naam",value:Z,onChange:function(e){return Y(e.target.value)},required:!0})}),Object(O.jsx)(B.a,{xs:2,children:"Bewerk"===$&&re===e.id?Object(O.jsxs)(z.a,{variant:"primary",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"primary",type:"submit",className:"form-control",children:"Bewerk"})})]})})}):Object(O.jsxs)("div",{className:"d-flex flex-row",children:[Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(t){return n=e.id,V(!1),void(E.includes(n)?H(E.filter((function(e){return e!=n}))):H([].concat(Object(l.a)(E),[n])));var n},checked:E.includes(e.id)})}),Object(O.jsx)("div",{children:e.naam})]})}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(z.a,{variant:"info",className:"rounded-circle",onClick:function(){return function(e){if(p==e)return f(0);f(e),Y(t.subCategorieen.filter((function(t){return t.id==e}))[0].naam),v(!1)}(e.id)},children:e.id==p?Object(O.jsx)(C.m,{}):Object(O.jsx)(C.h,{})}),"Delete"===$&&re===e.id?Object(O.jsx)(z.a,{variant:"danger",className:"rounded-circle",disabled:!0,children:Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})}):Object(O.jsx)(z.a,{variant:"danger",className:"rounded-circle",onClick:function(){return je(e.id)},children:Object(O.jsx)(C.n,{})})]})]})}))]})]})}function ce(e){var t=e.isLoggedIn,n=e.categorieen,r=e.leeftijd,c=e.onAddCategorie,i=e.onAddSubCategorie,s=e.onRemoveSubCategorie,l=e.onEditCategorie,d=e.onEditSubCategorie,b=Object(a.useState)(),f=Object(u.a)(b,2),x=f[0],m=f[1],g=Object(a.useState)(""),v=Object(u.a)(g,2),k=v[0],y=v[1],C=Object(a.useState)(!1),w=Object(u.a)(C,2),N=w[0],S=w[1],I=Object(a.useState)([]),D=Object(u.a)(I,2),L=D[0],F=D[1],T=Object(a.useState)(!1),H=Object(u.a)(T,2),P=H[0],W=H[1],R=Object(a.useState)({id:-1}),V=Object(u.a)(R,2),U=V[0],J=V[1],q=Object(a.useState)(-1),M=Object(u.a)(q,2),_=M[0],Z=M[1];function Y(e){return e.replace(/\n/g,"\\\\n").replace(/\r/g,"\\\\r").replace(/\t/g,"\\\\t").replace(/"/g,'\\"')}function Q(){S(!1),F([]),W(!1),J({id:-1}),y("")}function X(){return(X=Object(j.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),y("Categorie"),e.next=4,fetch("/php/admin/addCategorie.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({categorieNaam:Y(x)})});case 4:return n=e.sent,e.next=7,n.json();case 7:(a=e.sent).ok?c(a.categorie):alert("Het aanmaken van een nieuwe categorie is mislukt"),m(""),y("");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t,n){F(e),W(t),J(n),S(!0)}function ee(){return(ee=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P||0!==L.length){e.next=4;break}return Q(),Z(U.id),e.abrupt("return");case 4:return y("Delete"),e.next=7,fetch("/php/admin/removeSubCategories.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subCategorieIds:L,removeCategorie:P,categorieId:U.id})});case 7:return t=e.sent,e.next=10,t.json();case 10:(n=e.sent).ok?s(n.removedSubCategorieIds,U,n.categorieRemoved):alert("Het verwijderen van de subcategorie is mislukt"),Q(),Z(U.id);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("main",{className:"container",children:[Object(O.jsx)("h1",{children:"Admin Categorie\xebn"}),Object(O.jsx)(G.a,{onSubmit:function(e){return X.apply(this,arguments)},children:Object(O.jsxs)(G.a.Group,{as:E.a,controlId:"formBasicUser",children:[Object(O.jsx)(G.a.Label,{column:!0,lg:3,children:"Nieuwe categorie: "}),Object(O.jsx)(B.a,{xs:10,lg:7,children:Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Categorie naam",value:x,onChange:function(e){return m(e.target.value)},required:!0})}),Object(O.jsx)(B.a,{xs:2,children:"Categorie"===k?Object(O.jsxs)(z.a,{variant:"primary",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"primary",type:"submit",className:"form-control",children:"Maak aan"})})]})}),-1!=r.id?Object(O.jsx)(re,{categorie:r,onAddSubCategorie:i,onRemoveSubCategorie:s,onEditCategorie:l,onEditSubCategorie:d,onShowDeleteModal:$,removeChecked:_,resetRemoveChecked:function(){return Z(-1)}}):Object(O.jsxs)(p.a,{variant:"danger",children:[Object(O.jsx)(p.a.Heading,{children:"Categorie leeftijd ontbreekt!!!"}),Object(O.jsx)("p",{className:"mb-0",children:"Gelieve een categorie aan te maken met de naam 'Leeftijd'."})]}),n.map((function(e){return Object(O.jsx)(re,{categorie:e,onAddSubCategorie:i,onRemoveSubCategorie:s,onEditCategorie:l,onEditSubCategorie:d,onShowDeleteModal:$,removeChecked:_,resetRemoveChecked:function(){return Z(-1)}})}))]}),Object(O.jsxs)(K.a,{show:N,onHide:function(){return Q()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Verwijder reservatie"})}),Object(O.jsx)(K.a.Body,{children:P?"Weet u zeker dat u de volledige categorie wilt verwijderen?":"Weet u zeker dat u "+L.length+" subcategorie"+(L.length>1?"\xebn":"")+" wilt verwijderen?"}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(z.a,{variant:"secondary",onClick:function(){return Q()},children:"Sluiten"}),"Delete"===k?Object(O.jsxs)(z.a,{variant:"danger",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"danger",onClick:function(){return function(){return ee.apply(this,arguments)}()},children:"Verwijder"})]})]})]}):Object(O.jsx)(h.a,{to:"/login"})}var ie=n(79),se=n(125),oe=n(67),le=n.n(oe);function de(e){var t=e.waardering;return Object(O.jsx)(le.a,{count:5,size:24,value:t,edit:!1,activeColor:"#ffd700"})}function je(e){var t=e.review,n=e.gebruiker;return Object(O.jsxs)(U.a,{className:"mb-2",children:[Object(O.jsxs)(U.a.Header,{children:[Object(O.jsxs)("div",{className:"d-flex flex-row align-items-center mb-2",children:[Object(O.jsx)(U.a.Title,{className:"mb-0 mr-2",children:n.naam}),Object(O.jsx)(de,{waardering:t.waardering})]}),Object(O.jsx)(U.a.Subtitle,{children:t.datum})]}),Object(O.jsx)(U.a.Body,{children:t.inhoud})]})}function ue(e){var t=e.isLoggedIn,n=e.speelgoed,r=e.leeftijd,c=e.categorieen,i=e.userData,s=e.reviews,l=e.gebruikers,p=e.periodes,f=e.onAddReview,m=e.reservaties,g=e.onWinkelWagenAdd,v=e.winkelWagen,k=e.formatDate,y=Object(h.g)(),w=Object(a.useState)(!0),N=Object(u.a)(w,2),S=N[0],I=N[1],D=Object(a.useState)({}),L=Object(u.a)(D,2),T=L[0],H=L[1],P=Object(a.useState)(-1),W=Object(u.a)(P,2),R=W[0],V=W[1],J=Object(a.useState)({waardering:0}),q=Object(u.a)(J,2),M=q[0],K=q[1],_=Object(a.useState)(!1),Z=Object(u.a)(_,2),Y=Z[0],Q=Z[1],$=Object(a.useState)({}),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)({startDatum:"1995-07-13",eindDatum:"1995-07-13"}),re=Object(u.a)(ae,2),ce=re[0],oe=re[1],de=Object(a.useState)(""),ue=Object(u.a)(de,2),be=ue[0],he=ue[1];function pe(e){K(Object(d.a)(Object(d.a)({},M),{},{waardering:e}))}function Oe(e){return e.replace(/\n/g,"\\\\n").replace(/\r/g,"\\\\r").replace(/\t/g,"\\\\t").replace(/"/g,'\\"')}function fe(){return(fe=Object(j.a)(o.a.mark((function e(t){var n,a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),he("Review"),n=new Date,a=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate(),e.next=6,fetch("/php/reviewAdd.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(d.a)(Object(d.a)({},M),{},{inhoud:Oe(M.inhoud),gebruikerId:i.id,speelgoedId:T.id,datum:a}))});case 6:return r=e.sent,e.next=9,r.json();case 9:(c=e.sent).ok?(f(c.review),K({waardering:0,inhoud:""}),pe(0)):alert("Het aanmaken van een review is mislukt"),he("");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){var e=y.search,t={};e&&((e=e.slice(1,e.length)).split("&").forEach((function(e){t[e.split("=")[0]]=e.split("=")[1]})),H(n.find((function(e){return e.id==t.id}))),I(!1))}),[]),t?S?Object(O.jsx)(F,{}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("main",{className:"container position-relative",children:["Admin"==i.role?Object(O.jsx)(x.a,{className:"jt-edit-btn jt-no-print",children:Object(O.jsx)(ie.a,{as:b.b,to:"/admin/speelgoedfiche?action=bewerken&id="+T.id,children:Object(O.jsx)(C.h,{})})}):Object(O.jsx)(O.Fragment,{}),Object(O.jsxs)("h1",{children:[Object(O.jsx)("span",{className:"mr-2",children:T.naam}),Object(O.jsx)("span",{className:"jt-subtitle",children:(T.oudCode?T.oudCode:"")+(T.merk?(T.oudCode?", ":"")+T.merk:"")+(T.leverancier?(T.oudCode||T.merk?", ":"")+T.leverancier:"")+(T.aankoopDatum?(T.oudCode||T.merk||T.leverancier?", ":"")+k(T.aankoopDatum):"")})]}),Object(O.jsxs)(E.a,{children:[Object(O.jsx)(B.a,{xs:12,md:4,children:Object(O.jsx)("img",{id:"foto",src:T.foto?T.foto:"/images/placeholder.jpg",alt:"",className:"m-auto"})}),Object(O.jsxs)(B.a,{className:"col",children:[Object(O.jsxs)(E.a,{children:[Object(O.jsxs)(B.a,{xl:6,children:[Object(O.jsx)("h3",{children:"Leeftijd"}),T.leeftijden.length>0?Object(O.jsx)(se.a,{className:"mb-3",children:T.leeftijden.map((function(e){return Object(O.jsx)(se.a.Item,{children:r.subCategorieen.find((function(t){return t.id==e})).naam})}))}):Object(O.jsx)("p",{children:"Geen leeftijden beschikbaar"})]}),Object(O.jsxs)(B.a,{xl:6,children:[Object(O.jsx)("h3",{children:"Categorieen"}),T.subCategorieen.length>0?Object(O.jsx)(se.a,{className:"mb-3",children:T.subCategorieen.map((function(e){return Object(O.jsx)(se.a.Item,{children:c.find((function(t){return t.subCategorieen.map((function(e){return e.id})).includes(e)})).subCategorieen.find((function(t){return t.id==e})).naam})}))}):Object(O.jsx)("p",{children:"Geen categorieen beschikbaar"})]})]}),Object(O.jsxs)(E.a,{children:[Object(O.jsxs)(B.a,{xl:6,children:[Object(O.jsx)("h3",{children:"Inhoud"}),T.inhoud.length>0?Object(O.jsx)(se.a,{className:"mb-3",children:T.inhoud.map((function(e){return Object(O.jsx)(se.a.Item,{children:e.aantal+" "+e.text+" ("+e.tekort+" tekort, "+e.kapot+" kapot)"})}))}):Object(O.jsx)("p",{children:"Geen inhoud beschikbaar"})]}),Object(O.jsxs)(B.a,{xl:6,children:[Object(O.jsx)("h3",{children:"Tips"}),T.tips.length>0?Object(O.jsx)(se.a,{className:"mb-3",children:T.tips.map((function(e){return Object(O.jsx)(se.a.Item,{children:e.text})}))}):Object(O.jsx)("p",{children:"Geen tips beschikbaar"})]})]}),Object(O.jsx)(E.a,{children:Object(O.jsxs)(B.a,{xs:12,children:[Object(O.jsx)("h3",{children:"Korte inhoud"}),Object(O.jsx)("p",{children:T.korteInhoud})]})}),Object(O.jsx)(E.a,{children:Object(O.jsxs)(B.a,{xs:12,children:[Object(O.jsx)("h3",{children:"Bijlages"}),T.bijlages.length>0?Object(O.jsx)("ul",{className:"list-unstyled",children:T.bijlages.map((function(e){return Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:e.path,target:"_blank",children:e.type})})}))}):Object(O.jsx)("p",{children:"Geen bijlages beschikbaar"})]})}),Object(O.jsx)(G.a,{onSubmit:function(e){return e.preventDefault(),-1===R?alert("Selecteer een periode"):v.map((function(e){return e.speelgoedId})).includes(T.id)&&v.filter((function(e){return e.speelgoedId===T.speelgoedId})).map((function(e){return e.periodeId})).includes(R)?alert("Deze reservatie zit reeds in uw winkelwagen"):(he("Reserveren"),g(T.id,R),t=T.id,a=R,ne(n.find((function(e){return e.id===t}))),oe(p.find((function(e){return e.id===a}))),Q(!0),void he(""));var t,a},className:"jt-no-print",children:Object(O.jsxs)(G.a.Row,{className:"align-items-center",children:[T.beschikbaar&&!T.specialeAanvraag?Object(O.jsxs)(B.a,{xs:"auto",className:"my-1",children:[Object(O.jsx)(G.a.Label,{htmlFor:"periode",srOnly:!0,children:"Periode"}),Object(O.jsxs)(G.a.Control,{id:"periode",as:"select",value:R,onChange:function(e){return V(parseInt(e.target.value))},children:[Object(O.jsx)("option",{value:"-1",children:"Kies..."}),p.filter((function(e){return!(e.isArchief||m.filter((function(e){return!e.isArchief&&e.speelgoedId===T.id})).map((function(e){return e.periodeId})).includes(e.id)||v.filter((function(e){return e.speelgoedId===T.id})).map((function(e){return e.periodeId})).includes(e.id))})).length>0?p.filter((function(e){return!(e.isArchief||m.filter((function(e){return!e.isArchief&&e.speelgoedId===T.id})).map((function(e){return e.periodeId})).includes(e.id)||v.filter((function(e){return e.speelgoedId===T.id})).map((function(e){return e.periodeId})).includes(e.id))})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:"Van "+k(e.startDatum)+" tot "+k(e.eindDatum)})})):Object(O.jsx)("option",{value:"-1",children:"Geen periodes beschikbaar"})]})]}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(B.a,{xs:"auto",className:"my-1",children:"Reserveren"===be?Object(O.jsxs)(z.a,{variant:"success",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{type:"submit",variant:!T.beschikbaar||T.specialeAanvraag||T.isArchief||0===p.filter((function(e){return!(e.isArchief||m.filter((function(e){return!e.isArchief&&e.speelgoedId===T.id})).map((function(e){return e.periodeId})).includes(e.id)||v.filter((function(e){return e.speelgoedId===T.id})).map((function(e){return e.periodeId})).includes(e.id))})).length?"danger":"success",disabled:!T.beschikbaar||T.specialeAanvraag||T.isArchief||0===p.filter((function(e){return!(e.isArchief||m.filter((function(e){return!e.isArchief&&e.speelgoedId===T.id})).map((function(e){return e.periodeId})).includes(e.id)||v.filter((function(e){return e.speelgoedId===T.id})).map((function(e){return e.periodeId})).includes(e.id))})).length,children:T.specialeAanvraag?"Speciale aanvraag":"Reserveren"})})]})})]})]}),Object(O.jsxs)("section",{id:"reviews",className:"jt-no-print",children:[Object(O.jsx)("h2",{children:"Reviews"}),Object(O.jsx)(U.a,{className:"mb-4",children:Object(O.jsxs)(G.a,{onSubmit:function(e){return fe.apply(this,arguments)},children:[Object(O.jsxs)(U.a.Header,{children:[Object(O.jsx)(U.a.Title,{className:"mr-4",children:"Voeg een review toe"}),Object(O.jsx)(le.a,{count:5,size:24,value:M.waardering,onChange:pe,activeColor:"#ffd700"})]}),Object(O.jsx)(U.a.Body,{children:Object(O.jsx)(G.a.Control,{as:"textarea",rows:5,placeholder:"Schrijf uw review...",value:M.inhoud,onChange:function(e){return K(Object(d.a)(Object(d.a)({},M),{},{inhoud:e.target.value}))},required:!0})}),Object(O.jsx)(U.a.Footer,{children:"Review"===be?Object(O.jsxs)(z.a,{variant:"success",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"success",type:"submit",children:"Maak aan"})})]})}),s.filter((function(e){return e.speelgoedId===T.id&&(e.gebruikerId===i.id||"Admin"===i.role)})).map((function(e){return Object(O.jsx)(je,{review:e,gebruiker:l.find((function(t){return t.id===e.gebruikerId}))})}))]})]}),Object(O.jsx)(X,{show:Y,onHide:function(){Q(!1)},item:te,periode:ce,formatDate:k})]}):Object(O.jsx)(h.a,{to:"/login"})}function be(e){var t=e.isLoggedIn,n=e.doelgroepen,r=e.onAddDoelgroep,c=e.onEditDoelgroep,i=e.onArchiveDoelgroep,s=Object(a.useState)(0),l=Object(u.a)(s,2),d=l[0],b=l[1],p=Object(a.useState)(!1),f=Object(u.a)(p,2),x=f[0],m=f[1],g=Object(a.useState)(""),v=Object(u.a)(g,2),k=v[0],y=v[1],w=Object(a.useState)(""),N=Object(u.a)(w,2),S=N[0],I=N[1],D=Object(a.useState)(-1),L=Object(u.a)(D,2),F=L[0],T=L[1],H=Object(a.useState)(""),P=Object(u.a)(H,2),W=P[0],R=P[1],V=Object(a.useState)(-1),U=Object(u.a)(V,2),J=U[0],q=U[1];function M(e){return e.replace(/\n/g,"\\\\n").replace(/\r/g,"\\\\r").replace(/\t/g,"\\\\t").replace(/"/g,'\\"')}function K(){return(K=Object(j.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),R("Maak aan"),e.next=4,fetch("/php/admin/doelgroepAdd.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({doelgroepNaam:M(k)})});case 4:return n=e.sent,e.next=7,n.json();case 7:(a=e.sent).ok?r(a.doelgroep):alert("Het aanmaken van een doelgroep is mislukt"),R("");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(j.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),R("Bewerk"),e.next=4,fetch("/php/admin/doelgroepEdit.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({editDoelgroep:F,editDoelgroepNaam:M(S)})});case 4:return n=e.sent,e.next=7,n.json();case 7:(a=e.sent).ok?(c(a.doelgroep),T(-1)):alert("Het bewerken van de doelgroep is mislukt"),R("");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(j.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(t),R("Archiveren"),e.next=4,fetch("/php/admin/doelgroepArchive.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,isArchief:!n.find((function(e){return e.id===t})).isArchief})});case 4:return a=e.sent,e.next=7,a.json();case 7:(r=e.sent).ok?i(r.id,r.isArchief):alert("Het arciveren van de doelgroep is mislukt"),R(""),q(-1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t?Object(O.jsxs)("main",{className:"container",children:[Object(O.jsx)("h1",{children:"Admin Doelgroepen"}),Object(O.jsx)(E.a,{children:Object(O.jsxs)(G.a.Group,{className:"mb-2",children:[Object(O.jsx)(B.a,{xs:"auto",className:"d-flex flex-row align-items-center",children:Object(O.jsx)(G.a.Label,{className:"mb-0",children:"Archief:"})}),Object(O.jsx)(B.a,{xs:"auto",children:Object(O.jsxs)(G.a.Control,{as:"select",value:d,onChange:function(e){return b(parseInt(e.target.value))},children:[Object(O.jsx)("option",{value:"-1",children:"Toon alles"}),Object(O.jsx)("option",{value:"0",children:"Verberg archief"}),Object(O.jsx)("option",{value:"1",children:"Toon archief"})]})})]})}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"pl-4",children:"Naam"}),Object(O.jsx)("th",{})]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{}),Object(O.jsx)("td",{className:"jt-table-actions",children:Object(O.jsx)(z.a,{variant:"success",className:"rounded-circle",onClick:function(){return m(!x)},children:x?Object(O.jsx)(C.m,{}):Object(O.jsx)(C.i,{})})})]}),x?Object(O.jsx)("tr",{children:Object(O.jsx)("td",{colSpan:2,className:"jt-table-vertical-center",children:Object(O.jsx)("div",{children:Object(O.jsx)(G.a,{onSubmit:function(e){return K.apply(this,arguments)},children:Object(O.jsxs)(G.a.Group,{className:"d-flex flex-row my-2",children:[Object(O.jsx)(G.a.Label,{column:!0,lg:3,children:"Nieuwe doelgroep: "}),Object(O.jsx)(B.a,{xs:10,lg:7,children:Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Doelgroep naam",value:k,onChange:function(e){return y(e.target.value)},required:!0})}),Object(O.jsx)(B.a,{xs:2,children:"Maak aan"===W?Object(O.jsxs)(z.a,{variant:"primary",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"primary",type:"submit",className:"form-control",children:"Maak aan"})})]})})})})}):Object(O.jsx)(O.Fragment,{}),n.filter((function(e){return-1===d||0===d&&!e.isArchief||1===d&&e.isArchief})).map((function(e){return Object(O.jsxs)("tr",{children:[e.id===F?Object(O.jsx)("td",{children:Object(O.jsx)("div",{children:Object(O.jsx)(G.a,{onSubmit:function(e){return function(e){return Z.apply(this,arguments)}(e)},children:Object(O.jsxs)(G.a.Group,{className:"d-flex flex-row my-2",children:[Object(O.jsx)(B.a,{xs:10,children:Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Doelgroep naam",value:S,onChange:function(e){return I(e.target.value)},required:!0})}),Object(O.jsx)(B.a,{xs:2,children:"Bewerk"===W?Object(O.jsxs)(z.a,{variant:"primary",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"primary",type:"submit",className:"form-control",children:"Bewerk"})})]})})})}):Object(O.jsxs)("td",{className:"pl-4",children:[Object(O.jsx)("span",{className:"mr-2",children:e.naam}),e.isArchief?Object(O.jsxs)(_.a,{pill:!0,variant:"archive",className:"mr-2",children:[Object(O.jsx)("span",{className:"mr-2",children:"Gearchiveerd"}),Object(O.jsx)(C.m,{as:z.a,onClick:function(){return Y(e.id)},className:"jt-clickable"})]}):Object(O.jsx)(O.Fragment,{})]}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(z.a,{variant:"info",className:"rounded-circle",onClick:function(){return t=e.id,void(F===t?T(-1):(T(t),I(n.find((function(e){return e.id===t})).naam)));var t},children:e.id===F?Object(O.jsx)(C.m,{}):Object(O.jsx)(C.h,{})}),"Archiveren"===W&&J===e.id?Object(O.jsx)(z.a,{variant:"archive",className:"rounded-circle",disabled:!0,children:Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})}):Object(O.jsx)(z.a,{variant:"archive",className:"rounded-circle",onClick:function(){return Y(e.id)},children:Object(O.jsx)(C.b,{})})]})]})}))]})]})]}):Object(O.jsx)(h.a,{to:"/login"})}function he(e){var t=e.isLoggedIn,n=e.periodes,r=e.onAddPeriode,c=e.onEditPeriode,i=e.formatDate,s=e.onDeletePeriodes,d=Object(a.useState)(0),b=Object(u.a)(d,2),p=b[0],f=b[1],x=Object(a.useState)(!1),m=Object(u.a)(x,2),g=m[0],v=m[1],k=Object(a.useState)(-1),y=Object(u.a)(k,2),w=y[0],N=y[1],S=Object(a.useState)(""),I=Object(u.a)(S,2),D=I[0],L=I[1],F=Object(a.useState)(""),T=Object(u.a)(F,2),H=T[0],P=T[1],W=Object(a.useState)(!1),R=Object(u.a)(W,2),V=R[0],U=R[1],J=Object(a.useState)([]),q=Object(u.a)(J,2),M=q[0],Z=q[1],Y=Object(a.useState)(""),Q=Object(u.a)(Y,2),X=Q[0],$=Q[1],te=Object(a.useState)(""),ne=Object(u.a)(te,2),ae=ne[0],re=ne[1],ce=Object(a.useState)(!1),ie=Object(u.a)(ce,2),se=ie[0],oe=ie[1],le=Object(a.useState)([]),de=Object(u.a)(le,2),je=de[0],ue=de[1],be=Object(a.useState)(""),he=Object(u.a)(be,2),pe=he[0],Oe=he[1],fe=Object(a.useState)(-1),xe=Object(u.a)(fe,2),me=xe[0],ge=xe[1];function ve(){v(!1)}function ke(){oe(!1),ue([])}function ye(){return(ye=Object(j.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Oe("Maak aan"),e.next=4,fetch("/php/admin/periodeAdd.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nieuwePeriodeStart:X,nieuwePeriodeEind:ae})});case 4:return n=e.sent,e.next=7,n.json();case 7:(a=e.sent).ok?r(a.periode):alert("Het aanmaken van een periode is mislukt"),ve(),Oe("");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(){return(Ce=Object(j.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Oe("Bewerk"),e.next=4,fetch("/php/admin/periodeEdit.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({periodeId:w,editedPeriodeStart:D,editedPeriodeEind:H,isArchief:n.find((function(e){return e.id==w})).isArchief})});case 4:return a=e.sent,e.next=7,a.json();case 7:(r=e.sent).ok?c(r.periode):alert("Het bewerken van een periode is mislukt"),N(-1),Oe("");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(j.a)(o.a.mark((function e(t){var a,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ge(t),Oe("Archiveren"),a=n.find((function(e){return e.id==t})),e.next=5,fetch("/php/admin/periodeArchive.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({periodeId:t,startDatum:a.startDatum,eindDatum:a.eindDatum,isArchief:!a.isArchief})});case 5:return r=e.sent,e.next=8,r.json();case 8:(i=e.sent).ok?c(i.periode):alert("Het bewerken van een periode is mislukt"),Oe(""),ge(-1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(e){oe(!0);var t=[];-1===e?t=M:t.push(e),ue(t)}function Ie(){return(Ie=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oe("Delete"),e.next=3,fetch("/php/admin/periodeDelete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toDelete:je})});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).ok?s(n.ids):alert("Het verwijderen van een periode is mislukt"),ke(),Oe("");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("main",{className:"container",children:[Object(O.jsx)("h1",{children:"Admin Periodes"}),Object(O.jsx)(E.a,{children:Object(O.jsxs)(G.a.Group,{className:"mb-2",children:[Object(O.jsx)(B.a,{xs:"auto",className:"d-flex flex-row align-items-center",children:Object(O.jsx)(G.a.Label,{className:"mb-0",children:"Archief:"})}),Object(O.jsx)(B.a,{xs:"auto",children:Object(O.jsxs)(G.a.Control,{as:"select",value:p,onChange:function(e){return f(parseInt(e.target.value))},children:[Object(O.jsx)("option",{value:"-1",children:"Toon alles"}),Object(O.jsx)("option",{value:"0",children:"Verberg archief"}),Object(O.jsx)("option",{value:"1",children:"Toon archief"})]})})]})}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{}),Object(O.jsx)("th",{children:"Start"}),Object(O.jsx)("th",{children:"Einde"}),Object(O.jsx)("th",{children:"Gearchiveerd"}),Object(O.jsx)("th",{})]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(e){V?(Z([]),U(!1)):(Z(n.filter((function(e){return-1===p||0===p&&!e.isArchief||1===p&&e.isArchief})).map((function(e){return e.id}))),U(!0))},checked:V})})})}),Object(O.jsx)("td",{colSpan:3}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(z.a,{variant:"success",className:"rounded-circle",onClick:function(){return v(!g)},children:g?Object(O.jsx)(C.m,{}):Object(O.jsx)(C.i,{})}),Object(O.jsx)(z.a,{variant:"danger",className:"rounded-circle",onClick:function(){return Se(-1)},children:Object(O.jsx)(C.n,{})})]})]}),n.filter((function(e){return-1===p||0===p&&!e.isArchief||1===p&&e.isArchief})).map((function(e){return Object(O.jsxs)("tr",{children:[e.id==w?Object(O.jsx)("td",{colSpan:4,children:Object(O.jsx)("div",{children:Object(O.jsx)(G.a,{onSubmit:function(e){return function(e){return Ce.apply(this,arguments)}(e)},children:Object(O.jsxs)(G.a.Group,{className:"d-flex flex-row my-2",children:[Object(O.jsx)(B.a,{xs:5,children:Object(O.jsx)(G.a.Control,{type:"date",placeholder:"Start",value:D,onChange:function(e){return L(e.target.value)},required:!0})}),Object(O.jsx)(B.a,{xs:5,children:Object(O.jsx)(G.a.Control,{type:"date",placeholder:"Einde",value:H,onChange:function(e){return P(e.target.value)},required:!0})}),Object(O.jsx)(B.a,{xs:2,children:"Bewerk"===pe?Object(O.jsxs)(z.a,{variant:"primary",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"primary",type:"submit",className:"form-control",children:"Bewerk"})})]})})})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(t){return n=e.id,U(!1),void(M.includes(n)?Z(M.filter((function(e){return e!=n}))):Z([].concat(Object(l.a)(M),[n])));var n},checked:M.includes(e.id)})})})}),Object(O.jsx)("td",{children:i(e.startDatum)}),Object(O.jsx)("td",{children:i(e.eindDatum)}),Object(O.jsx)("td",{children:e.isArchief?Object(O.jsxs)(_.a,{pill:!0,variant:"archive",className:"mr-2",children:[Object(O.jsx)("span",{className:"mr-2",children:"Gearchiveerd"}),Object(O.jsx)(C.m,{as:z.a,onClick:function(){return we(e.id)},className:"jt-clickable"})]}):Object(O.jsx)(O.Fragment,{})})]}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(z.a,{variant:"info",className:"rounded-circle",onClick:function(){return t=e.id,void(w==t?N(-1):(N(t),L(n.find((function(e){return e.id==t})).startDatum),P(n.find((function(e){return e.id==t})).eindDatum)));var t},children:e.id==w?Object(O.jsx)(C.m,{}):Object(O.jsx)(C.h,{})}),"Archiveren"===pe&&me===e.id?Object(O.jsx)(z.a,{variant:"archive",className:"rounded-circle",disabled:!0,children:Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})}):Object(O.jsx)(z.a,{variant:"archive",className:"rounded-circle",onClick:function(){return we(e.id)},children:Object(O.jsx)(C.b,{})}),Object(O.jsx)(z.a,{variant:"danger",className:"rounded-circle",onClick:function(){return Se(e.id)},children:Object(O.jsx)(C.n,{})})]})]})}))]})]})]}),Object(O.jsxs)(K.a,{show:g,onHide:function(){return ve()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Nieuwe periode"})}),Object(O.jsxs)(G.a,{onSubmit:function(e){return ye.apply(this,arguments)},children:[Object(O.jsxs)(K.a.Body,{children:[Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Startdatum: "}),Object(O.jsx)(G.a.Control,{type:"date",placeholder:"Startdatum",value:X,onChange:function(e){return $(e.target.value)},required:!0})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Einddatum: "}),Object(O.jsx)(G.a.Control,{type:"date",placeholder:"Einddatum",value:ae,onChange:function(e){return re(e.target.value)},required:!0})]})]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(z.a,{variant:"secondary",onClick:function(){return ve()},children:"Sluiten"}),"Maak aan"===pe?Object(O.jsxs)(z.a,{variant:"success",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"success",type:"submit",children:"Maak aan"})]})]})]}),Object(O.jsxs)(K.a,{show:se,onHide:function(){return ke()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Verwijder reservatie"})}),Object(O.jsxs)(K.a.Body,{children:["Weet u zeker dat u ",je.length," periode",1===je.length?"s":""," wilt verwijderen?",Object(O.jsx)("br",{}),"De bijbehorende reservaties worden ook verwijderd!"]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(z.a,{variant:"secondary",onClick:function(){return ke()},children:"Sluiten"}),"Delete"===pe?Object(O.jsxs)(z.a,{variant:"danger",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"danger",onClick:function(){return function(){return Ie.apply(this,arguments)}()},children:"Verwijder"})]})]})]}):Object(O.jsx)(h.a,{to:"/login"})}function pe(e){var t=e.isLoggedIn,n=e.gebruikers,r=e.onAddGebruiker,c=e.onEditGebruiker,i=e.onDeleteGebruiker,s=e.userData,b=Object(a.useState)(0),p=Object(u.a)(b,2),f=p[0],x=p[1],m=Object(a.useState)(!1),g=Object(u.a)(m,2),v=g[0],k=g[1],y=Object(a.useState)(!1),w=Object(u.a)(y,2),N=w[0],S=w[1],I=Object(a.useState)([]),D=Object(u.a)(I,2),L=D[0],F=D[1],T=Object(a.useState)({id:-1}),P=Object(u.a)(T,2),W=P[0],R=P[1],V=Object(a.useState)(!1),U=Object(u.a)(V,2),J=U[0],q=U[1],M=Object(a.useState)({naam:"",email:"",wachtwoord:""}),Z=Object(u.a)(M,2),Y=Z[0],Q=Z[1],X=Object(a.useState)(!1),$=Object(u.a)(X,2),te=$[0],ne=$[1],ae=Object(a.useState)([]),re=Object(u.a)(ae,2),ce=re[0],ie=re[1],se=Object(a.useState)(""),oe=Object(u.a)(se,2),le=oe[0],de=oe[1],je=Object(a.useState)(-1),ue=Object(u.a)(je,2),be=ue[0],he=ue[1];function pe(e){return e.replace(/\n/g,"\\\\n").replace(/\r/g,"\\\\r").replace(/\t/g,"\\\\t").replace(/"/g,'\\"')}function Oe(){k(!1),Q({naam:"",email:"",wachtwoord:""})}function fe(){R({id:-1}),q(!1)}function xe(){ne(!1),de(""),he(-1)}function me(){return(me=Object(j.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),de("Maak aan"),n={naam:pe(Y.naam),email:pe(Y.email),wachtwoord:Object(H.sha256)(Y.wachtwoord)},e.next=5,fetch("/php/admin/gebruikerAdd.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 5:return a=e.sent,e.next=8,a.json();case 8:(c=e.sent).ok?r(c.gebruiker):alert("Het aanmaken van een gebruiker is mislukt"),Oe(),de("");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(){return(ge=Object(j.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),de("Bewerk"),n=Object(d.a)(Object(d.a)({},W),{},{naam:pe(W.naam),email:pe(W.email),wachtwoord:J?Object(H.sha256)(W.wachtwoord):0}),e.next=5,fetch("/php/admin/gebruikerEdit.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 5:return a=e.sent,e.next=8,a.json();case 8:(r=e.sent).ok?c(r.gebruiker):alert("Het bewerken van een gebruiker is mislukt"),fe(),de("");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(){return(ve=Object(j.a)(o.a.mark((function e(t,a){var r,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/admin/gebruikerEditRole.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gebruikerId:t,role:a})});case 2:return r=e.sent,e.next=5,r.json();case 5:(i=e.sent).ok?(s=Object(d.a)(Object(d.a)({},n.find((function(e){return e.id===i.id}))),{},{role:i.role}),c(s)):alert("Het veranderen van de rol van de gebruiker is mislukt");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(j.a)(o.a.mark((function e(t){var a,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return he(t),de("Archiveren"),e.next=4,fetch("/php/admin/gebruikerArchive.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gebruikerId:t,isArchief:!n.find((function(e){return e.id===t})).isArchief})});case 4:return a=e.sent,e.next=7,a.json();case 7:(r=e.sent).ok?(i=Object(d.a)(Object(d.a)({},n.find((function(e){return e.id===r.id}))),{},{isArchief:r.isArchief}),c(i)):alert("Het archiveren van een gebruiker is mislukt"),de(""),he(-1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e){he(e),ne(!0);var t=[];-1===e?t=L:t.push(e),ie(t)}function we(){return(we=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return de("Delete"),e.next=3,fetch("/php/admin/gebruikerDelete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toDelete:ce})});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).ok?i(n.ids):alert("Het verwijderen is mislukt"),xe();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("main",{className:"container",children:[Object(O.jsx)("h1",{children:"Admin Gebruikers"}),Object(O.jsx)(E.a,{children:Object(O.jsxs)(G.a.Group,{className:"mb-2",children:[Object(O.jsx)(B.a,{xs:"auto",className:"d-flex flex-row align-items-center",children:Object(O.jsx)(G.a.Label,{className:"mb-0",children:"Archief:"})}),Object(O.jsx)(B.a,{xs:"auto",children:Object(O.jsxs)(G.a.Control,{as:"select",value:f,onChange:function(e){return x(parseInt(e.target.value))},children:[Object(O.jsx)("option",{value:"-1",children:"Toon alles"}),Object(O.jsx)("option",{value:"0",children:"Verberg archief"}),Object(O.jsx)("option",{value:"1",children:"Toon archief"})]})})]})}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{}),Object(O.jsx)("th",{children:"Naam"}),Object(O.jsx)("th",{children:"Email"}),Object(O.jsx)("th",{children:"Rol"}),Object(O.jsx)("th",{})]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){N?(F([]),S(!1)):(F(n.filter((function(e){return-1===f||0===f&&!e.isArchief||1===f&&e.isArchief})).filter((function(e){return e.doelgroepId===s.sessDoelgroep})).map((function(e){return e.id}))),S(!0))},checked:N})})})}),Object(O.jsx)("td",{colSpan:3}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(z.a,{variant:"success",className:"rounded-circle",onClick:function(){return k(!v)},children:v?Object(O.jsx)(C.m,{}):Object(O.jsx)(C.i,{})}),Object(O.jsx)(z.a,{variant:"danger",className:"rounded-circle",onClick:function(){return Ce(-1)},children:Object(O.jsx)(C.n,{})})]})]}),n.filter((function(e){return-1===f||0===f&&!e.isArchief||1===f&&e.isArchief})).filter((function(e){return e.doelgroepId===s.sessDoelgroep})).map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){return t=e.id,S(!1),void(L.includes(t)?F(L.filter((function(e){return e!==t}))):F([].concat(Object(l.a)(L),[t])));var t},checked:L.includes(e.id)})})})}),Object(O.jsxs)("td",{children:[Object(O.jsx)("span",{className:"mr-2",children:e.naam}),e.isArchief?Object(O.jsxs)(_.a,{pill:!0,variant:"archive",className:"mr-2",children:[Object(O.jsx)("span",{className:"mr-2",children:"Gearchiveerd"}),Object(O.jsx)(C.m,{as:z.a,onClick:function(){return ke(e.id)},className:"jt-clickable"})]}):Object(O.jsx)(O.Fragment,{})]}),Object(O.jsx)("td",{children:e.email}),Object(O.jsx)("td",{children:Object(O.jsxs)(G.a.Control,{as:"select",value:e.role,onChange:function(t){return function(e,t){return ve.apply(this,arguments)}(e.id,t.target.value)},children:[Object(O.jsx)("option",{value:"Admin",children:"Admin"}),Object(O.jsx)("option",{value:"Gebruiker",children:"Gebruiker"}),Object(O.jsx)("option",{value:"Niet bevestigd",children:"Niet bevestigd"})]})}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(z.a,{variant:"info",className:"rounded-circle",onClick:function(){return t=e.id,void(W.id===t?fe():R(n.find((function(e){return e.id===t}))));var t},children:e.id===W?Object(O.jsx)(C.m,{}):Object(O.jsx)(C.h,{})}),"Archiveren"===le&&be===e.id?Object(O.jsx)(z.a,{variant:"archive",className:"rounded-circle",disabled:!0,children:Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})}):Object(O.jsx)(z.a,{variant:"archive",className:"rounded-circle",onClick:function(){return ke(e.id)},children:Object(O.jsx)(C.b,{})}),Object(O.jsx)(z.a,{variant:"danger",className:"rounded-circle",onClick:function(){return Ce(e.id)},children:Object(O.jsx)(C.n,{})})]})]})}))]})]})]}),Object(O.jsxs)(K.a,{show:v,onHide:function(){return Oe()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Nieuwe gebruiker:"})}),Object(O.jsxs)(G.a,{onSubmit:function(e){return me.apply(this,arguments)},children:[Object(O.jsxs)(K.a.Body,{children:[Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Naam:"}),Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Gebruikersnaam",value:Y.naam,onChange:function(e){return Q(Object(d.a)(Object(d.a)({},Y),{},{naam:e.target.value}))},required:!0})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Email:"}),Object(O.jsx)(G.a.Control,{type:"email",placeholder:"Emailadres",value:Y.email,onChange:function(e){return Q(Object(d.a)(Object(d.a)({},Y),{},{email:e.target.value}))},required:!0})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Wachtwoord:"}),Object(O.jsx)(G.a.Control,{type:"password",placeholder:"Wachtwoord",value:Y.wachtwoord,onChange:function(e){return Q(Object(d.a)(Object(d.a)({},Y),{},{wachtwoord:e.target.value}))},required:!0})]})]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(z.a,{variant:"secondary",onClick:function(){return Oe()},children:"Sluiten"}),"Maak aan"===le?Object(O.jsxs)(z.a,{variant:"success",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"success",type:"submit",children:"Maak aan"})]})]})]}),Object(O.jsxs)(K.a,{show:-1!==W.id,onHide:function(){return fe()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Bewerk gebruiker:"})}),Object(O.jsxs)(G.a,{onSubmit:function(e){return ge.apply(this,arguments)},children:[Object(O.jsxs)(K.a.Body,{children:[Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Naam:"}),Object(O.jsx)(G.a.Control,{type:"text",placeholder:"Gebruikersnaam",value:W.naam,onChange:function(e){return R(Object(d.a)(Object(d.a)({},W),{},{naam:e.target.value}))},required:!0})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Email:"}),Object(O.jsx)(G.a.Control,{type:"email",placeholder:"Emailadres",value:W.email,onChange:function(e){return R(Object(d.a)(Object(d.a)({},W),{},{email:e.target.value}))},required:!0})]}),Object(O.jsx)(G.a.Check,{type:"switch",id:"switch",value:J,onChange:function(){return q(!J)},label:"Wachtwoord veranderen"}),J?Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Wachtwoord:"}),Object(O.jsx)(G.a.Control,{type:"password",placeholder:"Wachtwoord",value:W.wachtwoord,onChange:function(e){return R(Object(d.a)(Object(d.a)({},W),{},{wachtwoord:e.target.value}))},required:!0})]}):Object(O.jsx)(O.Fragment,{})]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(z.a,{variant:"secondary",onClick:function(){return fe()},children:"Sluiten"}),"Bewerk"===le?Object(O.jsxs)(z.a,{variant:"success",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"success",type:"submit",children:"Bewerk"})]})]})]}),Object(O.jsxs)(K.a,{show:te,onHide:function(){return xe()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Verwijder gebruiker"})}),Object(O.jsxs)(K.a.Body,{children:["Weet u zeker dat u ",ce.length," gebruiker",ce.length>1?"s":""," wilt verwijderen?"]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(z.a,{variant:"secondary",onClick:function(){return xe()},children:"Sluiten"}),"Delete"===le?Object(O.jsxs)(z.a,{variant:"danger",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"danger",onClick:function(){return function(){return we.apply(this,arguments)}()},children:"Verwijder"})]})]})]}):Object(O.jsx)(h.a,{to:"/login"})}function Oe(e){var t=e.isLoggedIn,n=e.filters,r=e.updateFilters,c=e.categorieen,i=e.leeftijd,s=e.userData,d=e.removeCategorieFromFilters,p=e.filteredSpeelgoed,f=e.reviews,x=e.onDeleteReview,m=e.gebruikers,g=Object(a.useState)(!1),v=Object(u.a)(g,2),k=v[0],y=v[1],w=Object(a.useState)([]),N=Object(u.a)(w,2),S=N[0],I=N[1],D=Object(a.useState)(!1),L=Object(u.a)(D,2),F=L[0],T=L[1],E=Object(a.useState)([]),B=Object(u.a)(E,2),H=B[0],P=B[1],W=Object(a.useState)([]),R=Object(u.a)(W,2),V=R[0],U=R[1],J=Object(a.useState)(""),M=Object(u.a)(J,2),_=M[0],Z=M[1];function Y(){T(!1),Z("")}function Q(e){T(!0);var t=[];-1===e?t=S:t.push(e),P(t)}function X(){return(X=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z("Delete"),e.next=3,fetch("/php/admin/reviewDelete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toDelete:H})});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).ok?x(n.ids):alert("Het verwijderen is mislukt"),Y();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("main",{className:"container",children:[Object(O.jsx)("h1",{children:"Admin Reviews"}),Object(O.jsx)(q,{filters:n,updateFilters:r,categorieen:c,leeftijd:i,userData:s,removeCategorieFromFilters:d}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{}),Object(O.jsx)("th",{children:"Speelgoed"}),Object(O.jsx)("th",{children:"Gebruiker"}),Object(O.jsx)("th",{children:"Waardering"}),Object(O.jsx)("th",{})]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){k?(I([]),y(!1)):(I(f.map((function(e){return e.id}))),y(!0))},checked:k})})})}),Object(O.jsx)("td",{colSpan:3}),Object(O.jsx)("td",{className:"jt-table-actions",children:Object(O.jsx)(z.a,{variant:"danger",className:"rounded-circle",onClick:function(){return Q(-1)},children:Object(O.jsx)(C.n,{})})})]}),f.filter((function(e){return p.map((function(e){return e.id})).includes(e.speelgoedId)})).map((function(e){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){return t=e.id,y(!1),void(S.includes(t)?I(S.filter((function(e){return e!==t}))):I([].concat(Object(l.a)(S),[t])));var t},checked:S.includes(e.id)})})})}),Object(O.jsx)("td",{children:Object(O.jsx)(b.b,{to:"/speelgoedfiche?id="+p.find((function(t){return t.id===e.speelgoedId})).id,children:p.find((function(t){return t.id===e.speelgoedId})).naam})}),Object(O.jsx)("td",{children:m.find((function(t){return t.id===e.gebruikerId})).naam}),Object(O.jsx)("td",{children:Object(O.jsx)(de,{waardering:e.waardering})}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(z.a,{variant:"info",className:"rounded-circle",onClick:function(){return t=e.id,void(V.includes(t)?U(V.filter((function(e){return e!==t}))):U([].concat(Object(l.a)(V),[t])));var t},children:V.includes(e.id)?Object(O.jsx)(C.m,{}):Object(O.jsx)(C.a,{})}),Object(O.jsx)(z.a,{variant:"danger",className:"rounded-circle",onClick:function(){return Q(e.id)},children:Object(O.jsx)(C.n,{})})]})]}),V.includes(e.id)?Object(O.jsx)("tr",{children:Object(O.jsxs)("td",{colSpan:5,className:"bg-filter",children:[Object(O.jsx)("div",{className:"mx-3 mt-2 mb-1",children:"Inhoud:"}),Object(O.jsx)("p",{className:"mx-3 mb-2 p-2 bg-achtergrondkleur rounded",children:e.inhoud})]})}):Object(O.jsx)(O.Fragment,{})]})}))]})]})]}),Object(O.jsxs)(K.a,{show:F,onHide:function(){return Y()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Verwijder review"})}),Object(O.jsxs)(K.a.Body,{children:["Weet u zeker dat u ",H.length," review",1===H.length?"s":""," wilt verwijderen?"]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(z.a,{variant:"secondary",onClick:function(){return Y()},children:"Sluiten"}),"Delete"===_?Object(O.jsxs)(z.a,{variant:"danger",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"danger",onClick:function(){return function(){return X.apply(this,arguments)}()},children:"Verwijder"})]})]})]}):Object(O.jsx)(h.a,{to:"/login"})}function fe(e){var t=e.selectList,n=e.onSelect,r=e.placeholder,c=e.initialValue,i=Object(a.useState)(!1),s=Object(u.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(""),j=Object(u.a)(d,2),b=j[0],h=j[1],p=Object(a.useState)([]),f=Object(u.a)(p,2),x=f[0],m=f[1];function g(e){h(e),m("Speelgoed"===r?t.filter((function(t){return t.naam.toLowerCase().includes(e.toLowerCase())||t.oudCode.toLowerCase().includes(e.toLowerCase())})):t.filter((function(t){return t.naam.toLowerCase().includes(e.toLowerCase())})))}function v(e,t){g(t),l(!1),n(e)}return Object(a.useEffect)((function(){g(c)}),[]),Object(O.jsxs)("div",{className:"position-relative",onFocus:function(){return l(!0)},children:[Object(O.jsx)(G.a.Control,{type:"text",placeholder:r,value:b,onChange:function(e){return g(e.target.value)},required:!0}),Object(O.jsx)("div",{className:o?"d-flex flex-column position-absolute p-2 bg-achtergrondkleur jt-front w-100 shadow":"d-none",children:x.slice(0,6).map((function(e){return"Speelgoed"===r?Object(O.jsxs)("div",{onClick:function(){return v(e.id,e.naam)},className:"jt-clickable my-2 p-2 bg-filter",children:[Object(O.jsxs)(E.a,{children:[Object(O.jsx)(B.a,{xs:"2",children:Object(O.jsx)("img",{src:e.foto?e.foto:"/images/placeholder.jpg",alt:"",className:"img-fluid"})}),Object(O.jsxs)(B.a,{xs:"10",className:"d-flex flex-row align-items-center",children:[e.naam," (",e.oudCode,")"]})]}),Object(O.jsx)(E.a,{children:Object(O.jsxs)(B.a,{xs:"12",className:"d-flex flex-row align-items-center pt-2",children:[e.beschikbaar?Object(O.jsx)(O.Fragment,{}):Object(O.jsx)(_.a,{pill:!0,variant:"danger",className:"mr-2",children:Object(O.jsx)("span",{className:"mr-2",children:"Niet beschikbaar"})}),e.specialeAanvraag?Object(O.jsx)(_.a,{pill:!0,variant:"primary",className:"mr-2",children:Object(O.jsx)("span",{className:"mr-2",children:"Speciale aanvraag"})}):Object(O.jsx)(O.Fragment,{})]})})]}):Object(O.jsx)("div",{onClick:function(){return v(e.id,e.naam)},className:"jt-clickable my-2 p-2 bg-filter",children:Object(O.jsx)(E.a,{children:Object(O.jsx)(B.a,{xs:"12",className:"d-flex flex-row align-items-center",children:e.naam})})})}))})]})}function xe(e){var t=e.isLoggedIn,n=e.filters,r=e.updateFilters,c=e.categorieen,i=e.leeftijd,s=e.userData,p=e.removeCategorieFromFilters,f=e.filteredReservaties,x=e.speelgoed,m=e.gebruikers,g=e.periodes,v=e.onAddReservatie,k=e.onEditReservatie,y=e.onDeleteReservaties,w=e.reservaties,N=e.onArchiveReservaties,S=e.onConfirmReservaties,I=e.formatDate,D=e.sortReservaties,L=e.sortParamRes,F=e.uitleenSpeelgoed,T=Object(a.useState)(!1),H=Object(u.a)(T,2),P=H[0],W=H[1],R=Object(a.useState)([]),V=Object(u.a)(R,2),U=V[0],J=V[1],M=Object(a.useState)(-1),Z=Object(u.a)(M,2),Y=Z[0],Q=Z[1],X=Object(a.useState)(-1),$=Object(u.a)(X,2),te=$[0],ne=$[1],ae=Object(a.useState)(-1),re=Object(u.a)(ae,2),ce=re[0],ie=re[1],se=Object(a.useState)(!1),oe=Object(u.a)(se,2),le=oe[0],de=oe[1],je=Object(a.useState)(-1),ue=Object(u.a)(je,2),be=ue[0],he=ue[1],pe=Object(a.useState)(!1),Oe=Object(u.a)(pe,2),xe=Oe[0],me=Oe[1],ge=Object(a.useState)(!1),ve=Object(u.a)(ge,2),ke=ve[0],ye=ve[1],Ce=Object(a.useState)(!1),we=Object(u.a)(Ce,2),Ne=we[0],Se=we[1],Ie=Object(a.useState)({periodeId:-1}),De=Object(u.a)(Ie,2),Le=De[0],Ae=De[1],Fe=Object(a.useState)({speelgoedId:-1,gebruikerId:-1,periodeId:-1}),Te=Object(u.a)(Fe,2),Ge=Te[0],Ee=Te[1],Be=Object(a.useState)([]),ze=Object(u.a)(Be,2),He=ze[0],Pe=ze[1],We=Object(a.useState)(""),Re=Object(u.a)(We,2),Ve=Re[0],Ue=Re[1],Je=Object(a.useState)(-1),qe=Object(u.a)(Je,2),Me=qe[0],Ke=qe[1],_e=Object(a.useState)(""),Ze=Object(u.a)(_e,2),Ye=Ze[0],Qe=Ze[1];function Xe(){me(!1),Ae({periodeId:-1})}function $e(){ye(!1),Ee({speelgoedId:-1,gebruikerId:-1,periodeId:-1})}function et(){Se(!1),Pe([]),Ke(-1)}function tt(e){Se(!0),Ke(e);var t=[];-1===e?t=U:t.push(e),Pe(t)}function nt(){return(nt=Object(j.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),Ue("Maak aan"),-1!==Le.periodeId){e.next=4;break}return e.abrupt("return",alert("Selecteer een periode"));case 4:return e.next=6,fetch("/php/admin/reservatieAdd.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Le)});case 6:return n=e.sent,e.next=9,n.json();case 9:(a=e.sent).ok?v(a.reservatie):alert("Het aanmaken van een reservatie is mislukt"),Xe(),Ue("");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(){return(at=Object(j.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Ue("Bewerk"),e.next=4,fetch("/php/admin/reservatieEdit.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ge)});case 4:return n=e.sent,e.next=7,n.json();case 7:(a=e.sent).ok?k(a.id,a.speelgoedId,a.gebruikerId,a.periodeId):alert("Het bewerken van een reservatie is mislukt"),$e(),Ue("");case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e,t){return ct.apply(this,arguments)}function ct(){return(ct=Object(j.a)(o.a.mark((function e(t,n){var a,r,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ke(t),Ue("Archiveren"),a=[],-1===t?a=U:a.push(t),r=new Date,c=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate(),e.next=8,fetch("/php/admin/reservatieArchive.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:a,isArchief:n?1:0,archiefDatum:c})});case 8:return i=e.sent,e.next=11,i.json();case 11:(s=e.sent).ok?N(s.ids,s.isArchief,s.archiefDatum):alert("Het archiveren van een reservatie is mislukt"),Ue(""),Ke(-1);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e,t){return st.apply(this,arguments)}function st(){return(st=Object(j.a)(o.a.mark((function e(t,n){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ke(t),Ue("Uitlenen"),a=[],-1==t?a=w.filter((function(e){return U.includes(e.id)})).map((function(e){return e.speelgoedId})):a.push(w.filter((function(e){return e.id===t})).map((function(e){return e.speelgoedId}))[0]),e.next=6,fetch("/php/admin/speelgoedUitlenen.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:a,uitgeleend:n?1:0})});case 6:return r=e.sent,e.next=9,r.json();case 9:(c=e.sent).ok?F(c.ids,c.uitgeleend):alert("Het uitlenen is mislukt"),Ue(""),Ke(-1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e,t){return lt.apply(this,arguments)}function lt(){return(lt=Object(j.a)(o.a.mark((function e(t,n){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ke(t),Ue("Bevestigen"),a=[],-1===t?a=U:a.push(t),e.next=6,fetch("/php/admin/reservatieConfirm.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:a,bevestigd:n?1:0})});case 6:return r=e.sent,e.next=9,r.json();case 9:(c=e.sent).ok?S(c.ids,c.bevestigd):alert("Het bevestigen van een reservatie is mislukt"),Ue(""),Ke(-1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(){return(dt=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ue("Delete"),e.next=3,fetch("/php/admin/reservatieDelete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toDelete:He})});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).ok?y(n.ids):alert("Het verwijderen van een reservatie is mislukt"),et(),Ue(""),Ke(-1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("main",{className:"container-fluid",children:[Object(O.jsx)("h1",{className:"jt-no-print",children:"Admin Reservaties"}),le?Object(O.jsxs)("h1",{className:"jt-print",children:[Object(O.jsx)("span",{className:"mr-2",children:"Lijst binnen brengen"}),""!==Ye?Object(O.jsxs)("span",{className:"jt-subtitle",children:["Deadline: ",I(Ye)]}):Object(O.jsx)(O.Fragment,{})]}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(q,{filters:n,updateFilters:r,categorieen:c,leeftijd:i,userData:s,removeCategorieFromFilters:p}),Object(O.jsxs)(E.a,{className:"jt-no-print",children:[Object(O.jsxs)(G.a.Group,{className:"px-3 py-2",children:[Object(O.jsx)(B.a,{xs:"auto",className:"d-flex flex-row align-items-center",children:Object(O.jsx)(G.a.Label,{className:"mb-0",children:"Periode:"})}),Object(O.jsx)(B.a,{xs:"auto",children:Object(O.jsxs)(G.a.Control,{as:"select",value:Y,onChange:function(e){return Q(parseInt(e.target.value))},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Alle periodes"}),g.filter((function(e){return!e.isArchief||n.showArchief})).length>0?g.filter((function(e){return!e.isArchief||n.showArchief})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:"Van "+I(e.startDatum)+" tot "+I(e.eindDatum)})})):Object(O.jsx)("option",{value:"-1",children:"Geen periodes beschikbaar"})]})})]}),Object(O.jsxs)(G.a.Group,{className:"px-3 py-2",children:[Object(O.jsx)(B.a,{xs:"auto",className:"d-flex flex-row align-items-center",children:Object(O.jsx)(G.a.Label,{className:"mb-0",children:"Gebruiker:"})}),Object(O.jsx)(B.a,{xs:"auto",children:Object(O.jsxs)(G.a.Control,{as:"select",value:te,onChange:function(e){return ne(parseInt(e.target.value))},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Alle gebruikers"}),m.filter((function(e){return e.doelgroepId===s.sessDoelgroep&&!e.isArchief})).length>0?m.filter((function(e){return e.doelgroepId===s.sessDoelgroep&&!e.isArchief})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:e.naam})})):Object(O.jsx)("option",{value:"-1",children:"Geen gebruikers beschikbaar"})]})})]}),Object(O.jsxs)(G.a.Group,{className:"px-3 py-2",children:[Object(O.jsx)(B.a,{xs:"auto",className:"d-flex flex-row align-items-center",children:Object(O.jsx)(G.a.Label,{className:"mb-0",children:"Bevestigd:"})}),Object(O.jsx)(B.a,{xs:"auto",children:Object(O.jsxs)(G.a.Control,{as:"select",value:ce,onChange:function(e){return ie(parseInt(e.target.value))},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Toon alles"}),Object(O.jsx)("option",{value:"0",children:"Niet bevestigd"}),Object(O.jsx)("option",{value:"1",children:"Bevestigd"})]})})]}),Object(O.jsxs)(G.a.Group,{className:"px-3 py-2",children:[Object(O.jsx)(B.a,{xs:"auto",className:"d-flex flex-row align-items-center",children:Object(O.jsx)(G.a.Check,{type:"switch",id:"switch",value:le,onChange:function(){return de(!le)},label:"Binnenbrengen lijst"})}),le?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(B.a,{xs:"auto",children:Object(O.jsxs)(G.a.Control,{as:"select",value:be,onChange:function(e){return he(parseInt(e.target.value))},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Alle periodes"}),g.filter((function(e){return!e.isArchief||n.showArchief})).length>0?g.filter((function(e){return!e.isArchief||n.showArchief})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:"Van "+I(e.startDatum)+" tot "+I(e.eindDatum)})})):Object(O.jsx)("option",{value:"-1",children:"Geen periodes beschikbaar"})]})}),Object(O.jsxs)(B.a,{xs:"auto",children:[Object(O.jsx)(G.a.Label,{htmlFor:"binnenbrengenDatum",children:"Deadline: "}),Object(O.jsx)(G.a.Control,{id:"binnenbrengenDatum",type:"date",value:Ye,onChange:function(e){return Qe(e.target.value)}})]})]}):Object(O.jsx)(O.Fragment,{})]})]}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"jt-table-check-container jt-no-print"}),Object(O.jsxs)("th",{className:"jt-table-center jt-table-id-container",children:["#",Object(O.jsxs)("div",{className:"d-flex flex-row",children:[Object(O.jsx)(C.e,{onClick:function(){return D("oudCode","asc")},color:"oudCode"===L.param&&"asc"===L.type?"blue":"black"}),Object(O.jsx)(C.d,{onClick:function(){return D("oudCode","desc")},color:"oudCode"===L.param&&"desc"===L.type?"blue":"black"})]})]}),Object(O.jsxs)("th",{children:["Speelgoed",Object(O.jsxs)("div",{className:"d-flex flex-row",children:[Object(O.jsx)(C.e,{onClick:function(){return D("naam","asc")},color:"naam"===L.param&&"asc"===L.type?"blue":"black"}),Object(O.jsx)(C.d,{onClick:function(){return D("naam","desc")},color:"naam"===L.param&&"desc"===L.type?"blue":"black"})]})]}),Object(O.jsxs)("th",{className:le?"jt-no-print":"",children:["Gebruiker",Object(O.jsxs)("div",{className:"d-flex flex-row",children:[Object(O.jsx)(C.e,{onClick:function(){return D("gebruiker","asc")},color:"gebruiker"===L.param&&"asc"===L.type?"blue":"black"}),Object(O.jsx)(C.d,{onClick:function(){return D("gebruiker","desc")},color:"gebruiker"===L.param&&"desc"===L.type?"blue":"black"})]})]}),Object(O.jsx)("th",{className:le?"jt-no-print":"",children:"Periode"}),Object(O.jsx)("th",{className:"jt-no-print"})]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{className:"jt-no-print",children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){P?(J([]),W(!1)):(J(f.filter((function(e){return(-1===Y||e.periodeId===Y)&&(-1===te||e.gebruikerId===te)&&(-1===ce||e.bevestigd===ce)&&(!le||!f.filter((function(t){return t.speelgoedId===e.speelgoedId&&t.gebruikerId===e.gebruikerId})).map((function(e){return e.periodeId})).includes(be))})).map((function(e){return e.id}))),W(!0))},checked:P})})})}),Object(O.jsx)("td",{colSpan:4}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(z.a,{variant:"success",className:"rounded-circle",onClick:function(){me(!0)},children:Object(O.jsx)(C.i,{})}),"Bevestigen"===Ve&&-1===Me?Object(O.jsx)(z.a,{variant:"primary",className:"rounded-circle",disabled:!0,children:Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})}):Object(O.jsx)(z.a,{variant:"primary",className:"rounded-circle",onClick:function(){return ot(-1,1)},children:Object(O.jsx)(C.f,{})}),"Uitlenen"===Ve&&-1===Me?Object(O.jsx)(z.a,{variant:"secondary",className:"rounded-circle",disabled:!0,children:Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})}):Object(O.jsx)(z.a,{variant:"secondary",className:"rounded-circle",onClick:function(){return it(-1,1)},children:Object(O.jsx)(C.c,{})}),"Archiveren"===Ve&&-1===Me?Object(O.jsx)(z.a,{variant:"archive",className:"rounded-circle",disabled:!0,children:Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})}):Object(O.jsx)(z.a,{variant:"archive",className:"rounded-circle",onClick:function(){return rt(-1,1)},children:Object(O.jsx)(C.b,{})}),Object(O.jsx)(z.a,{variant:"danger",className:"rounded-circle",onClick:function(){return tt(-1)},children:Object(O.jsx)(C.n,{})})]})]}),f.filter((function(e){return(-1===Y||e.periodeId===Y)&&(-1===te||e.gebruikerId===te)&&(-1===ce||e.bevestigd===ce)&&(!le||!f.filter((function(t){return t.speelgoedId===e.speelgoedId&&t.gebruikerId===e.gebruikerId})).map((function(e){return e.periodeId})).includes(be))})).map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id jt-no-print",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){return t=e.id,W(!1),void(U.includes(t)?J(U.filter((function(e){return e!==t}))):J([].concat(Object(l.a)(U),[t])));var t},checked:U.includes(e.id)})})})}),Object(O.jsx)("td",{className:"jt-table-id",children:x.find((function(t){return e.speelgoedId===t.id})).oudCode}),Object(O.jsxs)("td",{children:[Object(O.jsxs)(b.b,{to:"/speelgoedfiche?id="+e.speelgoedId,children:[Object(O.jsx)("img",{src:x.find((function(t){return e.speelgoedId===t.id})).foto?x.find((function(t){return e.speelgoedId===t.id})).foto:"/images/placeholder.jpg",className:"jt-table-img",alt:""}),Object(O.jsx)("span",{className:"jt-table-naam",children:x.find((function(t){return e.speelgoedId===t.id})).naam})]}),x.find((function(t){return e.speelgoedId===t.id})).isArchief?Object(O.jsx)(_.a,{pill:!0,variant:"archive",className:"mr-2",children:Object(O.jsx)("span",{children:"Gearchiveerd"})}):Object(O.jsx)(O.Fragment,{})]}),Object(O.jsx)("td",{className:le?"jt-no-print":"",children:m.find((function(t){return t.id===e.gebruikerId})).naam}),Object(O.jsx)("td",{className:le?"jt-no-print":"",children:g.find((function(t){return t.id===e.periodeId}))?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:"Van "+I(g.find((function(t){return t.id===e.periodeId})).startDatum)}),Object(O.jsx)("div",{children:"Tot "+I(g.find((function(t){return t.id===e.periodeId})).eindDatum)})]}):Object(O.jsx)(O.Fragment,{})}),Object(O.jsxs)("td",{className:"jt-table-actions jt-no-print",children:[Object(O.jsx)(z.a,{variant:"info",className:"rounded-circle",onClick:function(){return function(e){var t=w.find((function(t){return t.id===e}));Ee({id:e,speelgoedId:t.speelgoedId,gebruikerId:t.gebruikerId,periodeId:t.periodeId}),ye(!0)}(e.id)},children:Object(O.jsx)(C.h,{})}),"Bevestigen"===Ve&&Me===e.id?Object(O.jsx)(z.a,{variant:"primary",className:"rounded-circle",disabled:!0,children:Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})}):Object(O.jsx)(z.a,{variant:e.bevestigd?"primary":"outline-primary",className:"rounded-circle",onClick:function(){return ot(e.id,!e.bevestigd)},children:Object(O.jsx)(C.f,{})}),"Uitlenen"===Ve&&Me===e.id?Object(O.jsx)(z.a,{variant:"secondary",className:"rounded-circle",disabled:!0,children:Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})}):Object(O.jsx)(z.a,{variant:x.find((function(t){return t.id===e.speelgoedId})).uitgeleend?"secondary":"outline-secondary",className:"rounded-circle",onClick:function(){return it(e.id,!x.find((function(t){return t.id===e.speelgoedId})).uitgeleend)},children:Object(O.jsx)(C.c,{})}),"Archiveren"===Ve&&Me===e.id?Object(O.jsx)(z.a,{variant:"archive",className:"rounded-circle",disabled:!0,children:Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})}):Object(O.jsx)(z.a,{variant:e.isArchief?"archive":"outline-archive",className:"rounded-circle",onClick:function(){return rt(e.id,!e.isArchief)},children:Object(O.jsx)(C.b,{})}),Object(O.jsx)(z.a,{variant:"danger",className:"rounded-circle",onClick:function(){return tt(e.id)},children:Object(O.jsx)(C.n,{})})]})]})}))]})]})]}),Object(O.jsxs)(K.a,{show:xe,onHide:function(){return Xe()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Nieuwe reservatie:"})}),Object(O.jsxs)(G.a,{onSubmit:function(e){return nt.apply(this,arguments)},children:[Object(O.jsxs)(K.a.Body,{children:[Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Speelgoed:"}),Object(O.jsx)(fe,{selectList:x.filter((function(e){return!e.isArchief})),onSelect:function(e){return Ae(Object(d.a)(Object(d.a)({},Le),{},{speelgoedId:e}))},placeholder:"Speelgoed"})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Gebruiker:"}),Object(O.jsx)(fe,{selectList:m.filter((function(e){return e.doelgroepId===s.sessDoelgroep&&!e.isArchief})),onSelect:function(e){return Ae(Object(d.a)(Object(d.a)({},Le),{},{gebruikerId:e}))},placeholder:"Gebruiker"})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Periode:"}),Object(O.jsxs)(G.a.Control,{id:"periode",as:"select",value:Le.periodeId,onChange:function(e){return Ae(Object(d.a)(Object(d.a)({},Le),{},{periodeId:parseInt(e.target.value)}))},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Kies..."}),g.filter((function(e){return!e.isArchief||n.showArchief})).length>0?g.filter((function(e){return!e.isArchief||n.showArchief})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:"Van "+I(e.startDatum)+" tot "+I(e.eindDatum)})})):Object(O.jsx)("option",{value:"-1",children:"Geen periodes beschikbaar"})]})]})]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(z.a,{variant:"secondary",onClick:function(){return Xe()},children:"Sluiten"}),"Maak aan"===Ve?Object(O.jsxs)(z.a,{variant:"success",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"success",type:"submit",children:"Maak aan"})]})]})]}),Object(O.jsxs)(K.a,{show:ke,onHide:function(){return $e()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Bewerk reservatie:"})}),Object(O.jsxs)(G.a,{onSubmit:function(e){return at.apply(this,arguments)},children:[Object(O.jsxs)(K.a.Body,{children:[Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Speelgoed:"}),Object(O.jsx)(fe,{selectList:x.filter((function(e){return!e.isArchief})),onSelect:function(e){return Ee(Object(d.a)(Object(d.a)({},Ge),{},{speelgoedId:e}))},placeholder:"Speelgoed",initialValue:x.find((function(e){return Ge.speelgoedId==e.id}))?x.find((function(e){return Ge.speelgoedId==e.id})).naam:""})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Gebruiker:"}),Object(O.jsx)(fe,{selectList:m.filter((function(e){return e.doelgroepId==s.sessDoelgroep&&!e.isArchief})),onSelect:function(e){return Ee(Object(d.a)(Object(d.a)({},Ge),{},{gebruikerId:e}))},placeholder:"Gebruiker",initialValue:m.find((function(e){return Ge.gebruikerId==e.id}))?m.find((function(e){return Ge.gebruikerId==e.id})).naam:""})]}),Object(O.jsxs)(G.a.Group,{children:[Object(O.jsx)(G.a.Label,{children:"Periode:"}),Object(O.jsx)(G.a.Control,{as:"select",value:Ge.periodeId,onChange:function(e){return Ee(Object(d.a)(Object(d.a)({},Ge),{},{periodeId:parseInt(e.target.value)}))},defaultValue:Ge.periodeId,required:!0,children:g.filter((function(e){return!e.isArchief||n.showArchief})).length>0?g.filter((function(e){return!e.isArchief||n.showArchief})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:"Van "+I(e.startDatum)+" tot "+I(e.eindDatum)})})):Object(O.jsx)("option",{value:"-1",children:"Geen periodes beschikbaar"})})]})]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(z.a,{variant:"secondary",onClick:function(){return $e()},children:"Sluiten"}),"Bewerk"===Ve?Object(O.jsxs)(z.a,{variant:"success",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"success",type:"submit",children:"Bewerk"})]})]})]}),Object(O.jsxs)(K.a,{show:Ne,onHide:function(){return et()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Verwijder reservatie"})}),Object(O.jsxs)(K.a.Body,{children:["Weet u zeker dat u ",He.length," reservatie",He.length>1?"s":""," wilt verwijderen?"]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(z.a,{variant:"secondary",onClick:function(){return et()},children:"Sluiten"}),"Delete"===Ve?Object(O.jsxs)(z.a,{variant:"danger",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"danger",onClick:function(){return function(){return dt.apply(this,arguments)}()},children:"Verwijder"})]})]})]}):Object(O.jsx)(h.a,{to:"/login"})}function me(e){var t=e.isLoggedIn,n=e.periodes,r=e.winkelWagen,c=e.onWinkelWagenDelete,i=e.speelgoed,s=e.onWinkelWagenEdit,d=e.onWinkelWagenCommit,p=e.reservaties,f=e.formatDate,x=Object(a.useState)(!1),m=Object(u.a)(x,2),g=m[0],v=m[1],k=Object(a.useState)([]),y=Object(u.a)(k,2),w=y[0],N=y[1],S=Object(a.useState)(!1),I=Object(u.a)(S,2),D=I[0],L=I[1];function F(e){-1===e?(c(w),N([]),v(!1)):(c([e]),N(w.filter((function(t){return!(t.id===e)}))))}function T(){return E.apply(this,arguments)}function E(){return(E=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,fetch("/php/confirmShoppingCart.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({winkelWagen:r})});case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).ok?(d(n),L(!1)):(alert("Er was een error bij het uploaden van de reservaties"),L(!1));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t?Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("main",{className:"container",children:[Object(O.jsx)("h1",{children:"Winkelwagen"}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{}),Object(O.jsx)("th",{children:"Speelgoed"}),Object(O.jsx)("th",{children:"Periode"}),Object(O.jsx)("th",{})]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){g?(N([]),v(!1)):(N(r.map((function(e){return e.id}))),v(!0))},checked:g})})})}),Object(O.jsx)("td",{colSpan:2}),Object(O.jsx)("td",{className:"jt-table-actions",children:Object(O.jsx)(z.a,{variant:"danger",className:"rounded-circle",onClick:function(){return F(-1)},children:Object(O.jsx)(C.n,{})})})]}),r.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){return t=e.id,v(!1),void(w.includes(t)?N(w.filter((function(e){return e!==t}))):N([].concat(Object(l.a)(w),[t])));var t},checked:w.includes(e.id)})})})}),Object(O.jsx)("td",{children:i.filter((function(t){return e.speelgoedId===t.id})).map((function(e){return Object(O.jsxs)(b.b,{to:"/speelgoedfiche?id="+e.id,id:e.id+"-naam",children:[Object(O.jsx)("img",{src:e.foto?e.foto:"/images/placeholder.jpg",className:"jt-table-img",alt:""}),Object(O.jsx)("span",{className:"jt-table-naam",children:e.naam})]})}))}),Object(O.jsx)("td",{children:Object(O.jsx)(G.a.Control,{id:"periode",as:"select",value:e.periodeId,onChange:function(t){return s(e.id,t.target.value)},children:n.filter((function(t){return!(t.isArchief||r.filter((function(t){return t.id!==e.id&&t.speelgoedId===e.speelgoedId})).map((function(e){return e.periodeId})).includes(t.id)||p.filter((function(t){return!t.isArchief&&t.speelgoedId===e.speelgoedId})).map((function(e){return e.periodeId})).includes(t.id))})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:"Van "+f(e.startDatum)+" tot "+f(e.eindDatum)})}))})}),Object(O.jsx)("td",{className:"jt-table-actions",children:Object(O.jsx)(z.a,{variant:"danger",className:"rounded-circle",onClick:function(){return F(e.id)},children:Object(O.jsx)(C.n,{})})})]})}))]}),Object(O.jsx)("tfoot",{children:Object(O.jsxs)("td",{colSpan:4,className:"text-right",children:[Object(O.jsx)(z.a,{as:b.b,to:"/",className:"mr-2",variant:"secondary",children:"Verder Winkelen"}),r.length?Object(O.jsx)(z.a,{as:b.b,to:"/winkelwagenBevestigd",variant:r.length>0?"success":"danger",onClick:function(){return T()},className:"m-2",disabled:!r.length,children:r.length>0?D?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(A.a,{animation:"border",role:"status",variant:"light",children:Object(O.jsx)("span",{className:"sr-only",children:"Laden..."})}),Object(O.jsx)("span",{className:"ml-2",children:"Laden..."})]}):"Bevestig":"Winkelwagen is leeg"}):Object(O.jsx)(z.a,{variant:r.length>0?"success":"danger",onClick:function(){return T()},className:"m-2",disabled:!r.length,children:r.length>0?D?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(A.a,{animation:"border",role:"status",variant:"light",children:Object(O.jsx)("span",{className:"sr-only",children:"Laden..."})}),Object(O.jsx)("span",{className:"ml-2",children:"Laden..."})]}):"Bevestig":"Winkelwagen is leeg"})]})})]})]})}):Object(O.jsx)(h.a,{to:"/login"})}function ge(e){var t=e.isLoggedIn,n=e.winkelWagenResult,a=e.speelgoed,r=e.periodes,c=e.formatDate;return t?Object(O.jsxs)("main",{className:"container",children:[Object(O.jsx)("h1",{children:"Uw reservaties werden verstuurd"}),Object(O.jsxs)("section",{className:"mb-5",children:[Object(O.jsx)("h2",{children:"Gelukte reservaties"}),Object(O.jsx)("p",{children:"Deze reservaties werden goed verstuurd, ontvangen en verwerkt."}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Speelgoed"}),Object(O.jsx)("th",{children:"Periode"})]})}),Object(O.jsx)("tbody",{children:n.reservaties.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:a.filter((function(t){return e.speelgoedId===t.id})).map((function(e){return Object(O.jsxs)(b.b,{to:"/speelgoedfiche?id="+e.id,id:e.id+"-naam",children:[Object(O.jsx)("img",{src:e.foto?e.foto:"/images/placeholder.jpg",className:"jt-table-img",alt:""}),Object(O.jsx)("span",{className:"jt-table-naam",children:e.naam})]})}))}),Object(O.jsx)("td",{children:r.filter((function(t){return e.periodeId===t.id})).map((function(e){return"Van "+c(e.startDatum)+" tot "+c(e.eindDatum)}))})]})}))})]})]}),Object(O.jsxs)("section",{className:n.doubles.length>0?"d-block":"d-none",children:[Object(O.jsx)("h2",{children:"Mislukte reservaties"}),Object(O.jsx)("p",{children:"Deze reservaties konden niet worden doorgevoerd wegens overlap met andere reservaties. Mogelijks heeft een andere gebruiker juist iets eerder gereserveerd."}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Speelgoed"}),Object(O.jsx)("th",{children:"Periode"})]})}),Object(O.jsx)("tbody",{children:n.doubles.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:a.filter((function(t){return e.speelgoedId===t.id})).map((function(e){return Object(O.jsxs)(b.b,{to:"/speelgoedfiche?id="+e.id,id:e.id+"-naam",children:[Object(O.jsx)("img",{src:e.foto?e.foto:"/images/placeholder.jpg",className:"jt-table-img",alt:""}),Object(O.jsx)("span",{className:"jt-table-naam",children:e.naam})]})}))}),Object(O.jsx)("td",{children:r.filter((function(t){return e.periodeId===t.id})).map((function(e){return"Van "+c(e.startDatum)+" tot "+c(e.eindDatum)}))})]})}))})]})]})]}):Object(O.jsx)(h.a,{to:"/login"})}function ve(e){var t=e.isLoggedIn,n=e.userData,r=e.filteredReservaties,c=e.periodes,i=e.speelgoed,s=e.filters,p=e.categorieen,f=e.leeftijd,x=e.updateFilters,m=e.removeCategorieFromFilters,g=e.onDeleteReservaties,v=e.formatDate,k=e.reservaties,y=e.winkelWagen,w=e.filteredSpeelgoed,N=e.onWinkelWagenAdd,S=Object(a.useState)(!1),I=Object(u.a)(S,2),D=I[0],L=I[1],F=Object(a.useState)([]),T=Object(u.a)(F,2),H=T[0],P=T[1],W=Object(a.useState)(-1),R=Object(u.a)(W,2),V=R[0],U=R[1],J=Object(a.useState)(!1),M=Object(u.a)(J,2),Z=M[0],Y=M[1],Q=Object(a.useState)([]),$=Object(u.a)(Q,2),te=$[0],ne=$[1],ae=Object(a.useState)(!1),re=Object(u.a)(ae,2),ce=re[0],ie=re[1],se=Object(a.useState)({speelgoedId:-1,periodeId:-1}),oe=Object(u.a)(se,2),le=oe[0],de=oe[1],je=Object(a.useState)(!1),ue=Object(u.a)(je,2),be=ue[0],he=ue[1],pe=Object(a.useState)({}),Oe=Object(u.a)(pe,2),fe=Oe[0],xe=Oe[1],me=Object(a.useState)({startDatum:"1995-07-13",eindDatum:"1995-07-13"}),ge=Object(u.a)(me,2),ve=ge[0],ke=ge[1],ye=Object(a.useState)(""),Ce=Object(u.a)(ye,2),we=Ce[0],Ne=Ce[1];function Se(e){Y(!0);var t=[];-1===e?t=H:t.push(e),ne(t)}function Ie(){return(Ie=Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ne("Delete"),e.next=3,fetch("/php/mijnReservatieDelete.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({toDelete:te,gebruikerId:n.id})});case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent).ok?g(a.ids):alert("Het verwijderen van een reservatie is mislukt"),De();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(){Y(!1),ne([]),Ne("")}function Le(){ie(!1),de(Object(d.a)(Object(d.a)({},le),{},{speelgoedId:-1}))}return t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("main",{className:"container",children:[Object(O.jsx)("h1",{children:"Mijn Reservaties"}),Object(O.jsx)(q,{filters:s,updateFilters:x,categorieen:p,leeftijd:f,userData:n,removeCategorieFromFilters:m}),Object(O.jsxs)(G.a.Group,{as:E.a,className:"px-3 py-2",children:[Object(O.jsx)(B.a,{xs:"auto",className:"d-flex flex-row align-items-center",children:Object(O.jsx)(G.a.Label,{className:"mb-0",children:"Periode:"})}),Object(O.jsx)(B.a,{xs:"auto",children:Object(O.jsxs)(G.a.Control,{as:"select",value:V,onChange:function(e){return U(parseInt(e.target.value))},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Alle periodes"}),c.filter((function(e){return!e.isArchief})).length>0?c.filter((function(e){return!e.isArchief})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:"Van "+v(e.startDatum)+" tot "+v(e.eindDatum)})})):Object(O.jsx)("option",{value:"-1",children:"Geen periodes beschikbaar"})]})})]}),Object(O.jsxs)(ee.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"jt-table",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{className:"jt-table-check-container"}),Object(O.jsx)("th",{children:"Speelgoed"}),Object(O.jsx)("th",{children:"Periode"}),Object(O.jsx)("th",{children:"Bevestigd"}),Object(O.jsx)("th",{})]})}),Object(O.jsxs)("tbody",{children:[Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){D?(P([]),L(!1)):(P(r.filter((function(e){return(-1===V||e.periodeId===V)&&e.gebruikerId===n.id})).map((function(e){return e.id}))),L(!0))},checked:D})})})}),Object(O.jsx)("td",{colSpan:3}),Object(O.jsx)("td",{className:"jt-table-actions",children:Object(O.jsx)(z.a,{variant:"danger",className:"rounded-circle",onClick:function(){return Se(-1)},children:Object(O.jsx)(C.n,{})})})]}),r.filter((function(e){return(-1===V||e.periodeId===V)&&e.gebruikerId===n.id})).map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{className:"jt-table-id",children:Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center jt-table-check-container",children:Object(O.jsx)(G.a,{className:"jt-table-check-container d-flex align-items-center justify-content-center",children:Object(O.jsx)(G.a.Check,{type:"checkbox",className:"jt-table-check",onChange:function(){return t=e.id,L(!1),void(H.includes(t)?P(H.filter((function(e){return e!==t}))):P([].concat(Object(l.a)(H),[t])));var t},checked:H.includes(e.id)})})})}),Object(O.jsx)("td",{children:Object(O.jsxs)(b.b,{to:"/speelgoedfiche?id="+e.speelgoedId,children:[Object(O.jsx)("img",{src:i.find((function(t){return e.speelgoedId===t.id})).foto?i.find((function(t){return e.speelgoedId===t.id})).foto:"/images/placeholder.jpg",className:"jt-table-img",alt:""}),Object(O.jsx)("span",{className:"jt-table-naam",children:i.find((function(t){return e.speelgoedId===t.id})).naam})]})}),Object(O.jsx)("td",{children:c.find((function(t){return t.id===e.periodeId}))?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{children:"Van "+v(c.find((function(t){return t.id===e.periodeId})).startDatum)}),Object(O.jsx)("div",{children:"Tot "+v(c.find((function(t){return t.id===e.periodeId})).eindDatum)})]}):Object(O.jsx)(O.Fragment,{})}),Object(O.jsx)("td",{children:e.bevestigd?Object(O.jsx)(_.a,{pill:!0,variant:"primary",children:Object(O.jsx)("span",{children:"Bevestigd"})}):Object(O.jsx)(_.a,{pill:!0,variant:"danger",children:Object(O.jsx)("span",{children:"Niet bevestigd"})})}),Object(O.jsxs)("td",{className:"jt-table-actions",children:[Object(O.jsx)(z.a,{variant:"primary",className:"rounded-circle",onClick:function(){return t=e.speelgoedId,ie(!0),void de(Object(d.a)(Object(d.a)({},le),{},{speelgoedId:t}));var t},children:Object(O.jsx)(C.c,{})}),Object(O.jsx)(z.a,{variant:"danger",className:"rounded-circle",onClick:function(){return Se(e.id)},children:Object(O.jsx)(C.n,{})})]})]})}))]})]})]}),Object(O.jsxs)(K.a,{show:Z,onHide:function(){return De()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Verwijder reservatie"})}),Object(O.jsxs)(K.a.Body,{children:["Weet u zeker dat u ",te.length," reservatie",te.length>1?"s":""," wilt verwijderen?"]}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(z.a,{variant:"secondary",onClick:function(){return De()},children:"Sluiten"}),"Delete"===we?Object(O.jsxs)(z.a,{variant:"danger",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"danger",onClick:function(){return function(){return Ie.apply(this,arguments)}()},children:"Verwijder"})]})]}),Object(O.jsxs)(K.a,{show:ce,onHide:function(){return Le()},children:[Object(O.jsx)(K.a.Header,{closeButton:!0,children:Object(O.jsx)(K.a.Title,{children:"Opnieuw toevoegen aan winkelwagen"})}),Object(O.jsxs)(G.a,{onSubmit:function(e){return e.preventDefault(),le.periodeId&&-1!==le.periodeId?y.map((function(e){return e.speelgoedId})).includes(le.speelgoedId&&y.filter((function(e){return e.speelgoedId===le.speelgoedId})).map((function(e){return e.periodeId})).includes(le.periodeId))?alert("Deze reservatie zit reeds in uw winkelwagen"):(Ne("Toevoegen"),N(le.speelgoedId,le.periodeId),t=le.speelgoedId,n=le.periodeId,xe(w.find((function(e){return e.id===t}))),ke(c.find((function(e){return e.id===n}))),he(!0),Le(),void Ne("")):alert("Selecteer een periode");var t,n},children:[Object(O.jsx)(K.a.Body,{children:Object(O.jsxs)(G.a.Group,{as:E.a,className:"px-3 py-2",children:[Object(O.jsx)(B.a,{xs:"auto",className:"d-flex flex-row align-items-center",children:Object(O.jsx)(G.a.Label,{className:"mb-0",children:"Periode:"})}),Object(O.jsx)(B.a,{xs:"auto",children:Object(O.jsxs)(G.a.Control,{as:"select",value:le.periodeId,onChange:function(e){return de(Object(d.a)(Object(d.a)({},le),{},{periodeId:parseInt(e.target.value)}))},required:!0,children:[Object(O.jsx)("option",{value:"-1",children:"Kies..."}),c.filter((function(e){return!(e.isArchief||k.filter((function(e){return!e.isArchief&&e.speelgoedId===le.speelgoedId})).map((function(e){return e.periodeId})).includes(e.id)||y.filter((function(e){return e.speelgoedId===le.speelgoedId})).map((function(e){return e.periodeId})).includes(e.id))})).length>0?c.filter((function(e){return!(e.isArchief||k.filter((function(e){return!e.isArchief&&e.speelgoedId===le.speelgoedId})).map((function(e){return e.periodeId})).includes(e.id)||y.filter((function(e){return e.speelgoedId===le.speelgoedId})).map((function(e){return e.periodeId})).includes(e.id))})).map((function(e){return Object(O.jsx)("option",{value:e.id,children:"Van "+v(e.startDatum)+" tot "+v(e.eindDatum)})})):Object(O.jsx)("option",{value:"-1",children:"Geen periodes beschikbaar"})]})})]})}),Object(O.jsxs)(K.a.Footer,{children:[Object(O.jsx)(z.a,{variant:"secondary",onClick:function(){return Le()},children:"Sluiten"}),"Toevoegen"===we?Object(O.jsxs)(z.a,{variant:"success",disabled:!0,children:[Object(O.jsx)(A.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"})," Laden..."]}):Object(O.jsx)(z.a,{variant:"success",type:"submit",children:"Toevoegen"})]})]})]}),Object(O.jsx)(X,{show:be,onHide:function(){he(!1)},item:fe,periode:ve,formatDate:v})]}):Object(O.jsx)(h.a,{to:"/login"})}fe.defaultProps={initialValue:""};var ke=function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(u.a)(c,2),s=i[0],x=i[1],m=Object(a.useState)({param:"",type:""}),g=Object(u.a)(m,2),v=g[0],k=g[1],y=Object(a.useState)({param:"",type:""}),C=Object(u.a)(y,2),w=C[0],N=C[1],S=Object(a.useState)({isLoggedIn:0}),I=Object(u.a)(S,2),D=I[0],A=I[1],G=Object(a.useState)([]),E=Object(u.a)(G,2),B=E[0],z=E[1],H=Object(a.useState)({categorieen:[],leeftijden:[],showArchief:0,showUitgeleend:-1}),P=Object(u.a)(H,2),R=P[0],U=P[1],J=Object(a.useState)([]),q=Object(u.a)(J,2),M=q[0],K=q[1],_=Object(a.useState)([]),Z=Object(u.a)(_,2),Y=Z[0],Q=Z[1],X=Object(a.useState)([]),ee=Object(u.a)(X,2),re=ee[0],ie=ee[1],se=Object(a.useState)({id:-1,naam:"Leeftijd",subCategorieen:[]}),oe=Object(u.a)(se,2),le=oe[0],de=oe[1],je=Object(a.useState)([]),fe=Object(u.a)(je,2),ke=fe[0],ye=fe[1],Ce=Object(a.useState)([]),we=Object(u.a)(Ce,2),Ne=we[0],Se=we[1],Ie=Object(a.useState)([]),De=Object(u.a)(Ie,2),Le=De[0],Ae=De[1],Fe=Object(a.useState)([]),Te=Object(u.a)(Fe,2),Ge=Te[0],Ee=Te[1],Be=Object(a.useState)([]),ze=Object(u.a)(Be,2),He=ze[0],Pe=ze[1],We=Object(a.useState)([]),Re=Object(u.a)(We,2),Ve=Re[0],Ue=Re[1],Je=Object(a.useState)({reservaties:[],doubles:[]}),qe=Object(u.a)(Je,2),Me=qe[0],Ke=qe[1];function _e(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(j.a)(o.a.mark((function e(t){var n,a,c,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),A(t),e.next=4,Lt();case 4:return n=e.sent,e.next=7,tt(n[0],n[1]);case 7:return a=e.sent,e.next=10,Wt();case 10:return e.next=12,qt();case 12:return e.next=14,Yt();case 14:return e.next=16,en();case 16:return c=e.sent,e.next=19,vt(a,s,R);case 19:return i=e.sent,e.next=22,yt(c,i,s,R);case 22:(l=e.sent)&&r(!1),Q(i),Pe(l);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(){return(Ye=Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),x(""),A({isLoggedIn:0}),z([]),U({categorieen:[],leeftijden:[],showArchief:0}),K([]),Q([]),ie([]),de({id:-1,naam:"Leeftijd",subCategorieen:[]}),ye([]),Se([]),Ae([]),Ee([]),Pe([]),Ue([]),e.next=17,Xe();case 17:e.sent&&r(!1);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e){var t,n=e.split("-"),a=n[2],r=n[0];switch(parseInt(n[1])){case 1:t="january";break;case 2:t="february";break;case 3:t="maart";break;case 4:t="april";break;case 5:t="mei";break;case 6:t="juni";break;case 7:t="juli";break;case 8:t="augustus";break;case 9:t="september";break;case 10:t="oktober";break;case 11:t="november";break;default:t="december"}return a+" "+t+" "+r}function Xe(){return $e.apply(this,arguments)}function $e(){return($e=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,fetch("/php/doelgroepen.php");case 3:return t=e.sent,e.next=6,t.json();case 6:if(!(n=e.sent).ok){e.next=10;break}return z(n.doelgroepen),e.abrupt("return",!0);case 10:return alert("Er was een probleem met het laden van de data"),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(e){return e.replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t")}function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=Object(j.a)(o.a.mark((function e(t,n){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/speelgoed.php");case 2:return a=e.sent,e.next=5,a.json();case 5:if(!(r=e.sent).ok){e.next=15;break}if(!r.speelgoed){e.next=12;break}return c=[],r.speelgoed.forEach((function(e){c.push(Object(d.a)(Object(d.a)({},e),{},{subCategorieen:e.subCategorieen.filter((function(e){return[].concat.apply([],t.map((function(e){return e.subCategorieen})).map((function(e){return e.map((function(e){return e.id}))}))).includes(e)})),leeftijden:e.subCategorieen.filter((function(e){return n.subCategorieen.map((function(e){return e.id})).includes(e)})),korteInhoud:et(e.korteInhoud)}))})),K(c),e.abrupt("return",c);case 12:return e.abrupt("return",M);case 15:alert("Er was een probleem met het laden van het speelgoed");case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(e){return rt.apply(this,arguments)}function rt(){return(rt=Object(j.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[].concat(Object(l.a)(M),[t]),K(n),e.next=4,vt(n,s,R);case 4:return a=e.sent,Q(a),e.next=8,yt(Ge,a,s,R);case 8:r=e.sent,Pe(r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ct(e){return it.apply(this,arguments)}function it(){return(it=Object(j.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],M.forEach((function(e){e.id===t.id?n.push(t):n.push(e)})),K(n),e.next=5,vt(n,s,R);case 5:return a=e.sent,Q(a),e.next=9,yt(Ge,a,s,R);case 9:r=e.sent,Pe(r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(e,t,n){return ot.apply(this,arguments)}function ot(){return(ot=Object(j.a)(o.a.mark((function e(t,n,a){var r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],M.forEach((function(e){t.includes(e.id)?r.push(Object(d.a)(Object(d.a)({},e),{},{isArchief:n,archiefDatum:a})):r.push(e)})),K(r),e.next=5,vt(r,s,R);case 5:return c=e.sent,Q(c),e.next=9,yt(Ge,c,s,R);case 9:i=e.sent,Pe(i);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e,t){return dt.apply(this,arguments)}function dt(){return(dt=Object(j.a)(o.a.mark((function e(t,n){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],M.forEach((function(e){t.includes(e.id)?a.push(Object(d.a)(Object(d.a)({},e),{},{uitgeleend:n})):a.push(e)})),K(a),e.next=5,vt(a,s,R);case 5:return r=e.sent,Q(r),e.next=9,yt(Ge,r,s,R);case 9:c=e.sent,Pe(c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e){return ut.apply(this,arguments)}function ut(){return(ut=Object(j.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=M.filter((function(e){return!t.includes(e.id)})),K(n),e.next=4,vt(n,s,R);case 4:return a=e.sent,Q(a),e.next=8,yt(Ge,a,s,R);case 8:r=e.sent,Pe(r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e,t){return ht.apply(this,arguments)}function ht(){return(ht=Object(j.a)(o.a.mark((function e(t,n){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],M.forEach((function(e){t===e.id?a.push(Object(d.a)(Object(d.a)({},e),{},{beschikbaar:n})):a.push(e)})),K(a),e.next=5,vt(a,s,R);case 5:return r=e.sent,Q(r),e.next=9,yt(Ge,r,s,R);case 9:c=e.sent,Pe(c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=Object(j.a)(o.a.mark((function e(t,n){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],M.forEach((function(e){t===e.id?a.push(Object(d.a)(Object(d.a)({},e),{},{specialeAanvraag:n})):a.push(e)})),K(a),e.next=5,vt(a,s,R);case 5:return r=e.sent,Q(r),e.next=9,yt(Ge,r,s,R);case 9:c=e.sent,Pe(c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(e,t){return xt.apply(this,arguments)}function xt(){return(xt=Object(j.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k({param:t,type:n}),console.log(t," ",n),e.t0=t,e.next="naam"===e.t0?5:7;break;case 5:return M.sort((function(e,t){var a=e.naam.toUpperCase(),r=t.naam.toUpperCase();return a<r?"asc"===n?-1:1:a>r?"asc"===n?1:-1:0})),e.abrupt("break",9);case 7:return M.sort((function(e,t){var a=e.oudCode.toUpperCase(),r=t.oudCode.toUpperCase();return a<r?"asc"===n?-1:1:a>r?"asc"===n?1:-1:0})),e.abrupt("break",9);case 9:return e.next=11,vt(M,s,R);case 11:return a=e.sent,Q(a),e.next=15,yt(Ge,a,s,R);case 15:r=e.sent,Pe(r);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=Object(j.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N({param:t,type:n}),e.t0=t,e.next="naam"===e.t0?4:"gebruiker"===e.t0?6:8;break;case 4:return Ge.sort((function(e,t){var a=M.find((function(t){return e.speelgoedId===t.id})).naam.toUpperCase(),r=M.find((function(e){return t.speelgoedId===e.id})).naam.toUpperCase();return a<r?"asc"===n?-1:1:a>r?"asc"===n?1:-1:0})),e.abrupt("break",10);case 6:return Ge.sort((function(e,t){var a=Ne.find((function(t){return e.gebruikerId===t.id})).naam.toUpperCase(),r=Ne.find((function(e){return t.gebruikerId===e.id})).naam.toUpperCase();return a<r?"asc"===n?-1:1:a>r?"asc"===n?1:-1:0})),e.abrupt("break",10);case 8:return Ge.sort((function(e,t){var a=M.find((function(t){return e.speelgoedId===t.id})).oudCode.toUpperCase(),r=M.find((function(e){return t.speelgoedId===e.id})).oudCode.toUpperCase();return a<r?"asc"===n?-1:1:a>r?"asc"===n?1:-1:0})),e.abrupt("break",10);case 10:return e.next=12,vt(M,s,R);case 12:return a=e.sent,Q(a),e.next=16,yt(Ge,a,s,R);case 16:r=e.sent,Pe(r);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vt(e,t,n){return kt.apply(this,arguments)}function kt(){return(kt=Object(j.a)(o.a.mark((function e(t,n,a){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t,e.t0=a.showArchief,e.next=0===e.t0?4:1===e.t0?6:8;break;case 4:return r=r.filter((function(e){return!e.isArchief})),e.abrupt("break",9);case 6:return r=r.filter((function(e){return e.isArchief})),e.abrupt("break",9);case 8:return e.abrupt("break",9);case 9:e.t1=a.showUitgeleend,e.next=0===e.t1?12:1===e.t1?14:16;break;case 12:return r=r.filter((function(e){return!e.uitgeleend})),e.abrupt("break",17);case 14:return r=r.filter((function(e){return e.uitgeleend})),e.abrupt("break",17);case 16:return e.abrupt("break",17);case 17:return r=r.filter((function(e){return e.naam.toLowerCase().includes(n.toLowerCase())||e.oudCode.toLowerCase().startsWith(n.toLowerCase())})),0!==a.leeftijden.length&&(r=r.filter((function(e){return wt(e.leeftijden,a.leeftijden)}))),a.categorieen.forEach((function(e){0!==e.subCategorieen.length&&(r=r.filter((function(t){return wt(t.subCategorieen,e.subCategorieen)})))})),e.abrupt("return",r);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e,t,n,a){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(j.a)(o.a.mark((function e(t,n,a,r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t,e.t0=r.showArchief,e.next=0===e.t0?4:1===e.t0?6:11;break;case 4:return c=c.filter((function(e){return!e.isArchief})),e.abrupt("break",12);case 6:return c=c.filter((function(e){return e.isArchief})),e.next=9,vt(M,a,Object(d.a)(Object(d.a)({},r),{},{showArchief:-1}));case 9:return n=e.sent,e.abrupt("break",12);case 11:return e.abrupt("break",12);case 12:return c=c.filter((function(e){return n.map((function(e){return e.id})).includes(e.speelgoedId)})),e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e,t){var n=!1;return t.forEach((function(t){e.includes(t)&&(n=!0)})),n}function Nt(e,t){return St.apply(this,arguments)}function St(){return(St=Object(j.a)(o.a.mark((function e(t,n){var a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={categorieen:[],leeftijden:[],showArchief:0},e.t0=t,e.next="leeftijd"===e.t0?4:"categorie"===e.t0?6:8;break;case 4:return a=Object(d.a)(Object(d.a)({},R),{},{leeftijden:[]}),e.abrupt("break",9);case 6:return a=Object(d.a)(Object(d.a)({},R),{},{categorieen:R.categorieen.filter((function(e){return e.id!==n}))}),e.abrupt("break",9);case 8:return e.abrupt("break",9);case 9:return U(a),e.next=12,vt(M,s,a);case 12:return r=e.sent,Q(r),e.next=16,yt(Ge,r,s,a);case 16:c=e.sent,Pe(c);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function It(e,t,n,a){return Dt.apply(this,arguments)}function Dt(){return(Dt=Object(j.a)(o.a.mark((function e(t,n,a,r){var c,i,j,u,b,h,p,O,f,m,g,v,k;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="search"===e.t0?3:"leeftijd"===e.t0?13:"subCategorie"===e.t0?24:"showArchief"===e.t0?39:"showUitgeleend"===e.t0?50:61;break;case 3:return x(n),e.next=6,vt(M,n,R);case 6:return i=e.sent,Q(i),e.next=10,yt(Ge,i,n,R);case 10:return j=e.sent,Pe(j),e.abrupt("break",62);case 13:return c=Object(d.a)(Object(d.a)({},R),{},{leeftijden:[].concat(Object(l.a)(R.leeftijden.filter((function(e){return!a.includes(e)}))),Object(l.a)(n))}),U(c),e.next=17,vt(M,s,c);case 17:return u=e.sent,Q(u),e.next=21,yt(Ge,u,s,c);case 21:return b=e.sent,Pe(b),e.abrupt("break",62);case 24:return h=R.categorieen.filter((function(e){return e.id===r})),p=[],h.length>0?(p=h[0].subCategorieen,p=[].concat(Object(l.a)(p.filter((function(e){return!a.includes(e)}))),Object(l.a)(n))):p=n,h={id:r,subCategorieen:p},c=Object(d.a)(Object(d.a)({},R),{},{categorieen:[].concat(Object(l.a)(R.categorieen.filter((function(e){return!(e.id===r)}))),[h])}),U(c),e.next=32,vt(M,s,c);case 32:return O=e.sent,Q(O),e.next=36,yt(Ge,O,s,c);case 36:return f=e.sent,Pe(f),e.abrupt("break",62);case 39:return c=Object(d.a)(Object(d.a)({},R),{},{showArchief:n}),U(c),e.next=43,vt(M,s,c);case 43:return m=e.sent,Q(m),e.next=47,yt(Ge,m,s,c);case 47:return g=e.sent,Pe(g),e.abrupt("break",62);case 50:return c=Object(d.a)(Object(d.a)({},R),{},{showUitgeleend:n}),U(c),e.next=54,vt(M,s,c);case 54:return v=e.sent,Q(v),e.next=58,yt(Ge,v,s,c);case 58:return k=e.sent,Pe(k),e.abrupt("break",62);case 61:return e.abrupt("break",62);case 62:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(){return At.apply(this,arguments)}function At(){return(At=Object(j.a)(o.a.mark((function e(){var t,n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,fetch("/php/categorieen.php");case 3:return t=e.sent,e.next=6,t.json();case 6:if(!(n=e.sent).ok){e.next=15;break}if(!n.categorieen){e.next=14;break}return a=n.categorieen.filter((function(e){return"Leeftijd"!==e.naam})),c=n.categorieen.filter((function(e){return"Leeftijd"===e.naam}))[0]?n.categorieen.filter((function(e){return"Leeftijd"===e.naam}))[0]:{id:-1,naam:"Leeftijd",subCategorieen:[]},ie(a),de(c),e.abrupt("return",[a,c]);case 14:return e.abrupt("return",[re,le]);case 15:return alert("Er was een probleem met het laden van de categorieen"),e.abrupt("return",[]);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ft(e){"Leeftijd"===e.naam?de(Object(d.a)(Object(d.a)({},e),{},{subCategorieen:[]})):ie([].concat(Object(l.a)(re),[Object(d.a)(Object(d.a)({},e),{},{subCategorieen:[]})]))}function Tt(e,t){if("Leeftijd"!==t.naam){var n=[];re.forEach((function(a){a.id===t.id?n.push(Object(d.a)(Object(d.a)({},t),{},{subCategorieen:[].concat(Object(l.a)(t.subCategorieen),[e])})):n.push(a)})),ie(n)}else de(Object(d.a)(Object(d.a)({},t),{},{subCategorieen:[].concat(Object(l.a)(t.subCategorieen),[e])}))}function Gt(e,t){var n=[];re.forEach((function(a){a.id===t.id?n.push(Object(d.a)(Object(d.a)({},t),{},{naam:e})):n.push(a)})),ie(n)}function Et(e,t,n){if("Leeftijd"===t.naam){var a=[];return t.subCategorieen.forEach((function(t){t.id===n?a.push({id:n,naam:e}):a.push(t)})),void de(Object(d.a)(Object(d.a)({},t),{},{subCategorieen:a}))}var r=[];re.forEach((function(a){if(a.id===t.id){var c=[];t.subCategorieen.forEach((function(t){t.id===n?c.push({id:n,naam:e}):c.push(t)})),r.push(Object(d.a)(Object(d.a)({},t),{},{subCategorieen:c}))}else r.push(a)})),ie(r)}function Bt(e,t,n){if(n)ie(re.filter((function(e){return e.id!==t.id})));else if("Leeftijd"!==t.naam){var a=[];re.forEach((function(n){n.id===t.id?a.push(Object(d.a)(Object(d.a)({},t),{},{subCategorieen:t.subCategorieen.filter((function(t){return!e.includes(t.id)}))})):a.push(n)})),ie(a)}else de(Object(d.a)(Object(d.a)({},t),{},{subCategorieen:t.subCategorieen.filter((function(t){return!e.includes(t.id)}))}))}function zt(e){z([].concat(Object(l.a)(B),[e]))}function Ht(e){var t=[];B.forEach((function(n){n.id===e.id?t.push(Object(d.a)(Object(d.a)({},e),{},{isArchief:n.isArchief})):t.push(n)})),z(t)}function Pt(e,t){var n=[];B.forEach((function(a){a.id===e?n.push(Object(d.a)(Object(d.a)({},B.find((function(t){return t.id===e}))),{},{isArchief:t})):n.push(a)})),z(n)}function Wt(){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/periodes.php");case 2:return t=e.sent,e.next=5,t.json();case 5:if(!(n=e.sent).ok){e.next=9;break}return ye(n.periodes),e.abrupt("return",n.periodes);case 9:return e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vt(e){ye([].concat(Object(l.a)(ke),[e]))}function Ut(e){var t=[];ke.forEach((function(n){n.id===e.id?t.push(e):t.push(n)})),ye(t)}function Jt(e){ye(ke.filter((function(t){return!e.includes(t.id)})))}function qt(){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/gebruikers.php");case 2:return t=e.sent,e.next=5,t.json();case 5:if(!(n=e.sent).ok){e.next=9;break}return Se(n.gebruikers),e.abrupt("return",n.gebruikers);case 9:return e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kt(e){Se([].concat(Object(l.a)(Ne),[e]))}function _t(e){var t=[];Ne.forEach((function(n){n.id===e.id?t.push(e):t.push(n)})),Se(t)}function Zt(e){Se(Ne.filter((function(t){return!e.includes(t.id)})))}function Yt(){return Qt.apply(this,arguments)}function Qt(){return(Qt=Object(j.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/reviews.php");case 2:return t=e.sent,e.next=5,t.json();case 5:if(!(n=e.sent).ok){e.next=11;break}return a=[],n.reviews.forEach((function(e){a.push(Object(d.a)(Object(d.a)({},e),{},{inhoud:et(e.inhoud)}))})),Ae(a),e.abrupt("return",n.reviews);case 11:return e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xt(e){Ae([].concat(Object(l.a)(Le),[e]))}function $t(e){Ae(Le.filter((function(t){return!e.includes(t.id)})))}function en(){return tn.apply(this,arguments)}function tn(){return(tn=Object(j.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/php/reservaties.php");case 2:return t=e.sent,e.next=5,t.json();case 5:if(!(n=e.sent).ok){e.next=9;break}return Ee(n.reservaties),e.abrupt("return",n.reservaties);case 9:return e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nn(e){return an.apply(this,arguments)}function an(){return(an=Object(j.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[].concat(Object(l.a)(Ge),[t]),Ee(n),e.next=4,yt(n,Y,s,R);case 4:a=e.sent,Pe(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rn(e,t,n,a){return cn.apply(this,arguments)}function cn(){return(cn=Object(j.a)(o.a.mark((function e(t,n,a,r){var c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],Ge.forEach((function(e){e.id===t?c.push(Object(d.a)(Object(d.a)({},e),{},{speelgoedId:n,gebruikerId:a,periodeId:r})):c.push(e)})),Ee(c),e.next=5,yt(c,Y,s,R);case 5:i=e.sent,Pe(i);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sn(e,t,n){return on.apply(this,arguments)}function on(){return(on=Object(j.a)(o.a.mark((function e(t,n,a){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],Ge.forEach((function(e){t.includes(e.id)?r.push(Object(d.a)(Object(d.a)({},e),{},{isArchief:n,archiefDatum:a})):r.push(e)})),Ee(r),e.next=5,yt(r,Y,s,R);case 5:c=e.sent,Pe(c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(e,t){return dn.apply(this,arguments)}function dn(){return(dn=Object(j.a)(o.a.mark((function e(t,n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],Ge.forEach((function(e){t.includes(e.id)?a.push(Object(d.a)(Object(d.a)({},e),{},{bevestigd:n})):a.push(e)})),Ee(a),e.next=5,yt(a,Y,s,R);case 5:r=e.sent,Pe(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jn(e){return un.apply(this,arguments)}function un(){return(un=Object(j.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ge.filter((function(e){return!t.includes(e.id)})),Ee(n),e.next=4,yt(n,Y,s,R);case 4:a=e.sent,Pe(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bn(e,t){var n={speelgoedId:e,periodeId:t,gebruikerId:D.id},a=1;Ve.length>0&&(a=Ve[Ve.length-1].id+1),n=Object(d.a)(Object(d.a)({},n),{},{id:a}),Ue([].concat(Object(l.a)(Ve),[n]))}function hn(e,t){var n=[];Ve.forEach((function(a){a.id===e?n.push(Object(d.a)(Object(d.a)({},a),{},{periodeId:parseInt(t)})):n.push(a)})),Ue(n)}function pn(e){Ue(Ve.filter((function(t){return!e.includes(t.id)})))}function On(e){return fn.apply(this,arguments)}function fn(){return(fn=Object(j.a)(o.a.mark((function e(t){var n,a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ue([]),Ke(t),!(t.doubles.length>0)){e.next=14;break}return r(!0),e.next=6,en();case 6:return n=e.sent,e.next=9,yt(n,M,s,R);case 9:(a=e.sent)&&r(!1),Pe(a),e.next=20;break;case 14:return c=[].concat(Object(l.a)(Ge),Object(l.a)(t.reservaties)),Ee(c),e.next=18,yt(c,M,s,R);case 18:i=e.sent,Pe(i);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){Xe()&&r(!1)}),[]),n?Object(O.jsx)("main",{className:"jt-loading-screen",children:Object(O.jsx)(F,{})}):Object(O.jsx)(b.a,{children:Object(O.jsxs)("div",{className:"jt-wrapper",children:[Object(O.jsx)(f,{}),Object(O.jsx)(L,{isLoggedIn:D.isLoggedIn,role:D.role,onLogout:function(){return Ye.apply(this,arguments)},updateFilters:It,searchbarText:s,winkelWagen:Ve,username:D.user}),D.isLoggedIn?Object(O.jsx)(p.a,{show:D.doelgroep!==D.sessDoelgroep,variant:"danger",children:Object(O.jsxs)("p",{className:"mb-0",children:["U bent momenteel ingelogd bij Speelotheek\xa0",Object(O.jsx)("strong",{children:B.filter((function(e){return e.id===D.sessDoelgroep}))[0].naam}),". Gelieve opnieuw in te loggen indien u wenst over te schakelen naar Speelotheek\xa0",Object(O.jsx)("strong",{children:B.filter((function(e){return e.id===D.doelgroep}))[0].naam}),"."]})}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)(h.b,{path:"/login",exact:!0,render:function(){return Object(O.jsx)(W,{onLogin:_e,doelgroepen:B,isLoggedIn:D.isLoggedIn})}}),Object(O.jsx)(h.b,{path:"/sign_up",exact:!0,render:function(){return Object(O.jsx)(V,{doelgroepen:B,isLoggedIn:D.isLoggedIn})}}),Object(O.jsx)(h.b,{path:"/",exact:!0,render:function(){return Object(O.jsx)($,{isLoggedIn:D.isLoggedIn,filters:R,updateFilters:It,categorieen:re,leeftijd:le,userData:D,removeCategorieFromFilters:Nt,filteredSpeelgoed:Y,periodes:ke,onWinkelWagenAdd:bn,winkelWagen:Ve,reservaties:Ge,formatDate:Qe})}}),Object(O.jsx)(h.b,{path:"/admin/speelgoed",exact:!0,render:function(){return Object(O.jsx)(te,{isLoggedIn:D.isLoggedIn,filteredSpeelgoed:Y,filters:R,updateFilters:It,removeCategorieFromFilters:Nt,archiveSpeelgoed:st,uitleenSpeelgoed:lt,onDeleteSpeelgoed:jt,onToggleBeschikbaar:bt,onToggleSpecialeAanvraag:pt,categorieen:re,leeftijd:le,userData:D,sortSpeelgoed:ft,sortParam:v})}}),Object(O.jsx)(h.b,{path:"/admin/statistiek",exact:!0,render:function(){return Object(O.jsx)(ne,{isLoggedIn:D.isLoggedIn,filteredSpeelgoed:Y,filters:R,updateFilters:It,categorieen:re,leeftijd:le,userData:D,sortSpeelgoed:ft,sortParam:v,reservaties:Ge,periodes:ke})}}),Object(O.jsx)(h.b,{path:"/admin/speelgoedfiche",exact:!0,render:function(){return Object(O.jsx)(ae,{isLoggedIn:D.isLoggedIn,doelgroepen:B,userData:D,categorieen:re,leeftijd:le,speelgoed:M,onAddSpeelgoed:at,onUpdateSpeelgoed:ct,onDeleteSpeelgoed:jt})}}),Object(O.jsx)(h.b,{path:"/admin/categorieen",exact:!0,render:function(){return Object(O.jsx)(ce,{isLoggedIn:D.isLoggedIn,categorieen:re,leeftijd:le,onAddCategorie:Ft,onAddSubCategorie:Tt,onRemoveSubCategorie:Bt,onEditCategorie:Gt,onEditSubCategorie:Et})}}),Object(O.jsx)(h.b,{path:"/speelgoedfiche",exact:!0,render:function(){return Object(O.jsx)(ue,{isLoggedIn:D.isLoggedIn,speelgoed:M,categorieen:re,leeftijd:le,userData:D,reviews:Le,gebruikers:Ne,periodes:ke,onAddReview:Xt,reservaties:Ge,onWinkelWagenAdd:bn,winkelWagen:Ve,formatDate:Qe})}}),Object(O.jsx)(h.b,{path:"/admin/doelgroepen",exact:!0,render:function(){return Object(O.jsx)(be,{isLoggedIn:D.isLoggedIn,doelgroepen:B,onAddDoelgroep:zt,onEditDoelgroep:Ht,onArchiveDoelgroep:Pt})}}),Object(O.jsx)(h.b,{path:"/admin/periodes",exact:!0,render:function(){return Object(O.jsx)(he,{isLoggedIn:D.isLoggedIn,periodes:ke,onAddPeriode:Vt,onEditPeriode:Ut,formatDate:Qe,onDeletePeriodes:Jt})}}),Object(O.jsx)(h.b,{path:"/admin/gebruikers",exact:!0,render:function(){return Object(O.jsx)(pe,{isLoggedIn:D.isLoggedIn,gebruikers:Ne,doelgroepen:B,onAddGebruiker:Kt,onEditGebruiker:_t,onDeleteGebruiker:Zt,userData:D})}}),Object(O.jsx)(h.b,{path:"/admin/reviews",exact:!0,render:function(){return Object(O.jsx)(Oe,{isLoggedIn:D.isLoggedIn,filters:R,categorieen:re,leeftijd:le,userData:D,reviews:Le,gebruikers:Ne,updateFilters:It,removeCategorieFromFilters:Nt,filteredSpeelgoed:Y,onDeleteReview:$t})}}),Object(O.jsx)(h.b,{path:"/admin/reservaties",exact:!0,render:function(){return Object(O.jsx)(xe,{isLoggedIn:D.isLoggedIn,filters:R,updateFilters:It,removeCategorieFromFilters:Nt,categorieen:re,leeftijd:le,userData:D,filteredReservaties:He,speelgoed:M,gebruikers:Ne,periodes:ke,onAddReservatie:nn,onEditReservatie:rn,onDeleteReservaties:jn,reservaties:Ge,onArchiveReservaties:sn,onConfirmReservaties:ln,formatDate:Qe,sortReservaties:mt,sortParamRes:w,uitleenSpeelgoed:lt})}}),Object(O.jsx)(h.b,{path:"/winkelwagen",exact:!0,render:function(){return Object(O.jsx)(me,{isLoggedIn:D.isLoggedIn,winkelWagen:Ve,onWinkelWagenDelete:pn,speelgoed:M,periodes:ke,onWinkelWagenEdit:hn,reservaties:Ge,onWinkelWagenCommit:On,formatDate:Qe})}}),Object(O.jsx)(h.b,{path:"/winkelwagenBevestigd",exact:!0,render:function(){return Object(O.jsx)(ge,{isLoggedIn:D.isLoggedIn,winkelWagenResult:Me,speelgoed:M,periodes:ke,formatDate:Qe})}}),Object(O.jsx)(h.b,{path:"/mijnreservaties",exact:!0,render:function(){return Object(O.jsx)(ve,{isLoggedIn:D.isLoggedIn,filters:R,updateFilters:It,removeCategorieFromFilters:Nt,categorieen:re,leeftijd:le,userData:D,filteredReservaties:He,speelgoed:M,periodes:ke,onDeleteReservaties:jn,formatDate:Qe,reservaties:Ge,winkelWagen:Ve,filteredSpeelgoed:Y,onWinkelWagenAdd:bn})}}),Object(O.jsx)("div",{className:"jt-wrapper-fill"}),Object(O.jsx)(T,{}),Object(O.jsx)(f,{})]})})};i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(ke,{})}),document.getElementById("root"))},89:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.ca23cfce.chunk.js.map