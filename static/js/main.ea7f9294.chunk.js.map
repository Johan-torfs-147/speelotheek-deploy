{"version":3,"sources":["components/Banner.js","components/Searchbar.js","components/CustomNavLink.js","components/CustomNavDropdown.js","components/CustomNav.js","components/SearchbarUnder.js","components/Header.js","components/Loading.js","components/Footer.js","components/LoginForm.js","pages/LoginPage.js","components/SignUpForm.js","pages/SignUpPage.js","components/Filter.js","components/Filters.js","components/SpeelgoedCard.js","components/SpeelgoedToegevoegd.js","pages/HomePage.js","pages/admin/AdminSpeelgoedPage.js","pages/admin/AdminStatistiekPage.js","pages/admin/AdminSpeelgoedFichePage.js","components/CategorieTable.js","pages/admin/AdminCategorieenPage.js","components/WaarderingsSterren.js","components/Review.js","pages/SpeelgoedFichePage.js","pages/admin/AdminDoelgroepenPage.js","pages/admin/AdminPeriodesPage.js","pages/admin/AdminGebruikersPage.js","pages/admin/AdminReviewPage.js","components/SearchSelect.js","pages/admin/AdminReservatiePage.js","pages/WinkelWagenPage.js","pages/WinkelWagenBevestigdPage.js","pages/MijnReservatiesPage.js","App.js","index.js"],"names":["Banner","className","Searchbar","isLoggedIn","toggleSearchbar","searchbarActive","updateFilters","searchbarText","OverlayTrigger","placement","overlay","Tooltip","onClick","size","id","type","placeholder","onChange","e","target","value","CustomNavLink","title","faIcon","collapse","to","shoppingCartLength","Nav","Link","as","CustomNavDropown","dropdownMenu","Dropdown","Item","Toggle","CustomNav","role","onLogout","winkelWagen","username","history","useHistory","a","fetch","res","json","Navbar","activeKey","expand","length","goBack","NavbarBrand","src","width","height","alt","aria-controls","Collapse","Menu","SearchbarUnder","Header","useState","showSearchbar","setShowSearchbar","defaultProps","Loading","Spinner","animation","Footer","LoginForm","onLogin","onLoginFailed","doelgroepen","user","setUser","pass","setPass","doelgroep","setDoelgroep","actionInProgress","setActionInProgress","preventDefault","alert","encrpass","sha256","method","headers","body","JSON","stringify","data","Form","onSubmit","Group","Row","controlId","Label","column","lg","Col","Control","required","filter","item","map","Button","variant","disabled","aria-hidden","LoginPage","showAlert","setShowAlert","errMsg","setErrMsg","Alert","show","onClose","dismissible","SignUpForm","onSignUp","email","setEmail","passConfirm","setPassConfirm","jsonEscape","str","replace","SignUpPage","showAlertSuccess","setShowAlertSuccess","showAlertFail","setShowAlertFail","Heading","signUpSuccess","Filter","categorie","filters","initialShow","categorieChecked","setCategorieChecked","sc","concat","apply","c","includes","checked","setChecked","Card","Body","Title","Check","label","newChecked","toggleCategorieChecked","Text","subCategorie","scId","Filters","categorieen","leeftijd","userData","removeCategorieFromFilters","showCategorieen","setShowCategorieen","showLeeftijd","setShowLeeftijd","xs","parseInt","SpeelgoedCard","speelgoedItem","addSpeelgoed","reservaties","periodes","bg","text","min","ideal","max","readMoreText","lt","Badge","pill","wwItem","SpeelgoedToegevoegd","onHide","periode","formatDate","Modal","closeButton","HomePage","filteredSpeelgoed","onWinkelWagenAdd","addSpeelgoedToWinkelWagen","setAddSpeelgoedToWinkelWagen","toAddSpeelgoed","setToAddSpeelgoed","showToegevoegd","setShowToegevoegd","toegevoedSpeelgoed","setToegevoegdSpeelgoed","toegevoegdPeriode","setToegevoegdPeriode","onShowModal","onHideModal","CardColumns","speelgoedId","periodeId","find","AdminSpeelgoedPage","archiveSpeelgoed","onDeleteSpeelgoed","onToggleBeschikbaar","onToggleSpecialeAanvraag","sortSpeelgoed","sortParam","location","useLocation","action","setAction","speelgoedChecked","setSpeelgoedChecked","allChecked","setAllChecked","showDeleteConfirm","setShowDeleteConfirm","toDelete","setToDelete","actionId","setActionId","archiveSpeelgoedRemote","isArchief","ids","push","today","Date","todayString","getFullYear","getMonth","getDate","deleteSpeelgoedLocal","del","deleteSpeelgoedRemote","status","useEffect","query","search","variables","slice","split","forEach","variable","Table","striped","bordered","hover","color","speelgoed","colSpan","toggleBeschikbaarRemote","toggleSpecialeAanvraagRemote","AdminStatistiekPage","vanDatum","setVanDatum","totDatum","setTotDatum","statInfo","setStatInfo","toonNullen","setToonNullen","sortLocal","setSortLocal","updateCount","newStatInfo","count","p","htmlFor","undefined","sort","b","countA","countB","AdminSpeelgoedFichePage","onAddSpeelgoed","onUpdateSpeelgoed","setId","foto","setFoto","titel","setTitel","oudCode","setOudCode","selectLeeftijd","setSelectLeeftijd","selectSubCategorieen","setSelectSubCategorieen","merk","setMerk","leverancier","setLeverancier","aankoopDatum","setAankoopDatum","inhoudItems","setInhoudItems","tipItems","setTipItems","korteInhoud","setKorteInhoud","bijlages","setBijlages","beschikbaar","setBeschikbaar","specialeAanvraag","setSpecialeAanvraag","formData","FormData","append","changeItems","inhoudItem","newInhoudItems","newInhoudItem","changeTips","tipItem","newTipItems","newTipItem","changeBijlage","bijlage","newBijlages","newBijlage","files","toggleSelect","URL","createObjectURL","changeFoto","htmlSize","custom","multiple","selected","onBlur","rows","href","CategorieTable","onAddSubCategorie","onEditCategorie","onEditSubCategorie","onShowDeleteModal","removeChecked","resetRemoveChecked","subCategorieInEditMode","setSubCategorieInEditMode","categorieInEditMode","setCategorieInEditMode","showBody","setShowBody","subCategorieNaam","setSubCategorieNaam","editedCategorieNaam","setEditedCategorieNaam","editedSubCategorieNaam","setEditedSubCategorieNaam","actionOnId","setActionOnId","editSubCategorieRemote","removeSubCategorieLocal","subCategorieId","subCategorieIds","removeCategorie","toggleSubCategorieEditMode","AdminCategorieenPage","onAddCategorie","onRemoveSubCategorie","categorieNaam","setCategorieNaam","showDeleteModal","setShowDeleteModal","setRemoveCategorie","toRemoveCategorie","setToRemoveCategorie","setRemoveChecked","onHideModalDelete","deleteSubCategorieRemote","waarderingsSterren","waardering","edit","activeColor","Review","review","gebruiker","Subtitle","SpeelgoedFichePage","reviews","gebruikers","onAddReview","loading","setLoading","setSpeelgoedItem","reservatiePeriode","setReservatiePeriode","reviewToAdd","setReviewToAdd","ratingChanged","newRating","NavLink","md","xl","ListGroup","srOnly","AdminDoelgroepenPage","onAddDoelgroep","onEditDoelgroep","onArchiveDoelgroep","showArchief","setShowArchief","addDoelgroep","setAddDoelgroep","doelgroepNaam","setDoelgroepNaam","editDoelgroepNaam","setEditDoelgroepNaam","editDoelgroep","setEditDoelgroep","toggleArchiveDoelgroepRemote","editDoelgroepRemote","AdminPeriodesPage","onAddPeriode","onEditPeriode","onDeletePeriodes","addPeriode","setAddPeriode","currentEditPeriode","setCurrentEditPeriode","editedPeriodeStart","setEditedPeriodeStart","editedPeriodeEind","setEditedPeriodeEind","periodesChecked","setPeriodesChecked","nieuwePeriodeStart","setNieuwePeriodeStart","nieuwePeriodeEind","setNieuwePeriodeEind","toggleArchivePeriodeRemote","deletePeriodeLocal","editPeriodeRemote","deletePeriodeRemote","AdminGebruikersPage","onAddGebruiker","onEditGebruiker","onDeleteGebruiker","addGebruiker","setAddGebruiker","gebruikersChecked","setGebruikersChecked","currentEditedGebruiker","setCurrentEditedGebruiker","changePassword","setChangePassword","nieuweGebruiker","setNieuweGebruiker","onHideModalAdd","onHideModalEdit","gebruikerId","newRole","toggleArchiveGebruikerRemote","deleteGebruikerLocal","editRoleRemote","deleteGebruikerRemote","AdminReviewPage","onDeleteReview","reviewsChecked","setReviewsChecked","showInhoud","setShowInhoud","deleteReviewLocal","reviewId","deleteReviewRemote","SearchSelect","selectList","onSelect","initialValue","focus","setFocus","setText","filteredList","setFilteredList","onChangeInput","toLowerCase","selectSpeelgoed","naam","onFocus","AdminReservatiePage","filteredReservaties","onAddReservatie","onEditReservatie","onDeleteReservaties","onArchiveReservaties","onConfirmReservaties","sortReservaties","sortParamRes","reservatiesChecked","setReservatiesChecked","filterPeriode","setFilterPeriode","filterGebruiker","setFilterGebruiker","filterBevestigd","setFilterBevestigd","returnList","setReturnList","returnPeriode","setReturnPeriode","showAddModal","setShowAddModal","showEditModal","setShowEditModal","toAddReservatie","setToAddReservatie","toEditReservatie","setToEditReservatie","terugDatum","setTerugDatum","deleteReservatieLocal","archiveReservatieRemote","confirmReservatieRemote","bevestigd","reservatie","spg","editReservatieLocal","defaultValue","deleteReservatieRemote","WinkelWagenPage","onWinkelWagenDelete","onWinkelWagenEdit","onWinkelWagenCommit","itemsChecked","setItemsChecked","committing","setCommitting","onWinkelWagenDeleteLocal","onWinkelWagenCommitLocal","itemId","WinkelWagenBevestigdPage","winkelWagenResult","MijnReservatiesPage","showReservatieModal","setShowReservatieModal","onHideModalReservatie","App","setSearchbarText","setSortParam","setSortParamRes","setUserData","setDoelgroepen","setFilters","setSpeelgoed","setFilteredSpeelgoed","setCategorieen","setLeeftijd","setPeriodes","setGebruikers","setReviews","setReservaties","setFilteredReservaties","setWinkelWagen","setWinkelWagenResult","login","initCategorie","catRes","initSpeelgoed","spgRes","initPeriodes","initGebruikers","initReviews","initReservaties","resRes","filterSpeelgoed","fltSpgRes","filterReservaties","fltResRes","initDoelgroepen","date","month","dateArray","day","year","jsonEscapeReverse","newSpeelgoed","scen","result","updatedSpeelgoed","archiefDatum","newSortParam","newSortType","console","log","naamA","toUpperCase","naamB","oudCodeA","oudCodeB","fltSpgResSearch","fltResResSearch","gebr","toFilter","sg","startsWith","hasInCommon","newReservaties","array1","array2","newFilters","newValue","deleteValue","fltSpgResLeeftijd","fltResResLeeftijd","filterCategorie","filterSubCategorieen","fltSpgResCat","fltResResCat","newCategorieen","newCategorieNaam","newSubCategorieNaam","newSubCategorieen","removedSubCategorieIds","categorieRemoved","newDoelgroepen","newPeriodes","newGebruikers","newReviews","newItem","newWinkelwagen","path","exact","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"gQAAe,SAASA,IACpB,OACI,qBAAKC,UAAU,0B,gECER,SAASC,EAAT,GAAkG,IAA9EC,EAA6E,EAA7EA,WAAYC,EAAiE,EAAjEA,gBAAiBC,EAAgD,EAAhDA,gBAAiBC,EAA+B,EAA/BA,cAAeC,EAAgB,EAAhBA,cAC5F,OACI,mCACCJ,EAEO,qCACI,sBAAKF,UAAU,sBAAf,UACI,qBAAKA,UAAU,cACf,cAACO,EAAA,EAAD,CAEIC,UAAU,SACVC,QACI,cAACC,EAAA,EAAD,qBAJR,SASI,qBAAKV,UAAU,+BAAf,SACI,mBAAGW,QAASR,EAAiBH,UAAWI,EAAkB,6CAA+C,oBAAzG,SAA8H,cAAC,IAAD,CAAUQ,KAAK,eAT7I,aAaZ,qBAAKZ,UAAU,iCAAf,SACI,qBAAKA,UAAU,yBAAf,SACI,uBACIa,GAAG,YACHC,KAAK,OACLC,YAAY,SACZf,UAAU,qBACVgB,SAAU,SAACC,GAAD,OAAOZ,EAAc,SAAUY,EAAEC,OAAOC,OAAO,IACzDA,MAAOb,WAmBvB,qBAAKN,UAAU,gBClDhB,SAASoB,EAAT,GAA4E,IAAnDC,EAAkD,EAAlDA,MAAOC,EAA2C,EAA3CA,OAAQC,EAAmC,EAAnCA,SAAUC,EAAyB,EAAzBA,GAAIC,EAAqB,EAArBA,mBAEjE,OACI,cAAClB,EAAA,EAAD,CAEIC,UAAU,SACVC,QACI,cAACC,EAAA,EAAD,CAASV,UAAW,YAAYuB,EAAS,SAAzC,SACKF,IALb,SASI,eAACK,EAAA,EAAIC,KAAL,CAAUH,GAAIA,EAAII,GAAID,IAAM3B,UAAU,oBAAtC,UACKsB,EACD,sBAAMtB,UAAU,iBAAhB,SAAkCqB,IACjCI,EAAqB,EAElB,qBAAKzB,UAAU,0BAAf,SACI,+BAAOyB,MAGX,iCAjBJ,UCLD,SAASI,EAAT,GAAqE,IAAzCR,EAAwC,EAAxCA,MAAOC,EAAiC,EAAjCA,OAAQC,EAAyB,EAAzBA,SAAUO,EAAe,EAAfA,aAEhE,OACI,eAACC,EAAA,EAAD,CAAUH,GAAIF,IAAIM,KAAMhC,UAAU,4BAAlC,UACI,cAACO,EAAA,EAAD,CAEIC,UAAU,SACVC,QACI,cAACC,EAAA,EAAD,CAASV,UAAW,YAAYuB,EAAS,SAAzC,SACKF,IALb,SASI,eAACU,EAAA,EAASE,OAAV,CAAiBL,GAAIF,IAAIC,KAAzB,UACKL,EACD,sBAAMtB,UAAU,iBAAhB,SAAkCqB,QAVlC,UAaPS,KCZE,SAASI,EAAT,GAC+E,IAD1DhC,EACyD,EADzDA,WAAYiC,EAC6C,EAD7CA,KAAMC,EACuC,EADvCA,SAAUjC,EAC6B,EAD7BA,gBAAiBC,EACY,EADZA,gBAC1CC,EAAsD,EAAtDA,cAAeC,EAAuC,EAAvCA,cAAe+B,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,SAC1EC,EAAUC,cAD2E,4CAGzF,4BAAAC,EAAA,sEACsBC,MAAM,mBAD5B,cACUC,EADV,gBAEuBA,EAAIC,OAF3B,cAIY,IACJR,IALR,4CAHyF,sBAkBzF,IAAMb,EAAW,KACjB,OACI,mCACI,eAACsB,EAAA,EAAD,CAAQC,UAAU,IAAI9C,UAAU,+BAA+B+C,OAAQxB,EAAvE,UACI,cAAChB,EAAA,EAAD,CAEIC,UAAU,SACVC,QACI,cAACC,EAAA,EAAD,CAASV,UAAW,oBAApB,qBAJR,SASI,cAAC0B,EAAA,EAAD,UACI,cAACA,EAAA,EAAIC,KAAL,CAAUC,GAAID,IAAMhB,QAnBxC,WACQ4B,EAAQS,OAAS,GACrBT,EAAQU,UAiBkDjD,UAAU,OAApD,SACI,cAAC,IAAD,CAAyBY,KAAK,eAVlC,UAcR,eAACsC,EAAA,EAAD,CAAa1B,GAAG,IAAII,GAAID,IAAM3B,UAAU,4BAAxC,UACI,qBAAKmD,IAAI,sCAAsCC,MAAM,KAAKC,OAAO,KAAKC,IAAI,SAC1E,sBAAMtD,UAAU,kCAAhB,4BAEJ,cAACC,EAAD,CACIC,WAAYA,EACZC,gBAAiBA,EACjBC,gBAAiBA,EACjBC,cAAeA,EACfC,cAAeA,IAEnB,cAACuC,EAAA,EAAOZ,OAAR,CAAesB,gBAAc,eAAevD,UAAU,aACtD,cAAC6C,EAAA,EAAOW,SAAR,CAAiBxD,UAAU,kBAAkBa,GAAG,eAAhD,SACI,cAACa,EAAA,EAAD,UACKxB,EAEG,qCACI,cAACwB,EAAA,EAAIM,KAAL,CAAUhC,UAAU,4BAApB,SACI,cAACoB,EAAD,CACIC,MAAM,OACNC,OAAQ,cAAC,IAAD,CAAQV,KAAK,UACrBW,SAAUA,EACVC,GAAG,QAGD,UAATW,EAEG,cAACN,EAAD,CACIR,MAAM,QACNC,OAAQ,cAAC,IAAD,CAAYV,KAAK,UACzBW,SAAUA,EACVO,aACI,eAACC,EAAA,EAAS0B,KAAV,CAAezD,UAAU,+BAAzB,UACI,cAAC+B,EAAA,EAASC,KAAV,CAAeR,GAAG,mBAAmBI,GAAID,IAAM3B,UAAU,qBAAzD,uBACA,cAAC+B,EAAA,EAASC,KAAV,CAAeR,GAAG,qBAAqBI,GAAID,IAAM3B,UAAU,qBAA3D,yBACA,cAAC+B,EAAA,EAASC,KAAV,CAAeR,GAAG,oBAAoBI,GAAID,IAAM3B,UAAU,qBAA1D,wBACA,cAAC+B,EAAA,EAASC,KAAV,CAAeR,GAAG,qBAAqBI,GAAID,IAAM3B,UAAU,qBAA3D,4BACA,cAAC+B,EAAA,EAASC,KAAV,CAAeR,GAAG,kBAAkBI,GAAID,IAAM3B,UAAU,qBAAxD,sBACA,cAAC+B,EAAA,EAASC,KAAV,CAAeR,GAAG,iBAAiBI,GAAID,IAAM3B,UAAU,qBAAvD,qBACA,cAAC+B,EAAA,EAASC,KAAV,CAAeR,GAAG,qBAAqBI,GAAID,IAAM3B,UAAU,qBAA3D,yBACA,cAAC+B,EAAA,EAASC,KAAV,CAAeR,GAAG,oBAAoBI,GAAID,IAAM3B,UAAU,qBAA1D,6BAKZ,6BAEJ,cAAC0B,EAAA,EAAIM,KAAL,CAAUhC,UAAU,4BAApB,SACI,cAACoB,EAAD,CACIC,MAAM,YACNC,OAAQ,cAAC,IAAD,CAAgBV,KAAK,UAC7BW,SAAUA,EACVC,GAAG,eACHC,mBAAoBY,EAAYW,WAGxC,cAACnB,EAAD,CACIR,MAAOiB,EACPhB,OAAQ,cAAC,IAAD,CAAQV,KAAK,UACrBW,SAAUA,EACVO,aACI,eAACC,EAAA,EAAS0B,KAAV,CAAezD,UAAU,+BAAzB,UACI,cAAC+B,EAAA,EAASC,KAAV,CAAeR,GAAG,mBAAmBI,GAAID,IAAM3B,UAAU,qBAAzD,8BACA,cAAC+B,EAAA,EAASC,KAAV,CAAerB,QApGkC,2CAoGjBX,UAAU,qBAA1C,4BAOhB,qCACI,cAAC0B,EAAA,EAAIM,KAAL,CAAUhC,UAAU,4BAApB,SACI,cAAC0B,EAAA,EAAIC,KAAL,CAAUH,GAAG,SAASI,GAAID,IAA1B,qBAEJ,cAACD,EAAA,EAAIM,KAAL,CAAUhC,UAAU,4BAApB,SACI,cAAC0B,EAAA,EAAIC,KAAL,CAAUH,GAAG,WAAWI,GAAID,IAA5B,sCCrHrB,SAAS+B,EAAT,GAAqE,IAA5CxD,EAA2C,EAA3CA,WAAYG,EAA+B,EAA/BA,cAAeC,EAAgB,EAAhBA,cAC/D,OACI,mCACKJ,EAEO,qBAAKF,UAAU,yBAAf,SACI,uBACIa,GAAG,YACHC,KAAK,OACLC,YAAY,SACZf,UAAU,+BACVgB,SAAU,SAACC,GAAD,OAAOZ,EAAc,SAAUY,EAAEC,OAAOC,OAAO,IACzDA,MAAOb,MAiBf,qBAAKN,UAAU,gBC7BpB,SAAS2D,EAAT,GAAqG,IAAnFzD,EAAkF,EAAlFA,WAAYiC,EAAsE,EAAtEA,KAAMC,EAAgE,EAAhEA,SAAU/B,EAAsD,EAAtDA,cAAeC,EAAuC,EAAvCA,cAAe+B,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,SACpG,EAA0CsB,oBAAS,GAAnD,mBAAOC,EAAP,KAAsBC,EAAtB,KAOA,OACI,yBAAQ9D,UAAU,cAAlB,UACI,cAACkC,EAAD,CACIhC,WAAYA,EACZiC,KAAMA,EACNC,SAAUA,EACVjC,gBAXZ,WACI2D,GAAkBD,GAClBxD,EAAc,SAAU,IAAI,IAUpBD,gBAAiByD,EACjBxD,cAAeA,EACfC,cAAeA,EACf+B,YAAaA,EACbC,SAAUA,IAEbuB,EAEG,cAACH,EAAD,CACIxD,WAAYA,EACZG,cAAeA,EACfC,cAAeA,IAGnB,gCJFhBc,EAAc2C,aAAe,CACzBtC,mBAAoB,G,aK9BT,SAASuC,IACpB,OACI,+BACI,cAACC,EAAA,EAAD,CAASC,UAAU,OAAO/B,KAAK,SAA/B,SACI,sBAAMnC,UAAU,UAAhB,0BAEJ,sBAAMA,UAAU,OAAhB,yBCRG,SAASmE,IACpB,OACI,wBAAQnE,UAAU,mCAAlB,SACI,4D,8CCCG,SAASoE,EAAT,GAA2D,IAAvCC,EAAsC,EAAtCA,QAASC,EAA6B,EAA7BA,cAAeC,EAAc,EAAdA,YACvD,EAAuBX,mBAAS,IAAhC,mBAAOY,EAAP,KAAYC,EAAZ,KACA,EAAuBb,mBAAS,IAAhC,mBAAOc,EAAP,KAAYC,EAAZ,KACA,EAAiCf,oBAAU,GAA3C,mBAAOgB,EAAP,KAAiBC,EAAjB,KAEA,EAAgDjB,mBAAS,IAAzD,mBAAOkB,EAAP,KAAyBC,EAAzB,KALqE,4CAOrE,WAAwB9D,GAAxB,mBAAAwB,EAAA,yDACIxB,EAAE+D,kBAGiB,IAAfJ,EAJR,yCAIiCK,MAAM,4BAJvC,cAOIF,EAAoB,SAGdG,EAAWC,iBAAOT,GAV5B,SAYsBhC,MAAM,kBAAmB,CACvC0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAAChB,OAAMU,WAAUN,gBAf9C,cAYUjC,EAZV,iBAiBuBA,EAAIC,OAjB3B,SAiBU6C,EAjBV,QAmBY,GACJpB,EAAQoB,EAAI,UAEZnB,EAAcmB,EAAI,OAAaA,EAAI,OAAa,gDAGpDhB,EAAQ,IACRE,EAAQ,IACRI,EAAoB,IA3BxB,6CAPqE,sBAqCrE,OACI,eAACW,EAAA,EAAD,CAAMC,SAtC2D,4CAsCjE,UACI,eAACD,EAAA,EAAKE,MAAN,CAAYhE,GAAIiE,IAAKC,UAAU,gBAA/B,UACI,cAACJ,EAAA,EAAKK,MAAN,CAAYC,QAAM,EAACC,GAAI,EAAvB,4BACA,cAACC,EAAA,EAAD,CAAKD,GAAI,EAAT,SACI,cAACP,EAAA,EAAKS,QAAN,CACIrF,KAAK,OACLC,YAAY,wBACZI,MAAOqD,EACPxD,SAAU,SAACC,GAAD,OAAOwD,EAAQxD,EAAEC,OAAOC,QAClCiF,UAAQ,SAKpB,eAACV,EAAA,EAAKE,MAAN,CAAYhE,GAAIiE,IAAKC,UAAU,oBAA/B,UACI,cAACJ,EAAA,EAAKK,MAAN,CAAYC,QAAM,EAACC,GAAI,EAAvB,yBACA,cAACC,EAAA,EAAD,CAAKD,GAAI,EAAT,SACI,cAACP,EAAA,EAAKS,QAAN,CACIrF,KAAK,WACLC,YAAY,aACZI,MAAOuD,EACP1D,SAAU,SAACC,GAAD,OAAO0D,EAAQ1D,EAAEC,OAAOC,QAClCiF,UAAQ,SAKpB,eAACV,EAAA,EAAKE,MAAN,CAAYhE,GAAIiE,IAAKC,UAAU,qBAA/B,UACI,cAACJ,EAAA,EAAKK,MAAN,CAAYC,QAAM,EAACC,GAAI,EAAvB,wBACA,cAACC,EAAA,EAAD,CAAKD,GAAI,EAAT,SACI,eAACP,EAAA,EAAKS,QAAN,CACIvE,GAAG,SACHT,MAAOyD,EACP5D,SAAU,SAACC,GAAD,OAAO4D,EAAa5D,EAAEC,OAAOC,QACvCiF,UAAQ,EAJZ,UAMI,wBAAQjF,MAAM,KAAd,qBACCoD,EAAYvB,OAAS,EAAIuB,EAAY8B,QAAO,SAAAC,GAAI,OAAKA,EAAI,aAAeC,KAAI,SAAC3B,GAAD,OACrE,wBAAQzD,MAAOyD,EAAS,GAAxB,SAAiCA,EAAS,UAE9C,wBAAQzD,MAAM,KAAd,sCAKM,UAArB2D,EAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,UAAUC,UAAQ,EAAlC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAU3F,KAAK,SAA/B,uBC7FD,SAAS8F,EAAT,GAAwD,IAApCvC,EAAmC,EAAnCA,QAASE,EAA0B,EAA1BA,YAAarE,EAAa,EAAbA,WACrD,EAAkC0D,oBAAS,GAA3C,mBAAOiD,EAAP,KAAkBC,EAAlB,KACA,EAA4BlD,mBAAS,IAArC,mBAAOmD,EAAP,KAAeC,EAAf,KAOA,OAAI9G,EAEI,cAAC,IAAD,CAAUsB,GAAG,MAMjB,uBAAMxB,UAAU,+BAAhB,UACI,4CACA,cAACiH,EAAA,EAAD,CAAOC,KAAML,EAAWJ,QAAQ,SAASU,QAAS,kBAAML,GAAa,IAAQM,aAAW,EAAxF,SACI,mBAAGpH,UAAU,OAAb,SAAqB+G,MAEzB,cAAC3C,EAAD,CAAWC,QAASA,EAASC,cAlBrC,SAAuByC,GACnBD,GAAa,GACbE,EAAUD,IAgBqDxC,YAAaA,OCxBrE,SAAS8C,EAAT,GAA8C,IAAzB9C,EAAwB,EAAxBA,YAAa+C,EAAW,EAAXA,SAC7C,EAAuB1D,mBAAS,IAAhC,mBAAOY,EAAP,KAAYC,EAAZ,KACA,EAAyBb,mBAAS,IAAlC,mBAAO2D,EAAP,KAAaC,EAAb,KACA,EAAuB5D,mBAAS,IAAhC,mBAAOc,EAAP,KAAYC,EAAZ,KACA,EAAqCf,mBAAS,IAA9C,mBAAO6D,EAAP,KAAmBC,EAAnB,KACA,EAAiC9D,oBAAU,GAA3C,mBAAOgB,EAAP,KAAiBC,EAAjB,KAEA,EAAgDjB,mBAAS,IAAzD,mBAAOkB,EAAP,KAAyBC,EAAzB,KAEA,SAAS4C,EAAWC,GAChB,OAAOA,EAAIC,QAAQ,MAAO,SAASA,QAAQ,MAAO,SAASA,QAAQ,MAAO,SAASA,QAAQ,KAAM,OAGrG,IAAMlC,EAAQ,uCAAG,WAAO1E,GAAP,iBAAAwB,EAAA,yDACbxB,EAAE+D,kBAGiB,IAAfJ,EAJS,yCAIgBK,MAAM,4BAJtB,UAKTP,IAAS+C,GAAyB,KAAVF,GAAyB,KAAT7C,EAL/B,yCAKmDO,MAAM,2CALzD,cAQbF,EAAoB,cAGdG,EAAWC,iBAAOT,GAXX,SAaKhC,MAAM,mBAAoB,CACxC0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAAC,KAAQmC,EAAWnD,GAAOU,WAAU,MAASyC,EAAWJ,GAAQ3C,gBAhB7E,cAaPjC,EAbO,iBAkBMA,EAAIC,OAlBV,eAqBT,GAAS0E,GAAS,GAAQA,GAAS,GAEvC7C,EAAQ,IACRE,EAAQ,IACR6C,EAAS,IACTE,EAAe,IACf3C,EAAoB,IA3BP,4CAAH,sDA8Bd,OACI,eAACW,EAAA,EAAD,CAAMC,SAAUA,EAAhB,UACI,eAACD,EAAA,EAAKE,MAAN,CAAYhE,GAAIiE,IAAKC,UAAU,WAA/B,UACI,cAACJ,EAAA,EAAKK,MAAN,CAAYC,QAAM,EAACC,GAAI,EAAvB,mBACA,cAACC,EAAA,EAAD,CAAKD,GAAI,GAAT,SACI,cAACP,EAAA,EAAKS,QAAN,CACIrF,KAAK,OACLC,YAAY,yBACZI,MAAOqD,EACPxD,SAAU,SAACC,GAAD,OAAOwD,EAAQxD,EAAEC,OAAOC,QAClCiF,UAAQ,SAKpB,eAACV,EAAA,EAAKE,MAAN,CAAYhE,GAAIiE,IAAKC,UAAU,YAA/B,UACI,cAACJ,EAAA,EAAKK,MAAN,CAAYC,QAAM,EAACC,GAAI,EAAvB,yBACA,cAACC,EAAA,EAAD,CAAKD,GAAI,GAAT,SACI,cAACP,EAAA,EAAKS,QAAN,CACIrF,KAAK,QACLC,YAAY,qBACZI,MAAOoG,EACPvG,SAAU,SAACC,GAAD,OAAOuG,EAASvG,EAAEC,OAAOC,QACnCiF,UAAQ,SAKpB,eAACV,EAAA,EAAKE,MAAN,CAAYhE,GAAIiE,IAAKC,UAAU,gBAA/B,UACI,cAACJ,EAAA,EAAKK,MAAN,CAAYC,QAAM,EAACC,GAAI,EAAvB,wBACA,cAACC,EAAA,EAAD,CAAKD,GAAI,GAAT,SACI,eAACP,EAAA,EAAKS,QAAN,CACIvE,GAAG,SACHT,MAAOyD,EACP5D,SAAU,SAACC,GAAD,OAAO4D,EAAa5D,EAAEC,OAAOC,QAH3C,UAKI,wBAAQA,MAAM,KAAd,qBACCoD,EAAYvB,OAAS,EAAIuB,EAAY8B,QAAO,SAAAC,GAAI,OAAKA,EAAI,aAAeC,KAAI,SAAC3B,GAAD,OACrE,wBAAQzD,MAAOyD,EAAS,GAAxB,SAAiCA,EAAS,UAE9C,wBAAQzD,MAAM,KAAd,sCAKhB,eAACuE,EAAA,EAAKE,MAAN,CAAYhE,GAAIiE,IAAhB,UACK,eAACK,EAAA,EAAD,CAAKD,GAAI,EAAGjG,UAAU,OAAtB,UACI,cAAC0F,EAAA,EAAKK,MAAN,0BACA,cAACL,EAAA,EAAKS,QAAN,CACItF,GAAG,eACHC,KAAK,WACLC,YAAY,aACZI,MAAOuD,EACP1D,SAAU,SAACC,GAAD,OAAO0D,EAAQ1D,EAAEC,OAAOC,QAClCiF,UAAQ,OAGjB,eAACF,EAAA,EAAD,CAAKD,GAAI,EAAGjG,UAAU,OAAtB,UACI,cAAC0F,EAAA,EAAKK,MAAN,mCACA,cAACL,EAAA,EAAKS,QAAN,CACItF,GAAG,sBACHC,KAAK,WACLC,YAAY,aACZI,MAAOsG,EACPzG,SAAU,SAACC,GAAD,OAAOyG,EAAezG,EAAEC,OAAOC,QACzCiF,UAAQ,UAKE,eAArBtB,EAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,UAAUC,UAAQ,EAAlC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAU3F,KAAK,SAA/B,2BC3HD,SAASgH,EAAT,GAAgD,IAA3BvD,EAA0B,EAA1BA,YAAarE,EAAa,EAAbA,WAC7C,EAAgD0D,oBAAS,GAAzD,mBAAOmE,EAAP,KAAyBC,EAAzB,KACA,EAA0CpE,oBAAS,GAAnD,mBAAOqE,EAAP,KAAsBC,EAAtB,KAOA,OAAIhI,EAEI,cAAC,IAAD,CAAUsB,GAAG,MAKjB,uBAAMxB,UAAU,+BAAhB,UACI,4CACA,eAACiH,EAAA,EAAD,CAAOC,KAAMa,EAAkBtB,QAAQ,UAAUU,QAAS,kBAAMa,GAAoB,IAAQZ,aAAW,EAAvG,UACI,cAACH,EAAA,EAAMkB,QAAP,CAAenI,UAAU,OAAzB,0CACA,mBAAGA,UAAU,OAAb,yFAEJ,eAACiH,EAAA,EAAD,CAAOC,KAAMe,EAAexB,QAAQ,SAASU,QAAS,kBAAMe,GAAiB,IAAQd,aAAW,EAAhG,UACI,cAACH,EAAA,EAAMkB,QAAP,CAAenI,UAAU,OAAzB,kCACA,mBAAGA,UAAU,OAAb,8CAEJ,cAACqH,EAAD,CAAY9C,YAAaA,EAAa+C,SAtB9C,SAAkBc,GACdJ,EAAoBI,GACpBF,GAAkBE,S,aCTX,SAASC,EAAT,GAAqE,IAAnDC,EAAkD,EAAlDA,UAAWjI,EAAuC,EAAvCA,cAAekI,EAAwB,EAAxBA,QACvD,GAD+E,EAAfC,YAChB5E,oBAAS,IAAzD,mBAAO6E,EAAP,KAAyBC,EAAzB,KACA,EAA8B9E,mBAAS0E,EAAS,eAC3C/B,KAAI,SAAAoC,GAAE,OAAKA,EAAE,MACbtC,QAAO,SAAAxF,GAAE,OACN0H,EAAO,WACFK,OAAOC,MAAM,GAAGN,EAAO,YAAgBhC,KAAI,SAACuC,GAAD,OAAQA,EAAC,mBACpDC,SAASlI,IACX0H,EAAO,WAAeQ,SAASlI,OAN1C,mBAAOmI,EAAP,KAAgBC,EAAhB,KAoCA,OACI,cAACC,EAAA,EAAD,CAAMlJ,UAAU,YAAhB,SACI,eAACkJ,EAAA,EAAKC,KAAN,WACI,cAACD,EAAA,EAAKE,MAAN,UACI,cAAC1D,EAAA,EAAK2D,MAAN,CACIxI,GAAI,MAAQyH,EAAS,GACrBxH,KAAK,WACLwI,MAAOhB,EAAS,KAChBtH,SAAU,SAACC,GAAD,OAjC9B,WACI,IAAIsI,EAAa,GACbd,GACAQ,EAAW,IACX5I,EAAmC,YAArBiI,EAAS,KAAyB,WAAa,eAAgB,GAAIA,EAAS,eAAmB/B,KAAI,SAACoC,GAAD,OAASA,EAAE,MAAUL,EAAS,IAC/II,GAAoB,KAEpBa,EAAajB,EAAS,eAAmB/B,KAAI,SAACoC,GAAD,OAASA,EAAE,MACxDtI,EAAmC,YAArBiI,EAAS,KAAyB,WAAa,eAAgBiB,EAAYA,EAAYjB,EAAS,IAC9GW,EAAWM,GACXb,GAAoB,IAuBSc,IACjBR,QAASP,MAGjB,cAACS,EAAA,EAAKO,KAAN,UACKnB,EAAS,eAAmB/B,KAAI,SAACmD,GAAD,OAC7B,cAAChE,EAAA,EAAK2D,MAAN,CACIxI,GAAI6I,EAAY,GAChB5I,KAAK,WACLwI,MAAOI,EAAY,KACnB1I,SAAU,SAACC,GAAD,OA7BC0I,EA6BgCD,EAAY,GA5B3EhB,GAAoB,QAChBM,EAAQD,SAASY,IACjBV,EAAWD,EAAQ3C,QAAO,SAACxF,GAAD,OAASA,GAAM8I,MACzCtJ,EAAmC,YAArBiI,EAAS,KAAyB,WAAa,eAAgB,GAAI,CAACqB,GAAOrB,EAAS,MAElGjI,EAAmC,YAArBiI,EAAS,KAAyB,WAAa,eAAgB,CAACqB,GAAO,GAAIrB,EAAS,IAClGW,EAAW,GAAD,mBAAKD,GAAL,CAAcW,OAPhC,IAAmCA,GA8BXX,QAASA,EAAQD,SAASW,EAAY,gBCxDnD,SAASE,EAAT,GAA2G,IAAxFrB,EAAuF,EAAvFA,QAASlI,EAA8E,EAA9EA,cAAewJ,EAA+D,EAA/DA,YAAaC,EAAkD,EAAlDA,SAAUC,EAAwC,EAAxCA,SAAUC,EAA8B,EAA9BA,2BACvF,EAAsCpG,qBAAtC,mBACA,GADA,UAC8CA,mBAAS2E,EAAO,YAAgBhC,KAAI,SAAAD,GAAI,OAAIA,EAAI,QAA9F,mBAAO2D,EAAP,KAAwBC,EAAxB,KACA,EAAwCtG,mBAAS2E,EAAO,WAAevF,OAAS,GAAhF,mBAAOmH,EAAP,KAAqBC,EAArB,KA6BA,OACI,sBAAKpK,UAAU,yCAAf,UACI,yCAEA,sBAAKA,UAAU,qBAAf,UACI,sBAAKA,UAAU,iCAAf,WACyB,IAApB8J,EAAQ,GAEL,cAACtD,EAAA,EAAD,CACIC,SAAU0D,EAAe,GAAK,YAAc,UAC5CxJ,QAAS,kBA5BTE,EA4B8BiJ,EAAQ,QA3BtDK,GACAC,GAAgB,GAChBJ,EAA2B,WAAYnJ,IAEvCuJ,GAAgB,IALxB,IAAwBvJ,GA6BAb,UAAU,YAHd,sBAQA,6BAEH6J,EAAYtD,KAAI,SAACD,GAAD,OACb,cAACE,EAAA,EAAD,CACIC,SAAUwD,EAAgBlB,SAASzC,EAAI,IAAU,GAAK,YAAc,UACpE3F,QAAS,kBAhDRE,EAgD8ByF,EAAI,QA/CnD2D,EAAgBlB,SAASlI,IACzBqJ,EAAmBD,EAAgB5D,QAAO,SAACC,GAAD,QAAYA,IAASzF,OAC/DmJ,EAA2B,YAAanJ,IAExCqJ,EAAmB,GAAD,mBAAKD,GAAL,CAAsBpJ,MALhD,IAAyBA,GAiDDb,UAAU,aAHd,SAKKsG,EAAI,aAIjB,sBAAKtG,UAAU,iCAAf,UACKmK,EAEG,cAAC9B,EAAD,CACIC,UAAWwB,EACXzJ,cAAeA,EACfkI,QAASA,EACTC,YA5CxB,SAAqB3H,GACbiJ,EAAQ,KAAWjJ,EACnBuJ,GAAgB,GAGhBF,EAAmB,GAAD,mBAAKD,GAAL,CAAsBpJ,QAyC1B,6BAELgJ,EAAYxD,QAAO,SAACC,GAAD,OAAW2D,EAAgBlB,SAASzC,EAAI,OAAUC,KAAI,SAACD,GAAD,OACtE,cAAC+B,EAAD,CACIC,UAAWhC,EACXjG,cAAeA,EACfkI,QAASA,aAMH,UAArBwB,EAAQ,KAEL,cAAClE,EAAA,EAAD,UACI,eAACH,EAAA,EAAKE,MAAN,CAAY5F,UAAU,OAAtB,UACI,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAOrK,UAAU,qCAAzB,SACI,cAAC0F,EAAA,EAAKK,MAAN,CAAY/F,UAAU,OAAtB,wBAEJ,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAR,SACI,eAAC3E,EAAA,EAAKS,QAAN,CACIvE,GAAG,SACHT,MAAOoH,EAAO,YACdvH,SAAU,SAAAC,GAAC,OAAIZ,EAAc,cAAeiK,SAASrJ,EAAEC,OAAOC,SAC9DiF,UAAQ,EAJZ,UAMI,wBAAQjF,MAAM,KAAd,wBACA,wBAAQA,MAAM,IAAd,6BACA,wBAAQA,MAAM,IAAd,oCAMpB,gC,gDCvGG,SAASoJ,EAAT,GAAmH,IAA1FC,EAAyF,EAAzFA,cAAeX,EAA0E,EAA1EA,YAAaC,EAA6D,EAA7DA,SAAUW,EAAmD,EAAnDA,aAAcC,EAAqC,EAArCA,YAAaC,EAAwB,EAAxBA,SAAUtI,EAAc,EAAdA,YAC/G,OACI,eAAC6G,EAAA,EAAD,CAAM0B,GAAG,QAAT,UACI,cAAC1B,EAAA,EAAKvF,OAAN,CACInC,GAAI,sBAAsBgJ,EAAa,GACvCxK,UAAU,YAFd,SAII,qBACIA,UAAU,YACVmD,IAAKqH,EAAa,KAAWA,EAAa,KAAW,8BAG7D,eAACtB,EAAA,EAAKC,KAAN,WACI,cAACD,EAAA,EAAKE,MAAN,CACIxH,GAAID,IACJH,GAAI,sBAAsBgJ,EAAa,GACvCxK,UAAU,gBAHd,SAKKwK,EAAa,OAElB,cAACtB,EAAA,EAAKO,KAAN,UACI,cAAC,IAAD,CAAeoB,KAAML,EAAa,YACnBM,IAAK,GACLC,MAAO,GACPC,IAAK,IACLC,aAAc,mBAAGjL,UAAU,4BAAb,8BAGjC,qBAAKA,UAAU,eAAf,SACKwK,EAAa,WAAejE,KAAI,SAAA2E,GAAE,OAC/B,cAACC,EAAA,EAAD,CAAOC,MAAI,EAAC3E,QAAQ,YAApB,SACKqD,EAAQ,eACJzD,QAAO,SAAAC,GAAI,OAAKA,EAAI,IAAU4E,KAC9B3E,KAAI,SAAAD,GAAI,OACLA,EAAI,eAMxB,qBAAKtG,UAAU,eAAf,SACKwK,EAAa,eAAmBjE,KAAI,SAAAoD,GAAI,OACrC,cAACwB,EAAA,EAAD,CAAOC,MAAI,EAAC3E,QAAQ,YAApB,SACKoD,EAAYxD,QAAO,SAAAyC,GAAC,OAAKA,EAAC,eAAmBvC,KAAI,SAAAoC,GAAE,OAAIA,EAAE,MAAQI,SAASY,MAAQ,GAAlF,eACItD,QAAO,SAAAC,GAAI,OAAKA,EAAI,IAAUqD,KAC9BpD,KAAI,SAAAD,GAAI,OACLA,EAAI,eAMxB,cAACE,EAAA,EAAD,CACIC,SACK+D,EAAa,aACdA,EAAa,kBACbA,EAAa,WAWK,IAVlBG,EACKtE,QAAO,SAAAC,GAAI,QACRA,EAAI,WACJoE,EACKrE,QAAO,SAAA1D,GAAG,OAAMA,EAAG,WAAiBA,EAAG,cAAoB6H,EAAa,MACxEjE,KAAI,SAAA5D,GAAG,OAAIA,EAAG,aACdoG,SAASzC,EAAI,KAClBjE,EAAYgE,QAAO,SAAAgF,GAAM,OAAKA,EAAM,cAAoBb,EAAa,MAChEjE,KAAI,SAAA8E,GAAM,OAAIA,EAAM,aACpBtC,SAASzC,EAAI,QACnBtD,OACD,SACA,UAEV0D,UACK8D,EAAa,aACdA,EAAa,kBACbA,EAAa,WAWK,IAVlBG,EACKtE,QAAO,SAAAC,GAAI,QACRA,EAAI,WACJoE,EACKrE,QAAO,SAAA1D,GAAG,OAAMA,EAAG,WAAiBA,EAAG,cAAoB6H,EAAa,MACxEjE,KAAI,SAAA5D,GAAG,OAAIA,EAAG,aACdoG,SAASzC,EAAI,KAClBjE,EAAYgE,QAAO,SAAAgF,GAAM,OAAKA,EAAM,cAAoBb,EAAa,MAChEjE,KAAI,SAAA8E,GAAM,OAAIA,EAAM,aACpBtC,SAASzC,EAAI,QACnBtD,OAEXhD,UAAU,OACVW,QAAS,kBAAM8J,EAAaD,EAAa,KApC7C,SAsCKA,EAAa,iBAAuB,oBAAsB,qBC3FhE,SAASc,EAAT,GAAwE,IAA1CC,EAAyC,EAAzCA,OAAQjF,EAAiC,EAAjCA,KAAMY,EAA2B,EAA3BA,KAAMsE,EAAqB,EAArBA,QAASC,EAAY,EAAZA,WACtE,OACI,eAACC,EAAA,EAAD,CAAOxE,KAAMA,EAAMqE,OAAQA,EAA3B,UACI,cAACG,EAAA,EAAM/H,OAAP,CAAcgI,aAAW,EAAzB,SACI,cAACD,EAAA,EAAMtC,MAAP,qCAEJ,eAACsC,EAAA,EAAMvC,KAAP,WACI,cAAC,IAAD,CAAM3H,GAAI,sBAAwB8E,EAAI,GAAQzF,GAAIyF,EAAI,GAAS,QAA/D,SACI,eAACT,EAAA,EAAD,WACI,cAACK,EAAA,EAAD,CAAKmE,GAAG,IAAR,SACI,qBACIlH,IAAKmD,EAAI,KAAWA,EAAI,KAAW,0BACnChD,IAAI,GACJtD,UAAU,gBAGlB,cAACkG,EAAA,EAAD,CAAKmE,GAAG,KAAKrK,UAAU,qCAAvB,SACKsG,EAAI,YAIjB,4BACK,OAASmF,EAAWD,EAAO,YAAkB,QAAUC,EAAWD,EAAO,gBAGlF,eAACE,EAAA,EAAMvH,OAAP,WACI,cAACqC,EAAA,EAAD,CAAQC,QAAQ,YAAY9F,QAAS4K,EAArC,6BAGA,cAAC/E,EAAA,EAAD,CAAQ5E,GAAID,IAAMH,GAAG,eAAeiF,QAAQ,UAA5C,oCCzBD,SAASmF,EAAT,GAE+D,IAF3C1L,EAE0C,EAF1CA,WAAYqI,EAE8B,EAF9BA,QAASlI,EAEqB,EAFrBA,cAAewJ,EAEM,EAFNA,YAAaC,EAEP,EAFOA,SAAUC,EAEjB,EAFiBA,SACzDC,EACwC,EADxCA,2BAA4B6B,EACY,EADZA,kBAAmBlB,EACP,EADOA,SAAUmB,EACjB,EADiBA,iBACzDzJ,EAAwC,EAAxCA,YAAaqI,EAA2B,EAA3BA,YAAae,EAAc,EAAdA,WAC3D,EAAkE7H,oBAAS,GAA3E,mBAAOmI,EAAP,KAAkCC,EAAlC,KACA,EAA4CpI,mBAAS,CAAC,aAAgB,EAAG,WAAc,IAAvF,mBAAOqI,EAAP,KAAuBC,EAAvB,KACA,EAA4CtI,oBAAS,GAArD,mBAAOuI,EAAP,KAAuBC,EAAvB,KACA,EAAqDxI,mBAAS,IAA9D,mBAAOyI,EAAP,KAA2BC,EAA3B,KACA,EAAkD1I,mBAAS,CAAC,WAAc,aAAc,UAAa,eAArG,mBAAO2I,EAAP,KAA0BC,EAA1B,KAEA,EAAgD5I,mBAAS,IAAzD,mBAAOkB,EAAP,KAAyBC,EAAzB,KAEA,SAAS0H,EAAY5L,GACjBqL,EAAkB,2BAAID,GAAL,IAAqB,YAAepL,KACrDmL,GAA6B,GAGjC,SAASU,IACLR,EAAkB,CAAC,aAAgB,EAAG,WAAc,IACpDF,GAA6B,GA0BjC,OAAK9L,EAOD,qCACI,uBAAMF,UAAU,YAAhB,UACI,6CACA,cAAC4J,EAAD,CACIrB,QAASA,EACTlI,cAAeA,EACfwJ,YAAaA,EACbC,SAAUA,EACVC,SAAUA,EACVC,2BAA4BA,IAEhC,cAAC2C,EAAA,EAAD,CAAa3M,UAAU,kBAAvB,SACK6L,EAAkBtF,KAAI,SAAAD,GAAI,OACvB,cAACiE,EAAD,CACIC,cAAelE,EACfuD,YAAaA,EACbC,SAAUA,EACVW,aAAcgC,EACd/B,YAAaA,EACbC,SAAUA,EACVtI,YAAaA,YAM7B,eAACqJ,EAAA,EAAD,CAAOxE,KAAM6E,EAA2BR,OAAQ,kBAAMmB,KAAtD,UACI,cAAChB,EAAA,EAAM/H,OAAP,CAAcgI,aAAW,EAAzB,SACI,cAACD,EAAA,EAAMtC,MAAP,0CAEJ,eAAC1D,EAAA,EAAD,CAAMC,SAlDlB,SAA+B1E,GAE3B,OADAA,EAAE+D,iBACGiH,EAAc,YAAkD,IAAjCA,EAAc,UAC9C5J,EAAYkE,KAAI,SAAAD,GAAI,OAAIA,EAAI,eAAiByC,SAASkD,EAAc,aAAmB5J,EAAYgE,QAAO,SAAAC,GAAI,OAAKA,EAAI,cAAoB2F,EAAc,eAAkB1F,KAAI,SAAAD,GAAI,OAAIA,EAAI,aAAeyC,SAASkD,EAAc,YAC1NhH,MAAM,gDAEjBF,EAAoB,aACpB+G,EAAiBG,EAAc,YAAiBA,EAAc,WAjBnCW,EAkBLX,EAAc,YAlBIY,EAkBaZ,EAAc,UAjBnEK,EAAuBT,EAAkBiB,MAAK,SAAAxG,GAAI,OAAKA,EAAI,KAAWsG,MACtEJ,EAAqB7B,EAASmC,MAAK,SAAAxG,GAAI,OAAKA,EAAI,KAAWuG,MAC3DT,GAAkB,GAgBlBM,SACA3H,EAAoB,KAR2DE,MAAM,yBAZzF,IAA+B2H,EAAaC,GA4DhC,UACI,cAACnB,EAAA,EAAMvC,KAAP,UACI,eAACzD,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,uBACA,eAACL,EAAA,EAAKS,QAAN,CACIvE,GAAG,SACHT,MAAO8K,EAAc,UACrBjL,SAAU,SAAAC,GAAC,OAAIiL,EAAkB,2BAAID,GAAL,IAAqB,UAAa3B,SAASrJ,EAAEC,OAAOC,WACpFiF,UAAQ,EAJZ,UAMI,wBAAQjF,MAAM,KAAd,qBACCwJ,EAAStE,QAAO,SAAAC,GAAI,OAAKA,EAAI,aAAetD,OAAS,EAAI2H,EACrDtE,QAAO,SAAAC,GAAI,QACRA,EAAI,WAAiBoE,EAChBrE,QAAO,SAAA1D,GAAG,OAAMA,EAAG,WAAiBA,EAAG,cAAoBsJ,EAAc,eACzE1F,KAAI,SAAA5D,GAAG,OAAIA,EAAG,aACdoG,SAASzC,EAAI,KAClBjE,EAAYgE,QAAO,SAAAgF,GAAM,OAAKA,EAAM,cAAoBY,EAAc,eACjE1F,KAAI,SAAA8E,GAAM,OAAIA,EAAM,aACpBtC,SAASzC,EAAI,QAErBC,KAAI,SAACiF,GAAD,OACD,wBACIrK,MAAOqK,EAAO,GADlB,SAGK,OAASC,EAAWD,EAAO,YAAkB,QAAUC,EAAWD,EAAO,gBAGlF,wBAAQrK,MAAM,KAAd,+CAIhB,eAACuK,EAAA,EAAMvH,OAAP,WACI,cAACqC,EAAA,EAAD,CAAQC,QAAQ,YAAY9F,QAAS,kBAAM+L,KAA3C,qBAGsB,cAArB5H,EAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,UAAUC,UAAQ,EAAlC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAU3F,KAAK,SAA/B,gCAQhB,cAACwK,EAAD,CACIpE,KAAMiF,EACNZ,OAAQ,WA/GhBa,GAAkB,IAgHV9F,KAAM+F,EACNb,QAASe,EACTd,WAAYA,OAhGhB,cAAC,IAAD,CAAUjK,GAAG,WDbzB8J,EAAoBvH,aAAe,CAC/ByH,QAAS,CAAC,WAAc,aAAc,UAAa,cACnDlF,KAAM,I,cEpCK,SAASyG,GAAT,GAa+C,IAbd7M,EAaa,EAbbA,WACA2L,EAYa,EAZbA,kBACAtD,EAWa,EAXbA,QACAlI,EAUa,EAVbA,cACA2J,EASa,EATbA,2BACAgD,EAQa,EARbA,iBACAC,EAOa,EAPbA,kBACAC,EAMa,EANbA,oBACAC,EAKa,EALbA,yBACAtD,EAIa,EAJbA,YACAC,EAGa,EAHbA,SACAC,EAEa,EAFbA,SACAqD,EACa,EADbA,cACAC,EAAa,EAAbA,UACtCC,EAAWC,cACjB,EAA4B3J,qBAA5B,mBAAO4J,EAAP,KAAeC,EAAf,KAEA,EAAgD7J,mBAAS,IAAzD,mBAAO8J,EAAP,KAAyBC,EAAzB,KACA,EAAoC/J,oBAAS,GAA7C,mBAAOgK,EAAP,KAAmBC,EAAnB,KACA,EAAkDjK,oBAAS,GAA3D,mBAAOkK,EAAP,KAA0BC,EAA1B,KACA,EAAgCnK,mBAAS,IAAzC,mBAAOoK,EAAP,KAAiBC,EAAjB,KAEA,EAAgDrK,mBAAS,IAAzD,mBAAOkB,GAAP,KAAyBC,GAAzB,KACA,GAAgCnB,oBAAU,GAA1C,qBAAOsK,GAAP,MAAiBC,GAAjB,MAVyD,SA4C1CC,GA5C0C,mFA4CzD,WAAsCvN,EAAIwN,GAA1C,uBAAA5L,EAAA,6DACI0L,GAAYtN,GACZkE,GAAoB,cAChBuJ,EAAM,IACC,GAAPzN,EACAyN,EAAMZ,EAENY,EAAIC,KAAK1N,GAET2N,EAAQ,IAAIC,KACZC,EAAcF,EAAMG,cAAgB,KAAOH,EAAMI,WAAa,GAAK,IAAMJ,EAAMK,UAVvF,SAWsBnM,MAAM,kCAAmC,CACvD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAAC8I,MAAK,UAAaD,EAAY,EAAI,EAAG,aAAgBK,MAdnF,cAWU/L,EAXV,iBAgBuBA,EAAIC,OAhB3B,SAgBU6C,EAhBV,QAkBY,GACJuH,EAAiBvH,EAAI,IAASA,EAAI,UAAeA,EAAI,cAErDR,MAAM,4BAEVF,GAAoB,IACpBoJ,IAAa,GAxBjB,6CA5CyD,sBAuEzD,SAASW,GAAqBjO,GAC1BkN,GAAqB,GACrB,IAAIO,EAAM,IACC,GAAPzN,EACAyN,EAAMZ,EAENY,EAAIC,KAAK1N,GAEboN,EAAYK,GAGhB,SAAS5B,GAAYqC,GACbA,GAnFiD,oCAoFjDC,GAEJjB,GAAqB,GAtFgC,8CAyFzD,8BAAAtL,EAAA,6DACIsC,GAAoB,UADxB,SAEsBrC,MAAM,iCAAkC,CACtD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAACwI,eAL9B,cAEUrL,EAFV,gBAOuBA,EAAIC,OAP3B,QAOU6C,EAPV,QASY,GACJwH,EAAkBxH,EAAI,KAEtBR,MAAM,8BAEVF,GAAoB,IAdxB,4CAzFyD,oEA0GzD,WAAuClE,EAAIoO,GAA3C,iBAAAxM,EAAA,sEACsBC,MAAM,sCAAuC,CAC3D0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAAC3E,KAAIoO,aAJlC,cACUtM,EADV,gBAMuBA,EAAIC,OAN3B,QAMU6C,EANV,QAQY,GACJyH,EAAoBzH,EAAI,GAAQA,EAAI,QAEpCR,MAAM,sDAXd,4CA1GyD,oEAyHzD,WAA4CpE,EAAIoO,GAAhD,iBAAAxM,EAAA,sEACsBC,MAAM,2CAA4C,CAChE0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAAC3E,KAAIoO,aAJlC,cACUtM,EADV,gBAMuBA,EAAIC,OAN3B,QAMU6C,EANV,QAQY,GACJ0H,EAAyB1H,EAAI,GAAQA,EAAI,QAEzCR,MAAM,4DAXd,4CAzHyD,sBAwIzD,OA5HAiK,qBAAU,WACN,IAAIC,EAAQ7B,EAAS8B,OACjBC,EAAY,GACZF,KACAA,EAAQA,EAAMG,MAAM,EAAEH,EAAMnM,SACAuM,MAAM,KAClBC,SAAQ,SAACC,GACrBJ,EAAUI,EAASF,MAAM,KAAK,IAAME,EAASF,MAAM,KAAK,MAE5D9B,EAAU4B,EAAS,WAExB,IAiHEnP,EAOD,qCACI,uBAAMF,UAAU,kBAAhB,UACI,iDACA,cAACiH,EAAA,EAAD,CAAOC,KAAgB,cAAVsG,EAAwB/G,QAAQ,UAAUU,QAAS,kBAAMsG,EAAU,KAAKrG,aAAW,EAAhG,SACI,mBAAGpH,UAAU,OAAb,8CAEJ,cAACiH,EAAA,EAAD,CAAOC,KAAgB,WAAVsG,EAAqB/G,QAAQ,UAAUU,QAAS,kBAAMsG,EAAU,KAAKrG,aAAW,EAA7F,SACI,mBAAGpH,UAAU,OAAb,2CAEJ,cAAC4J,EAAD,CACIrB,QAASA,EACTlI,cAAeA,EACfwJ,YAAaA,EACbC,SAAUA,EACVC,SAAUA,EACVC,2BAA4BA,IAEhC,eAAC0F,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACjP,KAAK,KAAKZ,UAAU,WAAlD,UACI,gCACA,+BACI,oBAAIA,UAAU,6BACd,qBAAIA,UAAU,wCAAd,cACI,sBAAKA,UAAU,kBAAf,UACI,cAAC,IAAD,CACIW,QAAS,kBAAMyM,EAAc,UAAW,QACxC0C,MAA+B,YAAvBzC,EAAS,OAAiD,QAAtBA,EAAS,KAAsB,OAAQ,UAEvF,cAAC,IAAD,CACI1M,QAAS,kBAAMyM,EAAc,UAAW,SACxC0C,MAA+B,YAAvBzC,EAAS,OAAiD,SAAtBA,EAAS,KAAuB,OAAQ,gBAIhG,sCACI,sBAAKrN,UAAU,kBAAf,UACI,cAAC,IAAD,CACIW,QAAS,kBAAMyM,EAAc,OAAQ,QACrC0C,MAA+B,SAAvBzC,EAAS,OAA8C,QAAtBA,EAAS,KAAsB,OAAQ,UAEpF,cAAC,IAAD,CACI1M,QAAS,kBAAMyM,EAAc,OAAQ,SACrC0C,MAA+B,SAAvBzC,EAAS,OAA8C,SAAtBA,EAAS,KAAuB,OAAQ,gBAI7F,4BAGJ,kCACA,+BACI,oBAAIrN,UAAU,cAAd,SACI,qBAAKA,UAAU,4EAAf,SACI,cAAC0F,EAAA,EAAD,CAAM1F,UAAU,4EAAhB,SACI,cAAC0F,EAAA,EAAK2D,MAAN,CACIvI,KAAK,WACLd,UAAU,iBACVgB,SAAU,SAACC,GA7KvC2M,GACAD,EAAoB,IACpBE,GAAc,KAEdF,EAAoB9B,EAAkBtF,KAAI,SAACwJ,GAAD,OAAgBA,EAAS,OACnElC,GAAc,KAyKc7E,QAAS4E,UAKzB,oBAAIoC,QAAQ,MACZ,qBAAIhQ,UAAU,mBAAd,UACI,cAACwG,EAAA,EAAD,CAAQ5E,GAAID,IAAMH,GAAG,yCAAyCiF,QAAQ,UAAUzG,UAAU,iBAA1F,SAA2G,cAAC,IAAD,MACrF,eAArB8E,KAAmD,IAAdoJ,GAElC,cAAC1H,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiB0G,UAAQ,EAA7D,SACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,WAIpB,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiBW,QAAS,kBAAMyN,IAAwB,EAAG,IAA/F,SAAmG,cAAC,IAAD,MAEvG,cAAC5H,EAAA,EAAD,CAAQC,QAAQ,SAASzG,UAAU,iBAAiBW,QAAS,kBAAMmO,IAAsB,IAAzF,SAA6F,cAAC,IAAD,YAGpGjD,EAAkBtF,KAAI,SAACwJ,GAAD,OACnB,+BACI,oBAAI/P,UAAU,cAAd,SACI,qBAAKA,UAAU,4EAAf,SACI,cAAC0F,EAAA,EAAD,CAAM1F,UAAU,4EAAhB,SACI,cAAC0F,EAAA,EAAK2D,MAAN,CACIvI,KAAK,WACLd,UAAU,iBACVgB,SAAU,SAACC,GAAD,OAtMlB2L,EAsMgDmD,EAAS,GArMrFlC,GAAc,QACVH,EAAiB3E,SAAS6D,GAC1Be,EAAoBD,EAAiBrH,QAAO,SAACxF,GAAD,OAASA,GAAM+L,MAE3De,EAAoB,GAAD,mBAAKD,GAAL,CAAuBd,MALlD,IAAgCA,GAuMQ5D,QAAS0E,EAAiB3E,SAASgH,EAAS,YAK5D,oBAAI/P,UAAU,cAAd,SAA6B+P,EAAS,UACtC,+BACI,eAAC,IAAD,CAAMvO,GAAI,sBAAwBuO,EAAS,GAAQlP,GAAIkP,EAAS,GAAS,QAAzE,UACI,qBAAK5M,IAAK4M,EAAS,KAAWA,EAAS,KAAW,0BAA2B/P,UAAU,iBACvF,sBAAMA,UAAU,gBAAhB,SAAiC+P,EAAS,UAE7CA,EAAS,UAEN,eAAC5E,EAAA,EAAD,CAAOC,MAAI,EAAC3E,QAAQ,UAAUzG,UAAU,OAAxC,UACA,sBAAMA,UAAU,OAAhB,SACK+P,EAAS,eAEV,cAAC,IAAD,CAASnO,GAAI4E,IACJ7F,QAAS,kBAAMyN,GAAuB2B,EAAS,GAAQ,IACvD/P,UAAU,oBAIvB,6BAEF+P,EAAS,YAYP,6BAVA,eAAC5E,EAAA,EAAD,CAAOC,MAAI,EAAC3E,QAAQ,SAASzG,UAAU,OAAvC,UACA,sBAAMA,UAAU,OAAhB,8BAGI,cAAC,IAAD,CAAS4B,GAAI4E,IACJ7F,QAAS,kBA1QG,8CA0QGsP,CAAwBF,EAAS,GAAQ,IACxD/P,UAAU,oBAM1B+P,EAAS,iBAEN,eAAC5E,EAAA,EAAD,CAAOC,MAAI,EAAC3E,QAAQ,UAAUzG,UAAU,OAAxC,UACA,sBAAMA,UAAU,OAAhB,+BAGI,cAAC,IAAD,CAAS4B,GAAI4E,IACJ7F,QAAS,kBAxRG,8CAwRGuP,CAA6BH,EAAS,GAAQ,IAC7D/P,UAAU,oBAIvB,gCAGR,qBAAIA,UAAU,mBAAd,UACI,cAACwG,EAAA,EAAD,CAAQ5E,GAAID,IAAMH,GAAI,4CAA8CuO,EAAS,GAAStJ,QAAQ,OAAOzG,UAAU,iBAA/G,SAAgI,cAAC,IAAD,MAC1G,eAArB8E,IAAqCoJ,KAAa6B,EAAS,GAExD,cAACvJ,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiB0G,UAAQ,EAA7D,SACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,WAIpB,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiBW,QAAS,kBAAMyN,GAAuB2B,EAAS,IAASA,EAAS,YAAtH,SAAsI,cAAC,IAAD,MAE1I,cAACvJ,EAAA,EAAD,CAAQC,QAAQ,SAASzG,UAAU,iBAAiBW,QAAS,kBAAMmO,GAAqBiB,EAAS,KAAjG,SAA0G,cAAC,IAAD,wBAQ9H,eAACrE,EAAA,EAAD,CAAOxE,KAAM4G,EAAmBvC,OAAQ,kBAAMmB,IAAY,IAA1D,UACI,cAAChB,EAAA,EAAM/H,OAAP,CAAcgI,aAAW,EAAzB,SACI,cAACD,EAAA,EAAMtC,MAAP,sCAEJ,eAACsC,EAAA,EAAMvC,KAAP,iCACwB6E,EAAShL,OADjC,QAC8CgL,EAAShL,OAAS,EAAI,MAAQ,GAD5E,kCAGA,eAAC0I,EAAA,EAAMvH,OAAP,WACI,cAACqC,EAAA,EAAD,CAAQC,QAAQ,YAAY9F,QAAS,kBAAM+L,IAAY,IAAvD,qBAGsB,WAArB5H,GAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,SAASC,UAAQ,EAAjC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,SAAS9F,QAAS,kBAAM+L,IAAY,IAApD,gCArMZ,cAAC,IAAD,CAAUlL,GAAG,WCvJV,SAAS2O,GAAT,GAW8C,IAXbjQ,EAWY,EAXZA,WACA2L,EAUY,EAVZA,kBACAtD,EASY,EATZA,QACAlI,EAQY,EARZA,cACA2J,EAOY,EAPZA,2BACAH,EAMY,EANZA,YACAC,EAKY,EALZA,SACAC,EAIY,EAJZA,SACAqD,EAGY,EAHZA,cACAC,EAEY,EAFZA,UACA3C,EACY,EADZA,YACAC,EAAY,EAAZA,SAE5C,EAAgC/G,mBAAS,IAAzC,mBAAOwM,EAAP,KAAiBC,EAAjB,KACA,EAAgCzM,mBAAS,IAAzC,mBAAO0M,EAAP,KAAiBC,EAAjB,KACA,EAAgC3M,mBAAS,MAAzC,mBAAO4M,EAAP,KAAiBC,EAAjB,KAEA,EAAoC7M,mBAAS,IAA7C,mBAAO8M,EAAP,KAAmBC,EAAnB,KACA,EAAkC/M,mBAAS,IAA3C,mBAAOgN,EAAP,KAAkBC,EAAlB,KAWA,SAASC,EAAYV,EAAUE,GAI3B,GAHAD,EAAYD,GACZG,EAAYD,GAEI,IAAZF,GAA8B,IAAZE,EAAgB,CAClC,IAAIS,EAAc,GAMlB,OALAlF,EAAkB2D,SAAQ,SAAAlJ,GACtB,IAAI0K,EAAQtG,EAAYrE,QAAO,SAAA1D,GAAG,OAAIA,EAAG,cAAoB2D,EAAI,MAAQtD,OACzE+N,EAAYzK,EAAI,IAAU,CAAC,MAAS0K,WAExCP,EAAYM,GAIhB,IAAIA,EAAc,GAClBlF,EAAkB2D,SAAQ,SAAAlJ,GACtB,IAAI0K,EAAQtG,EAAYrE,QAAO,SAAA1D,GAAG,OAAKA,EAAG,cAAoB2D,EAAI,IAAUqE,EAAStE,QAAO,SAAA4K,GAAC,OAAKA,EAAC,YAAkBb,GAAYa,EAAC,WAAiBX,KAAW/J,KAAI,SAAA0K,GAAC,OAAIA,EAAC,MAAQlI,SAASpG,EAAG,cAAiBK,OAC7M+N,EAAYzK,EAAI,IAAU,CAAC,MAAS0K,MAExCP,EAAYM,GAGhB,OA/BA7B,qBAAU,WACN,IAAI6B,EAAc,GAClBlF,EAAkB2D,SAAQ,SAAAlJ,GACtB,IAAI0K,EAAQtG,EAAYrE,QAAO,SAAA1D,GAAG,OAAIA,EAAG,cAAoB2D,EAAI,MAAQtD,OACzE+N,EAAYzK,EAAI,IAAU,CAAC,MAAS0K,MAExCP,EAAYM,KACb,IAwBE7Q,EAOD,mCACI,uBAAMF,UAAU,kBAAhB,UACI,iDACA,cAAC4J,EAAD,CACIrB,QAASA,EACTlI,cAAeA,EACfwJ,YAAaA,EACbC,SAAUA,EACVC,SAAUA,EACVC,2BAA4BA,IAGhC,eAACnE,EAAA,EAAD,CAAK7F,UAAU,cAAf,UAEI,cAAC0F,EAAA,EAAKE,MAAN,CAAY5F,UAAU,YAAtB,SACI,eAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAR,UACI,cAAC3E,EAAA,EAAKK,MAAN,CAAYmL,QAAQ,WAApB,mBACA,cAACxL,EAAA,EAAKS,QAAN,CACItF,GAAG,WACHC,KAAK,OACLK,MAAOiP,EACPpP,SAAU,SAACC,GAAD,OAAO6P,EAAY7P,EAAEC,OAAOC,MAAOmP,WAKzD,cAAC5K,EAAA,EAAKE,MAAN,CAAY5F,UAAU,YAAtB,SACI,eAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAR,UACI,cAAC3E,EAAA,EAAKK,MAAN,CAAYmL,QAAQ,WAApB,mBACA,cAACxL,EAAA,EAAKS,QAAN,CACItF,GAAG,WACHC,KAAK,OACLK,MAAOmP,EACPtP,SAAU,SAACC,GAAD,OAAO6P,EAAYV,EAAUnP,EAAEC,OAAOC,eAK5D,cAACuE,EAAA,EAAKE,MAAN,CAAY5F,UAAU,YAAtB,SACI,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAOrK,UAAU,qCAAzB,SACI,cAAC0F,EAAA,EAAK2D,MAAN,CACIvI,KAAK,SACLD,GAAG,SACHM,MAAOuP,EACP1P,SAAU,kBAAM2P,GAAeD,IAC/BpH,MAAM,6CAOtB,eAACoG,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACjP,KAAK,KAAKZ,UAAU,WAAlD,UACI,gCACA,+BACI,qBAAIA,UAAU,wCAAd,cACI,sBAAKA,UAAU,kBAAf,UACI,cAAC,IAAD,CACIW,QAAS,kBAAMyM,EAAc,UAAW,QACxC0C,MAA+B,YAAvBzC,EAAS,OAAiD,QAAtBA,EAAS,KAAsB,OAAQ,UAEvF,cAAC,IAAD,CACI1M,QAAS,kBAAMyM,EAAc,UAAW,SACxC0C,MAA+B,YAAvBzC,EAAS,OAAiD,SAAtBA,EAAS,KAAuB,OAAQ,gBAIhG,sCACI,sBAAKrN,UAAU,kBAAf,UACI,cAAC,IAAD,CACIW,QAAS,kBAAMyM,EAAc,OAAQ,QACrC0C,MAA+B,SAAvBzC,EAAS,OAA8C,QAAtBA,EAAS,KAAsB,OAAQ,UAEpF,cAAC,IAAD,CACI1M,QAAS,kBAAMyM,EAAc,OAAQ,SACrC0C,MAA+B,SAAvBzC,EAAS,OAA8C,SAAtBA,EAAS,KAAuB,OAAQ,gBAI7F,qBAAIrN,UAAU,aAAd,+BACI,sBAAKA,UAAU,sCAAf,UACI,cAAC,IAAD,CACIW,QAAS,kBAAMkQ,EAAa,QAC5Bf,MAAqB,QAAdc,EAAsB,OAAQ,UAEzC,cAAC,IAAD,CACIjQ,QAAS,kBAAMkQ,EAAa,SAC5Bf,MAAqB,SAAdc,EAAuB,OAAQ,qBAMtD,gCACC/E,EACIxF,QAAO,SAAA0J,GAAS,OAAIW,GAAmG,SAAvDS,GAA7BX,EAAST,EAAS,IAAuBS,EAAST,EAAS,IAAlB,MAAqC,MACjHqB,MAAK,SAAC3O,EAAG4O,GACN,GAAkB,KAAdT,EAAkB,OAAO,EAC7B,IAAIU,OAA8BH,GAArBX,EAAS/N,EAAC,IAAuB+N,EAAS/N,EAAC,IAAV,MAA6B,EACvE8O,OAA8BJ,GAArBX,EAASa,EAAC,IAAuBb,EAASa,EAAC,IAAV,MAA6B,EAC3E,OAAIC,EAASC,EAA6B,QAAdX,GAAuB,EAAG,EAClDU,EAASC,EAA6B,QAAdX,EAAsB,GAAI,EAC/C,KAEVrK,KAAI,SAACwJ,GAAD,OACL,+BACI,oBAAI/P,UAAU,cAAd,SAA6B+P,EAAS,UACtC,6BACI,eAAC,IAAD,CAAMvO,GAAI,sBAAwBuO,EAAS,GAAQlP,GAAIkP,EAAS,GAAS,QAAzE,UACI,qBAAK5M,IAAK4M,EAAS,KAAWA,EAAS,KAAW,0BAA2B/P,UAAU,iBACvF,sBAAMA,UAAU,gBAAhB,SAAiC+P,EAAS,YAGlD,oBAAI/P,UAAU,aAAd,cAAyDmR,GAA7BX,EAAST,EAAS,IAAuBS,EAAST,EAAS,IAAlB,MAAqC,oBAtH1H,cAAC,IAAD,CAAUvO,GAAG,WCvDV,SAASgQ,GAAT,GAA+J,IAA7HtR,EAA4H,EAA5HA,WAAyB6J,GAAmG,EAAhHxF,YAAgH,EAAnGwF,UAAUD,EAAyF,EAAzFA,SAAUD,EAA+E,EAA/EA,YAAakG,EAAkE,EAAlEA,UAAW0B,EAAuD,EAAvDA,eAAgBC,EAAuC,EAAvCA,kBAAmBzE,EAAoB,EAApBA,kBAC/IK,EAAWC,cACjB,EAA4B3J,mBAAS,IAArC,mBAAO4J,EAAP,KAAeC,EAAf,KAEA,EAAmB7J,oBAAU,GAA7B,mBAAM/C,EAAN,KAAU8Q,EAAV,KACA,EAAwB/N,mBAAS,CAAC,IAAO,0BAA2B,aAAWuN,IAA/E,mBAAOS,EAAP,KAAaC,EAAb,KACA,EAA0BjO,mBAAS,IAAnC,mBAAOkO,EAAP,KAAcC,EAAd,KACA,EAA8BnO,mBAAS,IAAvC,mBAAOoO,EAAP,KAAgBC,EAAhB,KACA,EAAkCrO,mBAASmG,EAAQ,eAAnD,mBAAOnF,EAAP,KACA,GADA,KAC4ChB,mBAAS,KAArD,mBAAOsO,EAAP,KAAuBC,EAAvB,KACA,EAAwDvO,mBAAS,IAAjE,mBAAOwO,EAAP,KAA6BC,EAA7B,KACA,GAAwBzO,mBAAS,IAAjC,qBAAO0O,GAAP,MAAaC,GAAb,MACA,GAAsC3O,mBAAS,IAA/C,qBAAO4O,GAAP,MAAoBC,GAApB,MACA,GAAwC7O,mBAAS,IAAjD,qBAAO8O,GAAP,MAAqBC,GAArB,MACA,GAAsC/O,mBAAS,CAAC,CAAC,GAAM,EAAG,KAAQ,GAAI,OAAU,EAAG,MAAS,EAAG,OAAU,KAAzG,qBAAOgP,GAAP,MAAoBC,GAApB,MACA,GAAgCjP,mBAAS,CAAC,CAAC,GAAM,EAAG,KAAQ,MAA5D,qBAAOkP,GAAP,MAAiBC,GAAjB,MACA,GAAsCnP,mBAAS,IAA/C,qBAAOoP,GAAP,MAAoBC,GAApB,MACA,GAAgCrP,mBAAS,CAAC,CAAC,GAAM,EAAG,KAAQ,GAAI,aAAWuN,KAA3E,qBAAO+B,GAAP,MAAiBC,GAAjB,MACA,GAAsCvP,oBAAS,GAA/C,qBAAOwP,GAAP,MAAoBC,GAApB,MACA,GAAgDzP,oBAAS,GAAzD,qBAAO0P,GAAP,MAAyBC,GAAzB,MAEA,GAAgD3P,mBAAS,IAAzD,qBAAOkB,GAAP,MAAyBC,GAAzB,MAEMxC,GAAUC,cAmChB,SAASmF,GAAWC,GAChB,OAAOA,EAAIC,QAAQ,MAAO,SAASA,QAAQ,MAAO,SAASA,QAAQ,MAAO,SAASA,QAAQ,KAAM,OA3DoE,8CA8DzK,WAAkC5G,GAAlC,mBAAAwB,EAAA,6DACIxB,EAAE+D,iBACFD,GAAoB,WAEdyO,EAAW,IAAIC,UACZC,OAAO,OAAQ9B,EAAI,SAC5B4B,EAASE,OAAO,QAAS/L,GAAWmK,IACpC0B,EAASE,OAAO,UAAW/L,GAAWqK,IACtCwB,EAASE,OAAO,YAAa,GAAG9O,GAChCwN,EAAqB5C,SAAQ,SAAAlJ,GACzBkN,EAASE,OAAO,mBAAoBpN,MAExC4L,EAAe1C,SAAQ,SAAAlJ,GACnBkN,EAASE,OAAO,aAAcpN,MAElCkN,EAASE,OAAO,OAAQ/L,GAAW2K,KACnCkB,EAASE,OAAO,cAAe/L,GAAW6K,KAC1CgB,EAASE,OAAO,eAAgBhB,IAChCE,GAAYpD,SAAQ,SAAAlJ,GACZA,EAAI,OAAaA,EAAI,SACrBkN,EAASE,OAAO,WAAYnO,KAAKC,UAAL,2BAAmBc,GAAnB,IAAyB,KAAQqB,GAAWrB,EAAI,aAGpFwM,GAAStD,SAAQ,SAAAlJ,GACTA,EAAI,OAAaA,EAAI,SACrBkN,EAASE,OAAO,SAAUnO,KAAKC,UAAL,2BAAmBc,GAAnB,IAAyB,KAAQqB,GAAWrB,EAAI,aAGlFkN,EAASE,OAAO,cAAe/L,GAAWqL,KAC1CE,GAAS1D,SAAQ,SAAAlJ,GACTA,EAAI,MAAYA,EAAI,UAAgBA,EAAI,UACxCkN,EAASE,OAAO,oBAAqBpN,EAAI,SACzCkN,EAASE,OAAO,iBAAkB/L,GAAWrB,EAAI,WAGzDkN,EAASE,OAAO,cAAeN,GAAc,IAAM,KACnDI,EAASE,OAAO,mBAAoBJ,GAAmB,IAAM,KApCjE,UAsCsB5Q,MAAM,mCAAoC,CACxD0C,OAAQ,OACRE,KAAMkO,IAxCd,eAsCU7Q,EAtCV,iBA0CuBA,EAAIC,OA1C3B,SA0CU6C,EA1CV,QA4CY,IAEAA,EAAI,WAAiBsE,EAAQ,eAC7B0H,EAAehM,EAAI,WAGvBlD,GAAQgM,KAAK,uCAEbtJ,MAAM,8BAEVF,GAAoB,IAtDxB,6CA9DyK,oEAuHzK,WAAqC9D,GAArC,mBAAAwB,EAAA,6DACIxB,EAAE+D,iBACFD,GAAoB,WAEdyO,EAAW,IAAIC,UACZC,OAAO,KAAM,GAAG7S,GACzB2S,EAASE,OAAO,OAAQ9B,EAAI,SAC5B4B,EAASE,OAAO,QAAS/L,GAAWmK,IACpC0B,EAASE,OAAO,UAAW/L,GAAWqK,IACtCwB,EAASE,OAAO,YAAa,GAAG9O,GAChCwN,EAAqB5C,SAAQ,SAAAlJ,GACzBkN,EAASE,OAAO,mBAAoBpN,MAExC4L,EAAe1C,SAAQ,SAAAlJ,GACnBkN,EAASE,OAAO,aAAcpN,MAElCkN,EAASE,OAAO,OAAQ/L,GAAW2K,KACnCkB,EAASE,OAAO,cAAe/L,GAAW6K,KAC1CgB,EAASE,OAAO,eAAgBhB,IAChCE,GAAYpD,SAAQ,SAAAlJ,IACZA,EAAI,MAAaA,EAAI,SAAeA,EAAI,WACxCkN,EAASE,OAAO,WAAYnO,KAAKC,UAAL,2BAAmBc,GAAnB,IAAyB,KAAQqB,GAAWrB,EAAI,aAGpFwM,GAAStD,SAAQ,SAAAlJ,IACTA,EAAI,MAAaA,EAAI,SAAeA,EAAI,WACxCkN,EAASE,OAAO,SAAUnO,KAAKC,UAAL,2BAAmBc,GAAnB,IAAyB,KAAQqB,GAAWrB,EAAI,aAGlFkN,EAASE,OAAO,cAAe/L,GAAWqL,KAC1CE,GAAS1D,SAAQ,SAAAlJ,IACRA,EAAI,MAAYA,EAAI,SAAiBA,EAAI,YAC1CkN,EAASE,OAAO,oBAAqBpN,EAAI,SACzCkN,EAASE,OAAO,iBAAkBnO,KAAKC,UAAU,CAAC,GAAMc,EAAI,GAAQ,KAAQqB,GAAWrB,EAAI,MAAW,SAAYA,EAAI,SAAc,QAAWA,EAAI,eAG3JkN,EAASE,OAAO,cAAeN,GAAc,IAAM,KACnDI,EAASE,OAAO,mBAAoBJ,GAAmB,IAAM,KArCjE,UAuCsB5Q,MAAM,mCAAoC,CACxD0C,OAAQ,OACRE,KAAMkO,IAzCd,eAuCU7Q,EAvCV,iBA2CuBA,EAAIC,OA3C3B,SA2CU6C,EA3CV,QA6CY,IAEAA,EAAI,WAAiBsE,EAAQ,cAC7B2H,EAAkBjM,EAAI,WAEtBwH,EAAkBxH,EAAI,UAAJ,IAGtBlD,GAAQgM,KAAK,oCAEbtJ,MAAM,8BAEVF,GAAoB,IAzDxB,6CAvHyK,sBAmLzK,SAAS4O,GAAY7S,EAAMK,EAAOyS,GAC9B,IAAIC,EAAgB,GACpBjB,GAAYpD,SAAQ,SAAClJ,GACjB,GAAIA,EAAI,IAAUsN,EAAU,IAAkB,aAAR9S,EAAqB,CACvD,IAAIgT,EAAgB,GACpB,OAAQhT,GACJ,IAAK,OACDgT,EAAa,2BAAOF,GAAP,IAAmB,KAAQzS,IACxC,MACJ,IAAK,SACD2S,EAAa,2BAAOF,GAAP,IAAmB,OAAUzS,IAC1C,MACJ,IAAK,QACD2S,EAAa,2BAAOF,GAAP,IAAmB,MAASzS,IACzC,MACJ,IAAK,SACD2S,EAAa,2BAAOF,GAAP,IAAmB,OAAUzS,IAC1C,MACJ,QACI2S,EAAgBF,EAExBC,EAAetF,KAAKuF,OAEC,KAAjBxN,EAAI,KACJuN,EAAetF,KAAKjI,GAEpBuN,EAAetF,KAAf,2BAAwBjI,GAAxB,IAA8B,QAAW,QAIG,KAApDuN,EAAeA,EAAe7Q,OAAO,GAArC,MACA6Q,EAAetF,KAAK,CAAC,GAAMsF,EAAeA,EAAe7Q,OAAO,GAArC,GAA8C,EAAG,KAAQ,GAAI,OAAU,EAAG,MAAS,EAAG,OAAU,IAE/H6Q,EAAeA,EAAe7Q,OAAO,GAArC,QAAqD,EACrD6P,GAAegB,GAGnB,SAASE,GAAWjT,EAAMK,EAAO6S,GAC7B,IAAIC,EAAa,GACjBnB,GAAStD,SAAQ,SAAClJ,GACd,GAAIA,EAAI,IAAU0N,EAAO,IAAkB,aAARlT,EAAqB,CACpD,IAAIoT,EACJA,EAAU,2BAAOF,GAAP,IAAgB,KAAQ7S,IAClC8S,EAAY1F,KAAK2F,OAEI,KAAjB5N,EAAI,KACJ2N,EAAY1F,KAAKjI,GAEjB2N,EAAY1F,KAAZ,2BAAqBjI,GAArB,IAA2B,QAAW,QAIA,KAA9C2N,EAAYA,EAAYjR,OAAO,GAA/B,MACAiR,EAAY1F,KAAK,CAAC,GAAM0F,EAAYA,EAAYjR,OAAO,GAA/B,GAAwC,EAAG,KAAQ,KAE/EiR,EAAYA,EAAYjR,OAAO,GAA/B,QAA+C,EAC/C+P,GAAYkB,GAOhB,SAASE,GAAcrT,EAAMG,EAAGmT,GAC5B,IAAIC,EAAa,GACjBnB,GAAS1D,SAAQ,SAAClJ,GACd,GAAIA,EAAI,IAAU8N,EAAO,IAAkB,aAARtT,EAAqB,CACpD,IAAIwT,EAAa,GACjB,OAAQxT,GACJ,IAAK,UACDwT,EAAU,2BAAOF,GAAP,IAAgB,QAAWnT,EAAEC,OAAOqT,MAAM,KACpD,MACJ,IAAK,OACDD,EAAU,2BAAOF,GAAP,IAAgB,KAAQnT,EAAEC,OAAOC,QAC3C,MACJ,QACImT,EAAaF,EAErBC,EAAY9F,KAAK+F,OAEI,KAAjBhO,EAAI,KACJ+N,EAAY9F,KAAKjI,GAEjB+N,EAAY9F,KAAZ,2BAAqBjI,GAArB,IAA2B,QAAW,QAIA,KAA9C+N,EAAYA,EAAYrR,OAAO,GAA/B,MACAqR,EAAY9F,KAAK,CAAC,GAAM8F,EAAYA,EAAYrR,OAAO,GAA/B,GAAwC,EAAG,KAAQ,GAAI,QAAW,KAE9FqR,EAAYA,EAAYrR,OAAO,GAA/B,QAA+C,EAC/CmQ,GAAYkB,GAGhB,SAASG,GAAa1T,EAAMD,GACxB,OAAQC,GACJ,IAAK,eACD,GAAIsR,EAAqBrJ,SAASlI,GAAK,CACnCwR,EAAwBD,EAAqB/L,QAAO,SAAAC,GAAI,OAAIA,GAAQzF,MACpE,MAEJwR,EAAwB,GAAD,mBAAKD,GAAL,CAA2BvR,KAClD,MACJ,IAAK,WACD,GAAIqR,EAAenJ,SAASlI,GAAK,CAC7BsR,EAAkBD,EAAe7L,QAAO,SAAAC,GAAI,OAAIA,GAAQzF,MACxD,MAEJsR,EAAkB,GAAD,mBAAKD,GAAL,CAAqBrR,MAKlD,OA3QAqO,qBAAU,WACN,IAAIC,EAAQ7B,EAAS8B,OACjBC,EAAY,GAChB,GAAIF,KACAA,EAAQA,EAAMG,MAAM,EAAEH,EAAMnM,SACAuM,MAAM,KAClBC,SAAQ,SAACC,GACrBJ,EAAUI,EAASF,MAAM,KAAK,IAAME,EAASF,MAAM,KAAK,MAE5D9B,EAAU4B,EAAS,QACQ,YAAvBA,EAAS,QACLU,EAAU1J,QAAO,SAAAC,GAAI,OAAIA,EAAI,IAAU+I,EAAS,MAAQrM,OAAS,GAAG,CACpE,IAAIwH,EAAgBuF,EAAU1J,QAAO,SAAAC,GAAI,OAAIA,EAAI,IAAU+I,EAAS,MAAQ,GAC5EsC,EAAMnH,EAAa,IACnBqH,EAAQ,CAAC,IAAOrH,EAAa,KAAWA,EAAa,KAAW,0BAA2B,aAAW2G,IACtGY,EAASvH,EAAa,MACtByH,EAAWzH,EAAa,SACxB2H,EAAkB3H,EAAa,YAC/B6H,EAAwB7H,EAAa,gBACrC+H,GAAQ/H,EAAa,MACrBiI,GAAejI,EAAa,aAC5BmI,GAAgBnI,EAAa,cAC7BqI,GAAe,GAAD,mBAAKrI,EAAa,OAAWjE,KAAI,SAAAD,GAAI,kCAASA,GAAT,IAAe,SAAY,EAAG,QAAW,QAA9E,CAAoF,CAAC,GAAM,EAAG,KAAQ,GAAI,OAAU,EAAG,MAAS,EAAG,OAAU,MAC3JyM,GAAY,GAAD,mBAAKvI,EAAa,KAASjE,KAAI,SAAAD,GAAI,kCAASA,GAAT,IAAe,SAAY,EAAG,QAAW,QAA5E,CAAkF,CAAC,GAAM,EAAG,KAAQ,OAC/G2M,GAAezI,EAAa,aAC5B2I,GAAY,GAAD,mBAAK3I,EAAa,SAAajE,KAAI,SAAAD,GAAI,MAAK,CAAC,GAAMA,EAAI,GAAQ,KAAQA,EAAI,KAAU,KAAQA,EAAI,KAAU,aAAW6K,EAAW,SAAY,EAAG,QAAW,OAA3J,CAAiK,CAAC,GAAM,EAAG,KAAQ,GAAI,aAAWA,MAC7MkC,GAAe7I,EAAa,aAC5B+I,GAAoB/I,EAAa,qBAI9C,IA4OEtK,EAOD,uBAAMF,UAAU,YAAhB,UACe,aAAVwN,EAAwB,0DAAoC,0DAC7D,eAAC9H,EAAA,EAAD,CAAM1F,UAAU,MAAM2F,SAAoB,aAAV6H,EA7SiI,0FA6SjK,UACI,qBAAKxN,UAAU,kBAAf,SACI,eAAC0F,EAAA,EAAKE,MAAN,WACI,qBAAK/E,GAAG,OAAOsC,IAAKyO,EAAI,IAAStO,IAAI,GAAGtD,UAAU,WAClD,uBAAOa,GAAG,QAAQC,KAAK,OAAOd,UAAU,yBAAyBgB,SAAU,SAACC,GAAD,OAnE/F,SAAoBA,GAChB4Q,EAAQ,CAAC,QAAW5Q,EAAEC,OAAOqT,MAAM,GAAI,IAAOE,IAAIC,gBAAgBzT,EAAEC,OAAOqT,MAAM,MAkEiBI,CAAW1T,WAGrG,sBAAKjB,UAAU,MAAf,UAGI,eAAC0F,EAAA,EAAKE,MAAN,CAAYE,UAAU,QAAtB,UACI,cAACJ,EAAA,EAAKK,MAAN,qBACA,cAACL,EAAA,EAAKS,QAAN,CACIrF,KAAK,OACLC,YAAY,QACZI,MAAO2Q,EACP9Q,SAAU,SAACC,GAAD,OAAO8Q,EAAS9Q,EAAEC,OAAOC,QACnCiF,UAAQ,OAKhB,eAACV,EAAA,EAAKE,MAAN,CAAYhE,GAAIiE,IAAK7F,UAAU,OAA/B,UACI,eAACkG,EAAA,EAAD,CAAKD,GAAI,EAAT,UACI,eAACP,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,yBACA,cAACL,EAAA,EAAKS,QAAN,CACItF,GAAG,WACHC,KAAK,OACLC,YAAY,YACZI,MAAO6Q,EACPhR,SAAU,SAACC,GAAD,OAAOgR,EAAWhR,EAAEC,OAAOC,aAI7C,eAACuE,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,wBACA,cAACL,EAAA,EAAKS,QAAN,CACItF,GAAG,WACHe,GAAG,SACHgT,SAAU,EACVC,QAAM,EACN1T,MAAO+Q,EACP4C,UAAQ,EANZ,SAQKhL,EAAQ,eAAmB9G,OAAS,EAAI8G,EAAQ,eAAmBvD,KAAI,SAACoC,GAAD,OAChE,wBACIxH,MAAOwH,EAAE,GACToM,SAAU7C,EAAenJ,SAASJ,EAAE,IACpChI,QAAS,kBAAM6T,GAAa,WAAY7L,EAAE,KAH9C,SAIEA,EAAE,UAER,wBAAQxH,MAAM,KAAd,qCAIhB,cAAC+E,EAAA,EAAD,CAAKD,GAAI,EAAT,SACI,eAACP,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,8BACA,cAACL,EAAA,EAAKS,QAAN,CACItF,GAAG,cACHe,GAAG,SACHgT,SAAU,EACVC,QAAM,EACN1T,MAAOiR,EACP0C,UAAQ,EANZ,SAQKjL,EAAY7G,OAAS,EAElB6G,EAAYtD,KAAI,SAACuC,GAAD,OACZA,EAAC,eAAmB9F,OAAS,EAEzB,0BAAUsG,MAAOR,EAAC,KAAlB,SACKA,EAAC,eAAmBvC,KAAI,SAAAoC,GAAE,OACvB,wBACIxH,MAAOwH,EAAE,GACToM,SAAU3C,EAAqBrJ,SAASJ,EAAE,IAC1ChI,QAAS,kBAAM6T,GAAa,eAAgB7L,EAAE,KAHlD,SAIEA,EAAE,YAIZ,gCAGR,wBAAQxH,MAAM,KAAd,wCAQpB,eAACuE,EAAA,EAAKE,MAAN,CAAYhE,GAAIiE,IAAK7F,UAAU,OAA/B,UACI,cAACkG,EAAA,EAAD,CAAKD,GAAI,EAAT,SACI,eAACP,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,oBACA,cAACL,EAAA,EAAKS,QAAN,CACItF,GAAG,OACHC,KAAK,OACLC,YAAY,OACZI,MAAOmR,GACPtR,SAAU,SAACC,GAAD,OAAOsR,GAAQtR,EAAEC,OAAOC,eAI9C,cAAC+E,EAAA,EAAD,CAAKD,GAAI,EAAT,SACI,eAACP,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,2BACA,cAACL,EAAA,EAAKS,QAAN,CACItF,GAAG,cACHC,KAAK,OACLC,YAAY,cACZI,MAAOqR,GACPxR,SAAU,SAACC,GAAD,OAAOwR,GAAexR,EAAEC,OAAOC,eAIrD,cAAC+E,EAAA,EAAD,CAAKD,GAAI,EAAT,SACI,eAACP,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,4BACA,cAACL,EAAA,EAAKS,QAAN,CACItF,GAAG,eACHC,KAAK,OACLK,MAAOuR,GACP1R,SAAU,SAACC,GAAD,OAAO0R,GAAgB1R,EAAEC,OAAOC,kBAO1D,eAACuE,EAAA,EAAKE,MAAN,CAAYhE,GAAIiE,IAAK7F,UAAU,OAA/B,UACI,cAACkG,EAAA,EAAD,CAAKmE,GAAI,EAAT,SACI,eAAC3E,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,sBACC6M,GAAYvM,QAAO,SAAAuN,GAAU,OAAMA,EAAU,WAAcrN,KAAI,SAAAqN,GAAU,OACtE,cAAClO,EAAA,EAAKS,QAAN,CACItF,GAAI,cAAgB+S,EAAU,GAC9B9S,KAAK,OACLC,YAAY,SACZI,MAAOyS,EAAU,KACjB5S,SAAU,SAACC,GAAD,OAAO0S,GAAY,OAAQ1S,EAAEC,OAAOC,MAAOyS,IACrDoB,OAAQ,SAAC/T,GAAD,OAAO0S,GAAY,YAAa1S,EAAEC,OAAOC,MAAOyS,IACxD5T,UAAU,iBAK1B,cAACkG,EAAA,EAAD,CAAKmE,GAAI,EAAT,SACI,eAAC3E,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,sBACC6M,GAAYvM,QAAO,SAAAuN,GAAU,OAAMA,EAAU,WAAcrN,KAAI,SAAAqN,GAAU,OACtE,cAAClO,EAAA,EAAKS,QAAN,CACItF,GAAI,gBAAkB+S,EAAU,GAChC9S,KAAK,SACLK,MAAOyS,EAAU,OACjB5S,SAAU,SAACC,GAAD,OAAO0S,GAAY,SAAU1S,EAAEC,OAAOC,MAAOyS,IACvD5T,UAAU,iBAK1B,cAACkG,EAAA,EAAD,CAAKmE,GAAI,EAAT,SACI,eAAC3E,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,qBACC6M,GAAYvM,QAAO,SAAAuN,GAAU,OAAMA,EAAU,WAAcrN,KAAI,SAAAqN,GAAU,OACtE,cAAClO,EAAA,EAAKS,QAAN,CACItF,GAAI,eAAiB+S,EAAU,GAC/B9S,KAAK,SACLK,MAAOyS,EAAU,MACjB5S,SAAU,SAACC,GAAD,OAAO0S,GAAY,QAAS1S,EAAEC,OAAOC,MAAOyS,IACtD5T,UAAU,iBAK1B,cAACkG,EAAA,EAAD,CAAKmE,GAAI,EAAT,SACI,eAAC3E,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,sBACC6M,GAAYvM,QAAO,SAAAuN,GAAU,OAAMA,EAAU,WAAcrN,KAAI,SAAAqN,GAAU,OACtE,cAAClO,EAAA,EAAKS,QAAN,CACItF,GAAI,gBAAkB+S,EAAU,GAChC9S,KAAK,SACLK,MAAOyS,EAAU,OACjB5S,SAAU,SAACC,GAAD,OAAO0S,GAAY,SAAU1S,EAAEC,OAAOC,MAAOyS,IACvD5T,UAAU,oBAQ9B,eAAC0F,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,oBACC+M,GAASzM,QAAO,SAAA2N,GAAO,OAAMA,EAAO,WAAczN,KAAI,SAAAyN,GAAO,OAC1D,cAACtO,EAAA,EAAKS,QAAN,CACItF,GAAI,WAAamT,EAAO,GACxBpS,GAAG,WACHb,YAAY,kBACZI,MAAO6S,EAAO,KACdhT,SAAU,SAACC,GAAD,OAAO8S,GAAW,OAAQ9S,EAAEC,OAAOC,MAAO6S,IACpDgB,OAAQ,SAAC/T,GAAD,OAAO8S,GAAW,YAAa9S,EAAEC,OAAOC,MAAO6S,IACvDiB,KAAM,EACNjV,UAAU,eAMtB,eAAC0F,EAAA,EAAKE,MAAN,CAAYE,UAAU,cAAtB,UACI,cAACJ,EAAA,EAAKK,MAAN,kCACA,cAACL,EAAA,EAAKS,QAAN,CACIvE,GAAG,WACHb,YAAY,qBACZI,MAAO6R,GACPhS,SAAU,SAACC,GAAD,OAAOgS,GAAehS,EAAEC,OAAOC,aAKjD,eAACuE,EAAA,EAAKE,MAAN,CAAYhE,GAAIiE,IAAhB,UACI,cAACK,EAAA,EAAD,CAAKmE,GAAI,GAAT,SACI,cAAC3E,EAAA,EAAKK,MAAN,0BAEHmN,GAAS7M,QAAO,SAAA+N,GAAO,OAAMA,EAAO,WAAc7N,KAAI,SAAA6N,GAAO,OAC1D,qCACI,cAAClO,EAAA,EAAD,CAAKmE,GAAI,EAAT,SACI,cAAC3E,EAAA,EAAKS,QAAN,CACItF,GAAI,WAAauT,EAAO,GACxBtT,KAAK,OACLC,YAAY,eACZI,MAAOiT,EAAO,KACdpT,SAAU,SAACC,GAAD,OAAOkT,GAAc,OAAQlT,EAAGmT,IAC1CY,OAAQ,SAAC/T,GAAD,OAAOkT,GAAc,YAAalT,EAAEC,OAAOC,MAAOiT,IAC1DpU,UAAU,OACVoG,SAAUgO,EAAO,YAGzB,cAAClO,EAAA,EAAD,CAAKmE,GAAI,EAAGrK,UAAU,4BAAtB,SACKoU,EAAO,KAEJ,mBAAGc,KAAMd,EAAO,KAAUlT,OAAO,SAAjC,SAA2CkT,EAAO,OAElD,uBACIvT,GAAI,QAAUuT,EAAO,GACrBtT,KAAK,OACLE,SAAU,SAACC,GAAD,OAAOkT,GAAc,UAAWlT,EAAGmT,IAC7CpU,UAAU,sCASlC,cAAC0F,EAAA,EAAKE,MAAN,UACI,cAACF,EAAA,EAAK2D,MAAN,CACIxI,GAAG,cACHC,KAAK,WACLwI,MAAM,cACNtI,SAAU,SAACC,GAAD,OAAOoS,IAAgBD,KACjCpK,QAASoK,OAKjB,cAAC1N,EAAA,EAAKE,MAAN,UACI,cAACF,EAAA,EAAK2D,MAAN,CACIxI,GAAG,mBACHC,KAAK,WACLwI,MAAM,oBACNtI,SAAU,SAACC,GAAD,OAAOsS,IAAqBD,KACtCtK,QAASsK,OAIK,WAArBxO,GAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,UAAUC,UAAQ,EAAlC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUW,cAAX6G,EAEI,cAAChH,EAAA,EAAD,CAAQC,QAAQ,UAAU3F,KAAK,SAA/B,gCAIA,cAAC0F,EAAA,EAAD,CAAQC,QAAQ,UAAU3F,KAAK,SAA/B,yCAhThB,cAAC,IAAD,CAAUU,GAAG,WCtSV,SAAS2T,GAAT,GAAuJ,IAA5H7M,EAA2H,EAA3HA,UAAW8M,EAAgH,EAAhHA,kBAAmBC,EAA6F,EAA7FA,gBAAiBC,EAA4E,EAA5EA,mBAAoBC,EAAwD,EAAxDA,kBAAmBC,EAAqC,EAArCA,cAAeC,EAAsB,EAAtBA,mBAC3I,EAA4D7R,qBAA5D,mBAAO8R,EAAP,KAA+BC,EAA/B,KACA,EAAsD/R,oBAAS,GAA/D,mBAAOgS,EAAP,KAA4BC,EAA5B,KACA,EAAgCjS,oBAAS,GAAzC,mBAAOkS,EAAP,KAAiBC,EAAjB,KAEA,EAAgDnS,qBAAhD,mBAAOoS,EAAP,KAAyBC,EAAzB,KACA,EAA8BrS,mBAAS,IAAvC,mBAAOoF,EAAP,KAAgBC,EAAhB,KACA,EAAgDrF,oBAAS,GAAzD,mBAAO6E,EAAP,KAAyBC,EAAzB,KAEA,EAAsD9E,mBAAS0E,EAAS,MAAxE,mBAAO4N,EAAP,KAA4BC,EAA5B,KACA,EAA4DvS,qBAA5D,mBAAOwS,EAAP,KAA+BC,EAA/B,KAEA,EAAgDzS,mBAAS,IAAzD,mBAAOkB,EAAP,KAAyBC,GAAzB,KACA,GAAoCnB,oBAAU,GAA9C,qBAAO0S,GAAP,MAAmBC,GAAnB,MASA,SAAS5O,GAAWC,GAChB,OAAOA,EAAIC,QAAQ,MAAO,SAASA,QAAQ,MAAO,SAASA,QAAQ,MAAO,SAASA,QAAQ,KAAM,OAvB4D,8CA8DjK,WAAqC5G,GAArC,iBAAAwB,EAAA,6DACIxB,EAAE+D,iBACFD,GAAoB,YAFxB,SAIsBrC,MAAM,iCAAkC,CACtD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAAC,YAAe8C,EAAS,GAAQ,iBAAoBX,GAAWqO,OAP7F,cAIUrT,EAJV,gBASuBA,EAAIC,OAT3B,QASU6C,EATV,QAWY,IACJ2P,EAAkB3P,EAAI,aAAkB6C,GACxC2N,EAAoB,KAEpBhR,MAAM,uDAEVF,GAAoB,IAjBxB,6CA9DiK,oEAkFjK,WAAmC9D,GAAnC,iBAAAwB,EAAA,6DACIxB,EAAE+D,iBACFD,GAAoB,UAFxB,SAIsBrC,MAAM,+BAAgC,CACpD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAAC,YAAe8C,EAAS,GAAQ,oBAAuBX,GAAWuO,OAPhG,cAIUvT,EAJV,gBASuBA,EAAIC,OAT3B,QASU6C,EATV,QAWY,IACJ4P,EAAgB5P,EAAI,iBAAsB6C,GAC1CuN,GAAuB,IAEvB5Q,MAAM,4CAEVF,GAAoB,IAjBxB,6CAlFiK,+BAsGlJyR,GAtGkJ,iFAsGjK,WAAsCvV,GAAtC,iBAAAwB,EAAA,6DACIxB,EAAE+D,iBACFD,GAAoB,UACpBwR,GAAcb,GAHlB,SAKsBhT,MAAM,kCAAmC,CACvD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAAC,eAAkBkQ,EAAwB,uBAA0B/N,GAAWyO,OAR7G,cAKUzT,EALV,gBAUuBA,EAAIC,OAV3B,QAUU6C,EAVV,QAYY,IACJ6P,EAAmB7P,EAAI,oBAAyB6C,EAAWoN,GAC3DC,EAA0B,IAE1B1Q,MAAM,+CAGVsR,IAAe,GACfxR,GAAoB,IApBxB,6CAtGiK,sBA6HjK,SAAS0R,GAAwBC,GAC7B,IAAIC,EAAkB,GAClBC,GAAkB,GACE,IAApBF,EAC0B,aAAtBpO,EAAS,KACTqO,EAAkB3N,EAEK,IAAnBA,EAAQhG,QACR4T,GAAkB,EAClBD,EAAkBrO,EAAS,eAAmB/B,KAAI,SAACoC,GAAD,OAASA,EAAE,QAE7DiO,EAAkBnO,EAClBkO,EAAkB3N,GAI1B2N,EAAgBpI,KAAKmI,GAEzBnB,EAAkBoB,EAAiBC,EAAiBtO,GAGxD,OAnIA4G,qBAAU,WACFsG,IAAkBlN,EAAS,KAC3BW,EAAW,IACXwM,OAEL,CAACD,IA+HA,eAAC9F,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACjP,KAAK,KAAKZ,UAAU,WAAlD,UACI,gCACA,+BACI,oBAAIA,UAAU,2BAAd,SACK4V,EAEG,8BACI,cAAClQ,EAAA,EAAD,CAAMC,SA1JmI,6CA0JzI,SACI,eAACD,EAAA,EAAKE,MAAN,CAAY5F,UAAU,uBAAtB,UACI,cAACkG,EAAA,EAAD,CAAKmE,GAAI,GAAT,SACI,cAAC3E,EAAA,EAAKS,QAAN,CACIrF,KAAK,OACLC,YAAY,iBACZI,MAAO+U,EACPlV,SAAU,SAACC,GAAD,OAAOkV,EAAuBlV,EAAEC,OAAOC,QACjDiF,UAAQ,MAGhB,cAACF,EAAA,EAAD,CAAKmE,GAAI,EAAT,SAC0B,WAArBvF,IAAiD,IAAhBwR,GAE9B,eAAC9P,EAAA,EAAD,CAAQC,QAAQ,UAAUC,UAAQ,EAAlC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAU3F,KAAK,SAASd,UAAU,eAAlD,6BASpB,sBAAKA,UAAU,kBAAf,UACI,cAAC0F,EAAA,EAAD,CAAM1F,UAAU,4EAAhB,SACI,cAAC0F,EAAA,EAAK2D,MAAN,CACIvI,KAAK,WACLd,UAAU,iBACVgB,SAAU,SAACC,GApJnCwH,GACAQ,EAAW,IACXP,GAAoB,KAEpBO,EAAWX,EAAS,eAAmB/B,KAAI,SAACoC,GAAD,OAASA,EAAE,OACtDD,GAAoB,KAgJIM,QAASP,MAGjB,qBAAKzI,UAAU,4BAAf,SAA4CsI,EAAS,OACrD,cAAC9B,EAAA,EAAD,CACIC,QAAQ,eACR7F,KAAK,KACLD,QA9K5B,WACIoV,GAAaD,IA8KW9V,UAAU,OAJd,SAMK8V,EAAW,UAAY,cAKxC,qBAAI9V,UAAU,mBAAd,UAC0B,YAArBsI,EAAS,KAEN,mCACI,cAAC9B,EAAA,EAAD,CAAQC,QAAQ,OAAOzG,UAAU,iBAAiBW,QAtL1E,WACIkV,GAAwBD,GACxBD,EAA0B,IAoLN,SAAqFC,EAAsB,cAAC,IAAD,IAAa,cAAC,IAAD,QAG5H,6BAGkB,WAArB9Q,IAAiD,IAAhBwR,GAE9B,cAAC9P,EAAA,EAAD,CAAQC,QAAQ,SAASzG,UAAU,iBAAiB0G,UAAQ,EAA5D,SACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,WAIpB,cAACH,EAAA,EAAD,CAAQC,QAAQ,SAASzG,UAAU,iBAAiBW,QAAS,kBAAM8V,IAAyB,IAA5F,SAAgG,cAAC,IAAD,cAK5G,wBAAOzW,UAAW8V,EAAW,GAAK,SAAlC,UACI,6BACI,oBAAI9F,QAAS,EAAGhQ,UAAU,2BAA1B,SACI,8BACI,cAAC0F,EAAA,EAAD,CAAMC,SA/OmI,6CA+OzI,SACI,eAACD,EAAA,EAAKE,MAAN,CAAY5F,UAAU,uBAAtB,UACI,cAAC0F,EAAA,EAAKK,MAAN,CAAYC,QAAM,EAACC,GAAI,EAAvB,mCACA,cAACC,EAAA,EAAD,CAAKmE,GAAI,GAAIpE,GAAI,EAAjB,SACI,cAACP,EAAA,EAAKS,QAAN,CACIrF,KAAK,OACLC,YAAY,oBACZI,MAAO6U,EACPhV,SAAU,SAACC,GAAD,OAAOgV,EAAoBhV,EAAEC,OAAOC,QAC9CiF,UAAQ,MAGhB,cAACF,EAAA,EAAD,CAAKmE,GAAI,EAAT,SAC0B,aAArBvF,IAAmD,IAAhBwR,GAEhC,eAAC9P,EAAA,EAAD,CAAQC,QAAQ,UAAUC,UAAQ,EAAlC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAU3F,KAAK,SAASd,UAAU,eAAlD,mCAU/BsI,EAAS,eAAmB/B,KAAI,SAAAmD,GAAY,OACzC,+BACI,oBAAI1J,UAAU,2BAAd,SACK0J,EAAY,IAAUgM,EAEnB,8BACI,cAAChQ,EAAA,EAAD,CAAMC,SAAU6Q,GAAhB,SACI,eAAC9Q,EAAA,EAAKE,MAAN,CAAY5F,UAAU,uBAAtB,UACI,cAACkG,EAAA,EAAD,CAAKmE,GAAI,GAAT,SACI,cAAC3E,EAAA,EAAKS,QAAN,CACIrF,KAAK,OACLC,YAAY,oBACZI,MAAOiV,EACPpV,SAAU,SAACC,GAAD,OAAOoV,EAA0BpV,EAAEC,OAAOC,QACpDiF,UAAQ,MAGhB,cAACF,EAAA,EAAD,CAAKmE,GAAI,EAAT,SAC0B,WAArBvF,GAAiCwR,KAAe5M,EAAY,GAEzD,eAAClD,EAAA,EAAD,CAAQC,QAAQ,UAAUC,UAAQ,EAAlC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAU3F,KAAK,SAASd,UAAU,eAAlD,6BASpB,sBAAKA,UAAU,kBAAf,UACI,cAAC0F,EAAA,EAAD,CAAM1F,UAAU,4EAAhB,SACI,cAAC0F,EAAA,EAAK2D,MAAN,CACIvI,KAAK,WACLd,UAAU,iBACVgB,SAAU,SAACC,GAAD,OAzQX0I,EAyQ4CD,EAAY,GAxQvFhB,GAAoB,QAChBM,EAAQD,SAASY,GACjBV,EAAWD,EAAQ3C,QAAO,SAACxF,GAAD,OAASA,GAAM8I,MAEzCV,EAAW,GAAD,mBAAKD,GAAL,CAAcW,MALhC,IAAmCA,GA0QCX,QAASA,EAAQD,SAASW,EAAY,QAG9C,8BAAMA,EAAY,YAI9B,qBAAI1J,UAAU,mBAAd,UACI,cAACwG,EAAA,EAAD,CAAQC,QAAQ,OAAOzG,UAAU,iBAAiBW,QAAS,kBApS/E,SAAoC+V,GAChC,GAAIhB,GAA0BgB,EAC1B,OAAOf,EAA0B,GACrCA,EAA0Be,GAC1BL,EAA0B/N,EAAS,eAAmBjC,QAAO,SAACsC,GAAD,OAASA,EAAE,IAAU+N,KAAiB,GAAzE,MAC1Bb,GAAuB,GA+R0DgB,CAA2BnN,EAAY,KAAxG,SAAkHA,EAAY,IAAUgM,EAAyB,cAAC,IAAD,IAAa,cAAC,IAAD,MACxJ,WAArB5Q,GAAiCwR,KAAe5M,EAAY,GAEzD,cAAClD,EAAA,EAAD,CAAQC,QAAQ,SAASzG,UAAU,iBAAiB0G,UAAQ,EAA5D,SACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,WAIpB,cAACH,EAAA,EAAD,CAAQC,QAAQ,SAASzG,UAAU,iBAAiBW,QAAS,kBAAM8V,GAAwB/M,EAAY,KAAvG,SAAgH,cAAC,IAAD,qBCnV7H,SAASoN,GAAT,GAAoK,IAApI5W,EAAmI,EAAnIA,WAAY2J,EAAuH,EAAvHA,YAAaC,EAA0G,EAA1GA,SAAUiN,EAAgG,EAAhGA,eAAgB3B,EAAgF,EAAhFA,kBAAmB4B,EAA6D,EAA7DA,qBAAsB3B,EAAuC,EAAvCA,gBAAiBC,EAAsB,EAAtBA,mBACxJ,EAA0C1R,qBAA1C,mBAAOqT,EAAP,KAAsBC,EAAtB,KACA,EAAgDtT,mBAAS,IAAzD,mBAAOkB,EAAP,KAAyBC,EAAzB,KAEA,EAA8CnB,oBAAS,GAAvD,mBAAOuT,EAAP,KAAwBC,EAAxB,KACA,EAAgCxT,mBAAS,IAAzC,mBAAOoK,EAAP,KAAiBC,EAAjB,KACA,EAA8CrK,oBAAS,GAAvD,mBAAOgT,EAAP,KAAwBS,EAAxB,KACA,EAAkDzT,mBAAS,CAAC,IAAO,IAAnE,mBAAO0T,EAAP,KAA0BC,EAA1B,KAEA,EAA0C3T,oBAAU,GAApD,mBAAO4R,EAAP,KAAsBgC,EAAtB,KAEA,SAAS7P,EAAWC,GAChB,OAAOA,EAAIC,QAAQ,MAAO,SAASA,QAAQ,MAAO,SAASA,QAAQ,MAAO,SAASA,QAAQ,KAAM,OAGrG,SAAS4P,IACLL,GAAmB,GACnBnJ,EAAY,IACZoJ,GAAmB,GACnBE,EAAqB,CAAC,IAAO,IAC7BxS,EAAoB,IApBsJ,4CAuB9K,WAAkC9D,GAAlC,iBAAAwB,EAAA,6DACIxB,EAAE+D,iBACFD,EAAoB,aAFxB,SAIsBrC,MAAM,8BAA+B,CACnD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAAC,cAAiBmC,EAAWsP,OAP1D,cAIUtU,EAJV,gBASuBA,EAAIC,OAT3B,QASU6C,EATV,QAWY,GACJsR,EAAetR,EAAI,WAEnBR,MAAM,oDAGViS,EAAiB,IACjBnS,EAAoB,IAlBxB,6CAvB8K,sBA4C9K,SAASwQ,EAAkBjH,EAAKsI,EAAiBtO,GAC7C2F,EAAYK,GACZ+I,EAAmBT,GACnBW,EAAqBjP,GACrB8O,GAAmB,GAhDuJ,8CAmD9K,8BAAA3U,EAAA,yDACSmU,GAAuC,IAApB5I,EAAShL,OADrC,uBAEQyU,IACAD,EAAiBF,EAAiB,IAH1C,iCAMIvS,EAAoB,UANxB,SAOsBrC,MAAM,qCAAsC,CAC1D0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAAC,gBAAmBwI,EAAU4I,kBAAiB,YAAeU,EAAiB,OAV5G,cAOU3U,EAPV,iBAYuBA,EAAIC,OAZ3B,SAYU6C,EAZV,QAcY,GACJuR,EAAqBvR,EAAI,uBAA4B6R,EAAmB7R,EAAI,kBAE5ER,MAAM,kDAEVwS,IACAD,EAAiBF,EAAiB,IApBtC,6CAnD8K,sBA0E9K,OAAKpX,EAOD,qCACI,uBAAMF,UAAU,YAAhB,UACI,sDACA,cAAC0F,EAAA,EAAD,CAAMC,SApF4J,4CAoFlK,SACI,eAACD,EAAA,EAAKE,MAAN,CAAYhE,GAAIiE,IAAKC,UAAU,gBAA/B,UACI,cAACJ,EAAA,EAAKK,MAAN,CAAYC,QAAM,EAACC,GAAI,EAAvB,gCACA,cAACC,EAAA,EAAD,CAAKmE,GAAI,GAAIpE,GAAI,EAAjB,SACI,cAACP,EAAA,EAAKS,QAAN,CACIrF,KAAK,OACLC,YAAY,iBACZI,MAAO8V,EACPjW,SAAU,SAACC,GAAD,OAAOiW,EAAiBjW,EAAEC,OAAOC,QAC3CiF,UAAQ,MAGhB,cAACF,EAAA,EAAD,CAAKmE,GAAI,EAAT,SAC0B,cAArBvF,EAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,UAAUC,UAAQ,EAAlC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAU3F,KAAK,SAASd,UAAU,eAAlD,8BAOI,GAAnB8J,EAAQ,GAEL,cAACqL,GAAD,CACI7M,UAAWwB,EACXsL,kBAAmBA,EACnB4B,qBAAsBA,EACtB3B,gBAAiBA,EACjBC,mBAAoBA,EACpBC,kBAAmBA,EACnBC,cAAeA,EACfC,mBAAoB,kBAAM+B,GAAkB,MAGhD,eAACvQ,EAAA,EAAD,CAAOR,QAAQ,SAAf,UACI,cAACQ,EAAA,EAAMkB,QAAP,8CAGA,mBAAGnI,UAAU,OAAb,2EAKP6J,EAAYtD,KAAI,SAAA+B,GAAS,OACtB,cAAC6M,GAAD,CACI7M,UAAWA,EACX8M,kBAAmBA,EACnB4B,qBAAsBA,EACtB3B,gBAAiBA,EACjBC,mBAAoBA,EACpBC,kBAAmBA,EACnBC,cAAeA,EACfC,mBAAoB,kBAAM+B,GAAkB,YAKxD,eAAC9L,EAAA,EAAD,CAAOxE,KAAMiQ,EAAiB5L,OAAQ,kBAAMkM,KAA5C,UACI,cAAC/L,EAAA,EAAM/H,OAAP,CAAcgI,aAAW,EAAzB,SACI,cAACD,EAAA,EAAMtC,MAAP,qCAEJ,cAACsC,EAAA,EAAMvC,KAAP,UACKyN,EAAkB,8DAAgE,sBAAwB5I,EAAShL,OAAS,iBAAmBgL,EAAShL,OAAS,EAAI,QAAO,IAAM,uBAEvL,eAAC0I,EAAA,EAAMvH,OAAP,WACI,cAACqC,EAAA,EAAD,CAAQC,QAAQ,YAAY9F,QAAS,kBAAM8W,KAA3C,qBAGsB,WAArB3S,EAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,SAASC,UAAQ,EAAjC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,SAAS9F,QAAS,kBA/KwH,2CA+KlH+W,IAAxC,gCAnGZ,cAAC,IAAD,CAAUlW,GAAG,W,2CC/EV,SAASmW,GAAT,GAA2C,IAAdC,EAAa,EAAbA,WACxC,OACI,cAAC,KAAD,CACI5G,MAAO,EACPpQ,KAAM,GACNO,MAAOyW,EACPC,MAAM,EACNC,YAAY,YCNT,SAASC,GAAT,GAAsC,IAArBC,EAAoB,EAApBA,OAAQC,EAAY,EAAZA,UACpC,OACI,eAAC/O,EAAA,EAAD,CAAMlJ,UAAU,OAAhB,UACI,eAACkJ,EAAA,EAAKvF,OAAN,WACI,sBAAK3D,UAAU,0CAAf,UACI,cAACkJ,EAAA,EAAKE,MAAN,CAAYpJ,UAAU,YAAtB,SACKiY,EAAS,OAEd,cAAC,GAAD,CACIL,WAAYI,EAAM,gBAG1B,cAAC9O,EAAA,EAAKgP,SAAN,UACKF,EAAM,WAIf,cAAC9O,EAAA,EAAKC,KAAN,UACK6O,EAAM,YCZR,SAASG,GAAT,GAE2D,IAF9BjY,EAE6B,EAF7BA,WAAY6P,EAEiB,EAFjBA,UAAWjG,EAEM,EAFNA,SAAUD,EAEJ,EAFIA,YAAaE,EAEjB,EAFiBA,SAAUqO,EAE3B,EAF2BA,QACrDC,EAC0B,EAD1BA,WAAY1N,EACc,EADdA,SAAU2N,EACI,EADJA,YAAa5N,EACT,EADSA,YAAaoB,EACtB,EADsBA,iBAChDzJ,EAA0B,EAA1BA,YAAaoJ,EAAa,EAAbA,WAClD6B,EAAWC,cAEjB,EAA8B3J,oBAAS,GAAvC,mBAAO2U,EAAP,KAAgBC,EAAhB,KACA,EAA0C5U,mBAAS,IAAnD,mBAAO4G,EAAP,KAAsBiO,EAAtB,KAEA,EAAkD7U,oBAAU,GAA5D,mBAAO8U,EAAP,KAA0BC,EAA1B,KAEA,EAAsC/U,mBAAS,CAAC,WAAc,IAA9D,mBAAOgV,EAAP,KAAoBC,EAApB,KAEA,EAA4CjV,oBAAS,GAArD,mBAAOuI,EAAP,KAAuBC,EAAvB,KACA,EAAqDxI,mBAAS,IAA9D,oBAAOyI,GAAP,MAA2BC,GAA3B,MACA,GAAkD1I,mBAAS,CAAC,WAAc,aAAc,UAAa,eAArG,qBAAO2I,GAAP,MAA0BC,GAA1B,MAEA,GAAgD5I,mBAAS,IAAzD,qBAAOkB,GAAP,MAAyBC,GAAzB,MAgBA,SAAS+T,GAAcC,GACnBF,EAAe,2BAAID,GAAL,IAAkB,WAAcG,KAyBlD,SAASpR,GAAWC,GAChB,OAAOA,EAAIC,QAAQ,MAAO,SAASA,QAAQ,MAAO,SAASA,QAAQ,MAAO,SAASA,QAAQ,KAAM,OAzDhC,8CA4DrE,WAA+B5G,GAA/B,qBAAAwB,EAAA,6DACIxB,EAAE+D,iBACFD,GAAoB,UAEhByJ,EAAQ,IAAIC,KACZC,EAAcF,EAAMG,cAAgB,KAAOH,EAAMI,WAAa,GAAK,IAAMJ,EAAMK,UALvF,SAMsBnM,MAAM,qBAAsB,CAC1C0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAL,2BAAmBoT,GAAnB,IAAgC,OAAUjR,GAAWiR,EAAW,QAAa,YAAe7O,EAAQ,GAAQ,YAAeS,EAAa,GAAQ,MAASkE,OATvK,cAMU/L,EANV,gBAWuBA,EAAIC,OAX3B,QAWU6C,EAXV,QAaY,IACJ6S,EAAY7S,EAAI,QAChBoT,EAAe,CAAC,WAAc,EAAG,OAAU,KAC3CC,GAAc,IAEd7T,MAAM,0CAEVF,GAAoB,IApBxB,6CA5DqE,sBAmFrE,OAnEAmK,qBAAU,WACN,IAAIC,EAAQ7B,EAAS8B,OACjBC,EAAY,GACZF,KACAA,EAAQA,EAAMG,MAAM,EAAEH,EAAMnM,SACAuM,MAAM,KAClBC,SAAQ,SAACC,GACrBJ,EAAUI,EAASF,MAAM,KAAK,IAAME,EAASF,MAAM,KAAK,MAE5DkJ,EAAiB1I,EAAUjD,MAAK,SAAAxG,GAAI,OAAKA,EAAI,IAAU+I,EAAS,OAChEmJ,GAAW,MAEhB,IAuDEtY,EAMDqY,EAEI,cAACvU,EAAD,IAKJ,qCACI,uBAAMhE,UAAU,8BAAhB,UACyB,SAApB+J,EAAQ,KAEL,cAAClH,EAAA,EAAD,CAAQ7C,UAAU,0BAAlB,SACI,cAACgZ,GAAA,EAAD,CAASpX,GAAID,IAAMH,GAAI,4CAA8CgJ,EAAa,GAAlF,SAA0F,cAAC,IAAD,QAG9F,6BAGJ,+BACI,sBAAMxK,UAAU,OAAhB,SAAwBwK,EAAa,OACrC,sBAAMxK,UAAU,cAAhB,UAECwK,EAAa,QACRA,EAAa,QACb,KAELA,EAAa,MAETA,EAAa,QACR,KACA,IAENA,EAAa,KACX,KAELA,EAAa,aAETA,EAAa,SAAeA,EAAa,KACpC,KACA,IAENA,EAAa,YACX,KAELA,EAAa,cAETA,EAAa,SAAeA,EAAa,MAAYA,EAAa,YAC7D,KACA,IAENiB,EAAWjB,EAAa,cACtB,SAKV,eAAC3E,EAAA,EAAD,WACI,cAACK,EAAA,EAAD,CAAKmE,GAAI,GAAI4O,GAAI,EAAjB,SACI,qBAAKpY,GAAG,OAAOsC,IAAKqH,EAAa,KAAWA,EAAa,KAAW,0BAA2BlH,IAAI,GAAGtD,UAAU,aAEpH,eAACkG,EAAA,EAAD,CAAKlG,UAAU,MAAf,UACI,eAAC6F,EAAA,EAAD,WAEI,eAACK,EAAA,EAAD,CAAKgT,GAAI,EAAT,UACI,0CACC1O,EAAa,WAAexH,OAAS,EAElC,cAACmW,GAAA,EAAD,CAAWnZ,UAAU,OAArB,SACKwK,EAAa,WAAejE,KAAI,SAAAD,GAAI,OACjC,cAAC6S,GAAA,EAAUnX,KAAX,UAAiB8H,EAAQ,eAAmBgD,MAAK,SAAA5B,GAAE,OAAKA,EAAE,IAAU5E,KAAnD,YAIzB,+DAKR,eAACJ,EAAA,EAAD,CAAKgT,GAAI,EAAT,UACI,6CACC1O,EAAa,eAAmBxH,OAAS,EAEtC,cAACmW,GAAA,EAAD,CAAWnZ,UAAU,OAArB,SACKwK,EAAa,eAAmBjE,KAAI,SAAAD,GAAI,OACrC,cAAC6S,GAAA,EAAUnX,KAAX,UACK6H,EAAYiD,MAAK,SAAAhE,GAAC,OACfA,EAAC,eAAmBvC,KAAI,SAAAoC,GAAE,OAAIA,EAAE,MAAQI,SAASzC,MADpD,eAEoBwG,MAAK,SAAAnE,GAAE,OAAKA,EAAE,IAAUrC,KAF5C,YAOb,mEAKZ,eAACT,EAAA,EAAD,WAEI,eAACK,EAAA,EAAD,CAAKgT,GAAI,EAAT,UACI,wCACC1O,EAAa,OAAWxH,OAAS,EAE9B,cAACmW,GAAA,EAAD,CAAWnZ,UAAU,OAArB,SACKwK,EAAa,OAAWjE,KAAI,SAAAD,GAAI,OAC7B,cAAC6S,GAAA,EAAUnX,KAAX,UACKsE,EAAI,OAAa,IAAMA,EAAI,KAAW,KAAOA,EAAI,OAAa,YAAcA,EAAI,MAAY,iBAKzG,2DAKR,eAACJ,EAAA,EAAD,CAAKgT,GAAI,EAAT,UACI,sCACC1O,EAAa,KAASxH,OAAS,EAE5B,cAACmW,GAAA,EAAD,CAAWnZ,UAAU,OAArB,SACKwK,EAAa,KAASjE,KAAI,SAAAD,GAAI,OAC3B,cAAC6S,GAAA,EAAUnX,KAAX,UACKsE,EAAI,YAKjB,4DAKZ,cAACT,EAAA,EAAD,UAEI,eAACK,EAAA,EAAD,CAAKmE,GAAI,GAAT,UACI,8CACA,4BACKG,EAAa,mBAK1B,cAAC3E,EAAA,EAAD,UAEI,eAACK,EAAA,EAAD,CAAKmE,GAAI,GAAT,UACI,0CACCG,EAAa,SAAaxH,OAAS,EAEhC,oBAAIhD,UAAU,gBAAd,SACKwK,EAAa,SAAajE,KAAI,SAAAD,GAAI,OAC/B,6BACI,mBAAG4O,KAAM5O,EAAI,KAAUpF,OAAO,SAA9B,SAAwCoF,EAAI,cAKxD,+DAKZ,cAACZ,EAAA,EAAD,CAAMC,SA/M1B,SAA+B1E,GAE3B,OADAA,EAAE+D,kBACyB,IAAvB0T,EAAiCzT,MAAM,yBACvC5C,EAAYkE,KAAI,SAAAD,GAAI,OAAIA,EAAI,eAAiByC,SAASyB,EAAa,KAAWnI,EAAYgE,QAAO,SAAAC,GAAI,OAAKA,EAAI,cAAoBkE,EAAa,eAAkBjE,KAAI,SAAAD,GAAI,OAAIA,EAAI,aAAeyC,SAAS2P,GAClMzT,MAAM,gDAEjBF,GAAoB,cACpB+G,EAAiBtB,EAAa,GAAQkO,GAjBX9L,EAkBLpC,EAAa,GAlBKqC,EAkBG6L,EAjB3CpM,GAAuByD,EAAUjD,MAAK,SAAAxG,GAAI,OAAKA,EAAI,KAAWsG,MAC9DJ,GAAqB7B,EAASmC,MAAK,SAAAxG,GAAI,OAAKA,EAAI,KAAWuG,MAC3DT,GAAkB,QAgBlBrH,GAAoB,KAnBxB,IAA+B6H,EAAaC,GAyNe7M,UAAU,cAAjD,SACI,eAAC0F,EAAA,EAAKG,IAAN,CAAU7F,UAAU,qBAApB,UACKwK,EAAa,cAAoBA,EAAa,iBAE3C,eAACtE,EAAA,EAAD,CAAKmE,GAAG,OAAOrK,UAAU,OAAzB,UACI,cAAC0F,EAAA,EAAKK,MAAN,CAAYmL,QAAQ,UAAUkI,QAAM,EAApC,qBAGA,eAAC1T,EAAA,EAAKS,QAAN,CACItF,GAAG,UACHe,GAAG,SACHT,MAAOuX,EACP1X,SAAU,SAAAC,GAAC,OAAI0X,EAAqBrO,SAASrJ,EAAEC,OAAOC,SAJ1D,UAMI,wBAAQA,MAAM,KAAd,qBACCwJ,EAAStE,QAAO,SAAAC,GAAI,QACjBA,EAAI,WAAiBoE,EAChBrE,QAAO,SAAA1D,GAAG,OAAMA,EAAG,WAAiBA,EAAG,cAAoB6H,EAAa,MACxEjE,KAAI,SAAA5D,GAAG,OAAIA,EAAG,aACdoG,SAASzC,EAAI,KAClBjE,EAAYgE,QAAO,SAAAgF,GAAM,OAAKA,EAAM,cAAoBb,EAAa,MAChEjE,KAAI,SAAA8E,GAAM,OAAIA,EAAM,aACpBtC,SAASzC,EAAI,QACnBtD,OAAS,EAAI2H,EACXtE,QAAO,SAAAC,GAAI,QACRA,EAAI,WAAiBoE,EAChBrE,QAAO,SAAA1D,GAAG,OAAMA,EAAG,WAAiBA,EAAG,cAAoB6H,EAAa,MACxEjE,KAAI,SAAA5D,GAAG,OAAIA,EAAG,aACdoG,SAASzC,EAAI,KAClBjE,EAAYgE,QAAO,SAAAgF,GAAM,OAAKA,EAAM,cAAoBb,EAAa,MAChEjE,KAAI,SAAA8E,GAAM,OAAIA,EAAM,aACpBtC,SAASzC,EAAI,QAErBC,KAAI,SAACiF,GAAD,OACG,wBACIrK,MAAOqK,EAAO,GADlB,SAEE,OAASC,EAAWD,EAAO,YAAkB,QAAUC,EAAWD,EAAO,gBAE/E,wBAAQrK,MAAM,KAAd,6CAIhB,6BAEJ,cAAC+E,EAAA,EAAD,CAAKmE,GAAG,OAAOrK,UAAU,OAAzB,SAC0B,eAArB8E,GAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,UAAUC,UAAQ,EAAlC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CACI1F,KAAK,SACL2F,SACK+D,EAAa,aACdA,EAAa,kBACbA,EAAa,WAWK,IAVlBG,EACKtE,QAAO,SAAAC,GAAI,QACRA,EAAI,WACJoE,EACKrE,QAAO,SAAA1D,GAAG,OAAMA,EAAG,WAAiBA,EAAG,cAAoB6H,EAAa,MACxEjE,KAAI,SAAA5D,GAAG,OAAIA,EAAG,aACdoG,SAASzC,EAAI,KAClBjE,EAAYgE,QAAO,SAAAgF,GAAM,OAAKA,EAAM,cAAoBb,EAAa,MAChEjE,KAAI,SAAA8E,GAAM,OAAIA,EAAM,aACpBtC,SAASzC,EAAI,QACnBtD,OACD,SACA,UACV0D,UACK8D,EAAa,aACdA,EAAa,kBACbA,EAAa,WAWK,IAVlBG,EACKtE,QAAO,SAAAC,GAAI,QACRA,EAAI,WACJoE,EACKrE,QAAO,SAAA1D,GAAG,OAAMA,EAAG,WAAiBA,EAAG,cAAoB6H,EAAa,MACxEjE,KAAI,SAAA5D,GAAG,OAAIA,EAAG,aACdoG,SAASzC,EAAI,KAClBjE,EAAYgE,QAAO,SAAAgF,GAAM,OAAKA,EAAM,cAAoBb,EAAa,MAChEjE,KAAI,SAAA8E,GAAM,OAAIA,EAAM,aACpBtC,SAASzC,EAAI,QACnBtD,OAjCf,SAoCKwH,EAAa,iBAAuB,oBAAsB,4BASvF,0BAAS3J,GAAG,UAAUb,UAAU,cAAhC,UACI,yCACA,cAACkJ,EAAA,EAAD,CAAMlJ,UAAU,OAAhB,SACI,eAAC0F,EAAA,EAAD,CAAMC,SApW2C,6CAoWjD,UACI,eAACuD,EAAA,EAAKvF,OAAN,WACI,cAACuF,EAAA,EAAKE,MAAN,CAAYpJ,UAAU,OAAtB,iCAGA,cAAC,KAAD,CACIgR,MAAO,EACPpQ,KAAM,GACNO,MAAOyX,EAAW,WAClB5X,SAAU8X,GACVhB,YAAY,eAGpB,cAAC5O,EAAA,EAAKC,KAAN,UACI,cAACzD,EAAA,EAAKS,QAAN,CACIvE,GAAG,WACHqT,KAAM,EACNlU,YAAY,uBACZI,MAAOyX,EAAW,OAClB5X,SAAU,SAAAC,GAAC,OAAI4X,EAAe,2BAAID,GAAL,IAAkB,OAAU3X,EAAEC,OAAOC,UAClEiF,UAAQ,MAGhB,cAAC8C,EAAA,EAAK/E,OAAN,UAC0B,WAArBW,GAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,UAAUC,UAAQ,EAAlC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAU3F,KAAK,SAA/B,6BAKfsX,EACI/R,QAAO,SAAAC,GAAI,OACRA,EAAI,cAAoBkE,EAAa,KACjClE,EAAI,cAAoByD,EAAQ,IAA+B,UAArBA,EAAQ,SAGzDxD,KAAI,SAAAyR,GAAM,OACP,cAACD,GAAD,CACIC,OAAQA,EACRC,UAAWI,EAAWvL,MAAK,SAAAxG,GAAI,OAAKA,EAAI,KAAW0R,EAAM,0BAM7E,cAAC1M,EAAD,CACIpE,KAAMiF,EACNZ,OAAQ,WArXhBa,GAAkB,IAsXV9F,KAAM+F,GACNb,QAASe,GACTd,WAAYA,OA5UhB,cAAC,IAAD,CAAUjK,GAAG,WC3FV,SAAS6X,GAAT,GAA8G,IAA/EnZ,EAA8E,EAA9EA,WAAYqE,EAAkE,EAAlEA,YAAa+U,EAAqD,EAArDA,eAAgBC,EAAqC,EAArCA,gBAAiBC,EAAoB,EAApBA,mBACpG,EAAsC5V,mBAAS,GAA/C,mBAAO6V,EAAP,KAAoBC,EAApB,KACA,EAAwC9V,oBAAS,GAAjD,mBAAO+V,EAAP,KAAqBC,EAArB,KACA,EAA0ChW,mBAAS,IAAnD,mBAAOiW,EAAP,KAAsBC,EAAtB,KACA,EAAkDlW,mBAAS,IAA3D,mBAAOmW,EAAP,KAA0BC,EAA1B,KACA,EAA0CpW,oBAAU,GAApD,mBAAOqW,EAAP,KAAsBC,EAAtB,KAEA,EAAgDtW,mBAAS,IAAzD,mBAAOkB,EAAP,KAAyBC,EAAzB,KACA,EAAgCnB,oBAAU,GAA1C,mBAAOsK,EAAP,KAAiBC,EAAjB,KAEA,SAASxG,EAAWC,GAChB,OAAOA,EAAIC,QAAQ,MAAO,SAASA,QAAQ,MAAO,SAASA,QAAQ,MAAO,SAASA,QAAQ,KAAM,OAXmB,4CAuBxH,WAAkC5G,GAAlC,iBAAAwB,EAAA,6DACIxB,EAAE+D,iBACFD,EAAoB,YAFxB,SAIsBrC,MAAM,8BAA+B,CACnD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAAC,cAAiBmC,EAAWkS,OAP1D,cAIUlX,EAJV,gBASuBA,EAAIC,OAT3B,QASU6C,EATV,QAWY,GACJ6T,EAAe7T,EAAI,WAEnBR,MAAM,6CAEVF,EAAoB,IAhBxB,6CAvBwH,kEA0CxH,WAAmC9D,GAAnC,iBAAAwB,EAAA,6DACIxB,EAAE+D,iBACFD,EAAoB,UAFxB,SAIsBrC,MAAM,+BAAgC,CACpD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAACyU,gBAAe,kBAAqBtS,EAAWoS,OAP7E,cAIUpX,EAJV,gBASuBA,EAAIC,OAT3B,QASU6C,EATV,QAWY,IACJ8T,EAAgB9T,EAAI,WACpByU,GAAkB,IAElBjV,MAAM,4CAEVF,EAAoB,IAjBxB,6CA1CwH,+BA8DzGoV,EA9DyG,8EA8DxH,WAA4CtZ,GAA5C,iBAAA4B,EAAA,6DACI0L,EAAYtN,GACZkE,EAAoB,cAFxB,SAGsBrC,MAAM,kCAAmC,CACvD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAAC3E,KAAI,WAAe0D,EAAYuI,MAAK,SAAAxG,GAAI,OAAKA,EAAI,KAAWzF,KAAzC,cANjD,cAGU8B,EAHV,gBAQuBA,EAAIC,OAR3B,QAQU6C,EARV,QAUY,GACJ+T,EAAmB/T,EAAI,GAAQA,EAAI,WAEnCR,MAAM,6CAEVF,EAAoB,IACpBoJ,GAAa,GAhBjB,6CA9DwH,sBAiFxH,OAAKjO,EAOD,uBAAMF,UAAU,YAAhB,UACI,mDACA,cAAC6F,EAAA,EAAD,UACI,eAACH,EAAA,EAAKE,MAAN,CAAY5F,UAAU,OAAtB,UACI,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAOrK,UAAU,qCAAzB,SACI,cAAC0F,EAAA,EAAKK,MAAN,CAAY/F,UAAU,OAAtB,wBAEJ,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAR,SACI,eAAC3E,EAAA,EAAKS,QAAN,CACIvE,GAAG,SACHT,MAAOsY,EACPzY,SAAU,SAAAC,GAAC,OAAIyY,EAAepP,SAASrJ,EAAEC,OAAOC,SAHpD,UAKI,wBAAQA,MAAM,KAAd,wBACA,wBAAQA,MAAM,IAAd,6BACA,wBAAQA,MAAM,IAAd,oCAKhB,eAACuO,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACjP,KAAK,KAAKZ,UAAU,WAAlD,UACI,gCACA,+BACI,oBAAIA,UAAU,OAAd,kBACA,4BAGJ,kCACA,+BACI,uBACA,oBAAIA,UAAU,mBAAd,SACI,cAACwG,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiBW,QAAS,kBAAMiZ,GAAiBD,IAArF,SAAqGA,EAAe,cAAC,IAAD,IAAa,cAAC,IAAD,WAGxIA,EAEG,6BACI,oBAAI3J,QAAS,EAAGhQ,UAAU,2BAA1B,SACI,8BACI,cAAC0F,EAAA,EAAD,CAAMC,SA/HsF,4CA+H5F,SACI,eAACD,EAAA,EAAKE,MAAN,CAAY5F,UAAU,uBAAtB,UACI,cAAC0F,EAAA,EAAKK,MAAN,CAAYC,QAAM,EAACC,GAAI,EAAvB,gCACA,cAACC,EAAA,EAAD,CAAKmE,GAAI,GAAIpE,GAAI,EAAjB,SACI,cAACP,EAAA,EAAKS,QAAN,CACIrF,KAAK,OACLC,YAAY,iBACZI,MAAO0Y,EACP7Y,SAAU,SAACC,GAAD,OAAO6Y,EAAiB7Y,EAAEC,OAAOC,QAC3CiF,UAAQ,MAGhB,cAACF,EAAA,EAAD,CAAKmE,GAAI,EAAT,SAC0B,aAArBvF,EAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,UAAUC,UAAQ,EAAlC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAU3F,KAAK,SAASd,UAAU,eAAlD,mCAW5B,6BAEHuE,EACI8B,QAAO,SAAAC,GAAI,OAAsB,IAAjBmT,GAAwC,IAAhBA,IAAsBnT,EAAI,WAAmC,IAAhBmT,GAAqBnT,EAAI,aAC9GC,KAAI,SAAA3B,GAAS,OACd,+BACKA,EAAS,KAAWqV,EAEjB,6BACI,8BACI,cAACvU,EAAA,EAAD,CAAMC,SAAU,SAAA1E,GAAC,OA7KuE,2CA6KnEmZ,CAAoBnZ,IAAzC,SACI,eAACyE,EAAA,EAAKE,MAAN,CAAY5F,UAAU,uBAAtB,UACI,cAACkG,EAAA,EAAD,CAAKmE,GAAI,GAAT,SACI,cAAC3E,EAAA,EAAKS,QAAN,CACIrF,KAAK,OACLC,YAAY,iBACZI,MAAO4Y,EACP/Y,SAAU,SAACC,GAAD,OAAO+Y,EAAqB/Y,EAAEC,OAAOC,QAC/CiF,UAAQ,MAGhB,cAACF,EAAA,EAAD,CAAKmE,GAAI,EAAT,SAC0B,WAArBvF,EAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,UAAUC,UAAQ,EAAlC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAU3F,KAAK,SAASd,UAAU,eAAlD,+BAUxB,qBAAIA,UAAU,OAAd,UACI,sBAAMA,UAAU,OAAhB,SACK4E,EAAS,OAEbA,EAAS,UAEN,eAACuG,EAAA,EAAD,CAAOC,MAAI,EAAC3E,QAAQ,UAAUzG,UAAU,OAAxC,UACA,sBAAMA,UAAU,OAAhB,0BAGI,cAAC,IAAD,CAAS4B,GAAI4E,IACJ7F,QAAS,kBAAMwZ,EAA6BvV,EAAS,KACrD5E,UAAU,oBAIvB,gCAIZ,qBAAIA,UAAU,mBAAd,UACI,cAACwG,EAAA,EAAD,CAAQC,QAAQ,OAAOzG,UAAU,iBAAiBW,QAAS,kBAtNtDE,EAsNgF+D,EAAS,QArN9GqV,IAAkBpZ,EAClBqZ,GAAkB,IAElBA,EAAiBrZ,GACjBmZ,EAAqBzV,EAAYuI,MAAK,SAAAxG,GAAI,OAAIA,EAAI,KAAWzF,KAAxC,QAL7B,IAA6BA,GAsNL,SAAwG+D,EAAS,KAAWqV,EAAgB,cAAC,IAAD,IAAa,cAAC,IAAD,MACnI,eAArBnV,GAAqCoJ,IAAatJ,EAAS,GAExD,cAAC4B,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiB0G,UAAQ,EAA7D,SACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,WAIpB,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiBW,QAAS,kBAAMwZ,EAA6BvV,EAAS,KAA1G,SAAmH,cAAC,IAAD,wBA9JvI,cAAC,IAAD,CAAUpD,GAAG,WClFV,SAAS6Y,GAAT,GAA+G,IAAnFna,EAAkF,EAAlFA,WAAYyK,EAAsE,EAAtEA,SAAU2P,EAA4D,EAA5DA,aAAcC,EAA8C,EAA9CA,cAAe9O,EAA+B,EAA/BA,WAAY+O,EAAmB,EAAnBA,iBACtG,EAAsC5W,mBAAS,GAA/C,mBAAO6V,EAAP,KAAoBC,EAApB,KACA,EAAoC9V,oBAAS,GAA7C,mBAAO6W,EAAP,KAAmBC,EAAnB,KACA,EAAoD9W,oBAAU,GAA9D,mBAAO+W,EAAP,KAA2BC,EAA3B,KACA,EAAoDhX,mBAAS,IAA7D,mBAAOiX,EAAP,KAA2BC,EAA3B,KACA,EAAkDlX,mBAAS,IAA3D,mBAAOmX,EAAP,KAA0BC,EAA1B,KACA,EAAoCpX,oBAAS,GAA7C,mBAAOgK,EAAP,KAAmBC,EAAnB,KACA,EAA8CjK,mBAAS,IAAvD,mBAAOqX,EAAP,KAAwBC,EAAxB,KACA,EAAoDtX,mBAAS,IAA7D,mBAAOuX,EAAP,KAA2BC,EAA3B,KACA,GAAkDxX,mBAAS,IAA3D,qBAAOyX,GAAP,MAA0BC,GAA1B,MAEA,GAA8C1X,oBAAS,GAAvD,qBAAOuT,GAAP,MAAwBC,GAAxB,MACA,GAAgCxT,mBAAS,IAAzC,qBAAOoK,GAAP,MAAiBC,GAAjB,MAEA,GAAgDrK,mBAAS,IAAzD,qBAAOkB,GAAP,MAAyBC,GAAzB,MACA,GAAgCnB,oBAAU,GAA1C,qBAAOsK,GAAP,MAAiBC,GAAjB,MAEA,SAASzB,KACLgO,GAAc,GAGlB,SAASjD,KACLL,IAAmB,GACnBnJ,GAAY,IAvByG,8CA0DzH,WAAgChN,GAAhC,iBAAAwB,EAAA,6DACIxB,EAAE+D,iBACFD,GAAoB,YAFxB,SAIsBrC,MAAM,4BAA6B,CACjD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAAC2V,qBAAoBE,yBAPlD,cAIU1Y,EAJV,gBASuBA,EAAIC,OAT3B,QASU6C,EATV,QAWY,GACJ6U,EAAa7U,EAAI,SAEjBR,MAAM,2CAEVyH,KACA3H,GAAoB,IAjBxB,6CA1DyH,oEA8EzH,WAAiC9D,GAAjC,iBAAAwB,EAAA,6DACIxB,EAAE+D,iBACFD,GAAoB,UAFxB,SAIsBrC,MAAM,6BAA8B,CAClD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAAC,UAAamV,EAAoBE,qBAAoBE,oBAAmB,UAAapQ,EAASmC,MAAK,SAAAxG,GAAI,OAAKA,EAAI,IAAUqU,KAArC,cAPnH,cAIUhY,EAJV,gBASuBA,EAAIC,OAT3B,QASU6C,EATV,QAWY,GACJ8U,EAAc9U,EAAI,SAElBR,MAAM,2CAEV2V,GAAuB,GACvB7V,GAAoB,IAjBxB,6CA9EyH,+BAkG1GwW,GAlG0G,iFAkGzH,WAA0C1O,GAA1C,mBAAApK,EAAA,6DACI0L,GAAYtB,GACZ9H,GAAoB,cAChByG,EAAUb,EAASmC,MAAK,SAAAxG,GAAI,OAAKA,EAAI,IAAUuG,KAHvD,SAIsBnK,MAAM,gCAAiC,CACrD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAACqH,YAAW,WAAcrB,EAAO,WAAgB,UAAaA,EAAO,UAAe,WAAcA,EAAO,cAPtI,cAIU7I,EAJV,gBASuBA,EAAIC,OAT3B,QASU6C,EATV,QAWY,GACJ8U,EAAc9U,EAAI,SAElBR,MAAM,2CAEVF,GAAoB,IACpBoJ,IAAa,GAjBjB,6CAlGyH,sBAsHzH,SAASqN,GAAmB3a,GACxBuW,IAAmB,GACnB,IAAI9I,EAAM,IACE,IAARzN,EACAyN,EAAM2M,EAEN3M,EAAIC,KAAK1N,GAEboN,GAAYK,GA9HyG,8CAiIzH,8BAAA7L,EAAA,6DACIsC,GAAoB,UADxB,SAEsBrC,MAAM,+BAAgC,CACpD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAACwI,gBAL9B,cAEUrL,EAFV,gBAOuBA,EAAIC,OAP3B,QAOU6C,EAPV,QASY,GACJ+U,EAAiB/U,EAAI,KAErBR,MAAM,8CAEVwS,KACA1S,GAAoB,IAfxB,6CAjIyH,sBAmJzH,OAAK7E,EAOD,qCACI,uBAAMF,UAAU,YAAhB,UACI,gDACA,cAAC6F,EAAA,EAAD,UACI,eAACH,EAAA,EAAKE,MAAN,CAAY5F,UAAU,OAAtB,UACI,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAOrK,UAAU,qCAAzB,SACI,cAAC0F,EAAA,EAAKK,MAAN,CAAY/F,UAAU,OAAtB,wBAEJ,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAR,SACI,eAAC3E,EAAA,EAAKS,QAAN,CACIvE,GAAG,SACHT,MAAOsY,EACPzY,SAAU,SAAAC,GAAC,OAAIyY,EAAepP,SAASrJ,EAAEC,OAAOC,SAHpD,UAKI,wBAAQA,MAAM,KAAd,wBACA,wBAAQA,MAAM,IAAd,6BACA,wBAAQA,MAAM,IAAd,oCAKhB,eAACuO,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACjP,KAAK,KAAKZ,UAAU,WAAlD,UACI,gCACA,+BACI,uBACA,uCACA,uCACA,8CACA,4BAGJ,kCACA,+BACI,oBAAIA,UAAU,cAAd,SACI,qBAAKA,UAAU,4EAAf,SACI,cAAC0F,EAAA,EAAD,CAAM1F,UAAU,4EAAhB,SACI,cAAC0F,EAAA,EAAK2D,MAAN,CACIvI,KAAK,WACLd,UAAU,iBACVgB,SAAU,SAACC,GAtKvC2M,GACAsN,EAAmB,IACnBrN,GAAc,KAEdqN,EAAmBvQ,EACdtE,QAAO,SAAAC,GAAI,OAAsB,IAAjBmT,GAAwC,IAAhBA,IAAsBnT,EAAI,WAAmC,IAAhBmT,GAAqBnT,EAAI,aAC9GC,KAAI,SAAAD,GAAI,OAAIA,EAAI,OAErBuH,GAAc,KA+Jc7E,QAAS4E,UAKzB,oBAAIoC,QAAS,IACb,qBAAIhQ,UAAU,mBAAd,UACI,cAACwG,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiBW,QAAS,kBAAM+Z,GAAeD,IAAnF,SAAiGA,EAAa,cAAC,IAAD,IAAa,cAAC,IAAD,MAC3H,cAACjU,EAAA,EAAD,CAAQC,QAAQ,SAASzG,UAAU,iBAAiBW,QAAS,kBAAM6a,IAAoB,IAAvF,SAA2F,cAAC,IAAD,YAGlG7Q,EACItE,QAAO,SAAAC,GAAI,OAAsB,IAAjBmT,GAAwC,IAAhBA,IAAsBnT,EAAI,WAAmC,IAAhBmT,GAAqBnT,EAAI,aAC9GC,KAAI,SAAAiF,GAAO,OACZ,+BACKA,EAAO,IAAUmP,EAEd,oBAAI3K,QAAS,EAAb,SACI,8BACI,cAACtK,EAAA,EAAD,CAAMC,SAAU,SAAA1E,GAAC,OArNoE,4CAqNhEwa,CAAkBxa,IAAvC,SACI,eAACyE,EAAA,EAAKE,MAAN,CAAY5F,UAAU,uBAAtB,UACI,cAACkG,EAAA,EAAD,CAAKmE,GAAI,EAAT,SACI,cAAC3E,EAAA,EAAKS,QAAN,CACIrF,KAAK,OACLC,YAAY,QACZI,MAAO0Z,EACP7Z,SAAU,SAACC,GAAD,OAAO6Z,EAAsB7Z,EAAEC,OAAOC,QAChDiF,UAAQ,MAGhB,cAACF,EAAA,EAAD,CAAKmE,GAAI,EAAT,SACI,cAAC3E,EAAA,EAAKS,QAAN,CACIrF,KAAK,OACLC,YAAY,QACZI,MAAO4Z,EACP/Z,SAAU,SAACC,GAAD,OAAO+Z,EAAqB/Z,EAAEC,OAAOC,QAC/CiF,UAAQ,MAGhB,cAACF,EAAA,EAAD,CAAKmE,GAAI,EAAT,SAC0B,WAArBvF,GAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,UAAUC,UAAQ,EAAlC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAU3F,KAAK,SAASd,UAAU,eAAlD,+BAUxB,qCACI,oBAAIA,UAAU,cAAd,SACI,qBAAKA,UAAU,4EAAf,SACI,cAAC0F,EAAA,EAAD,CAAM1F,UAAU,4EAAhB,SACI,cAAC0F,EAAA,EAAK2D,MAAN,CACIvI,KAAK,WACLd,UAAU,iBACVgB,SAAU,SAACC,GAAD,OAhO5B4L,EAgOwDrB,EAAO,GA/NzFqC,GAAc,QACVoN,EAAgBlS,SAAS8D,GACzBqO,EAAmBD,EAAgB5U,QAAO,SAACxF,GAAD,OAASA,GAAMgM,MAEzDqO,EAAmB,GAAD,mBAAKD,GAAL,CAAsBpO,MALhD,IAA8BA,GAiOkB7D,QAASiS,EAAgBlS,SAASyC,EAAO,YAKzD,6BACKC,EAAWD,EAAO,cAEvB,6BACKC,EAAWD,EAAO,aAEvB,6BACKA,EAAO,UAEJ,eAACL,EAAA,EAAD,CAAOC,MAAI,EAAC3E,QAAQ,UAAUzG,UAAU,OAAxC,UACI,sBAAMA,UAAU,OAAhB,0BAGA,cAAC,IAAD,CAAS4B,GAAI4E,IACJ7F,QAAS,kBAAM4a,GAA2B/P,EAAO,KACjDxL,UAAU,oBAIvB,kCAKhB,qBAAIA,UAAU,mBAAd,UACI,cAACwG,EAAA,EAAD,CAAQC,QAAQ,OAAOzG,UAAU,iBAAiBW,QAAS,kBAtP1DkM,EAsPoFrB,EAAO,QArPhHmP,GAAsB9N,EACtB+N,GAAuB,IAEvBA,EAAsB/N,GACtBiO,EAAsBnQ,EAASmC,MAAK,SAAAxG,GAAI,OAAKA,EAAI,IAAUuG,KAArC,YACtBmO,EAAqBrQ,EAASmC,MAAK,SAAAxG,GAAI,OAAKA,EAAI,IAAUuG,KAArC,aAN7B,IAA6BA,GAsPD,SAAsGrB,EAAO,IAAUmP,EAAqB,cAAC,IAAD,IAAa,cAAC,IAAD,MACnI,eAArB7V,IAAqCoJ,KAAa1C,EAAO,GAEtD,cAAChF,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiB0G,UAAQ,EAA7D,SACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,WAIpB,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiBW,QAAS,kBAAM4a,GAA2B/P,EAAO,KAAtG,SAA+G,cAAC,IAAD,MAEnH,cAAChF,EAAA,EAAD,CAAQC,QAAQ,SAASzG,UAAU,iBAAiBW,QAAS,kBAAM6a,GAAmBhQ,EAAO,KAA7F,SAAsG,cAAC,IAAD,wBAQ1H,eAACE,EAAA,EAAD,CAAOxE,KAAMuT,EAAYlP,OAAQ,kBAAMmB,MAAvC,UACI,cAAChB,EAAA,EAAM/H,OAAP,CAAcgI,aAAW,EAAzB,SACI,cAACD,EAAA,EAAMtC,MAAP,+BAEJ,eAAC1D,EAAA,EAAD,CAAMC,SAjUuG,6CAiU7G,UACI,eAAC+F,EAAA,EAAMvC,KAAP,WACI,eAACzD,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,2BACA,cAACL,EAAA,EAAKS,QAAN,CACIrF,KAAK,OACLC,YAAY,aACZI,MAAOga,EACPna,SAAU,SAACC,GAAD,OAAOma,EAAsBna,EAAEC,OAAOC,QAChDiF,UAAQ,OAGhB,eAACV,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,0BACA,cAACL,EAAA,EAAKS,QAAN,CACIrF,KAAK,OACLC,YAAY,YACZI,MAAOka,GACPra,SAAU,SAACC,GAAD,OAAOqa,GAAqBra,EAAEC,OAAOC,QAC/CiF,UAAQ,UAIpB,eAACsF,EAAA,EAAMvH,OAAP,WACI,cAACqC,EAAA,EAAD,CAAQC,QAAQ,YAAY9F,QAAS,kBAAM+L,MAA3C,qBAGsB,aAArB5H,GAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,UAAUC,UAAQ,EAAlC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAU3F,KAAK,SAA/B,+BAQhB,eAAC4K,EAAA,EAAD,CAAOxE,KAAMiQ,GAAiB5L,OAAQ,kBAAMkM,MAA5C,UACI,cAAC/L,EAAA,EAAM/H,OAAP,CAAcgI,aAAW,EAAzB,SACI,cAACD,EAAA,EAAMtC,MAAP,qCAEJ,eAACsC,EAAA,EAAMvC,KAAP,iCACwB6E,GAAShL,OADjC,WACqE,IAApBgL,GAAShL,OAAe,IAAM,GAD/E,qBAEI,uBAFJ,wDAKA,eAAC0I,EAAA,EAAMvH,OAAP,WACI,cAACqC,EAAA,EAAD,CAAQC,QAAQ,YAAY9F,QAAS,kBAAM8W,MAA3C,qBAGsB,WAArB3S,GAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,SAASC,UAAQ,EAAjC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,SAAS9F,QAAS,kBAzYmE,2CAyY7D+a,IAAxC,gCApPZ,cAAC,IAAD,CAAUla,GAAG,WCrJV,SAASma,GAAT,GAAsH,IAAxFzb,EAAuF,EAAvFA,WAAYmY,EAA2E,EAA3EA,WAAYuD,EAA+D,EAA/DA,eAAgBC,EAA+C,EAA/CA,gBAAiBC,EAA8B,EAA9BA,kBAAmB/R,EAAW,EAAXA,SACrH,EAAsCnG,mBAAS,GAA/C,mBAAO6V,EAAP,KAAoBC,EAApB,KACA,EAAwC9V,oBAAS,GAAjD,mBAAOmY,EAAP,KAAqBC,EAArB,KACA,EAAoCpY,oBAAS,GAA7C,mBAAOgK,EAAP,KAAmBC,EAAnB,KACA,EAAkDjK,mBAAS,IAA3D,mBAAOqY,EAAP,KAA0BC,EAA1B,KAEA,EAA4DtY,mBAAS,CAAC,IAAO,IAA7E,mBAAOuY,EAAP,KAA+BC,EAA/B,KACA,EAA4CxY,oBAAS,GAArD,mBAAOyY,EAAP,KAAuBC,EAAvB,KAEA,EAA8C1Y,mBAAS,CAAC,KAAQ,GAAI,MAAS,GAAI,WAAc,KAA/F,mBAAO2Y,EAAP,KAAwBC,EAAxB,KAEA,EAAkD5Y,oBAAS,GAA3D,mBAAOkK,GAAP,KAA0BC,GAA1B,KACA,GAAgCnK,mBAAS,IAAzC,qBAAOoK,GAAP,MAAiBC,GAAjB,MAEA,GAAgDrK,mBAAS,IAAzD,qBAAOkB,GAAP,MAAyBC,GAAzB,MACA,GAAgCnB,oBAAU,GAA1C,qBAAOsK,GAAP,MAAiBC,GAAjB,MAEA,SAASxG,GAAWC,GAChB,OAAOA,EAAIC,QAAQ,MAAO,SAASA,QAAQ,MAAO,SAASA,QAAQ,MAAO,SAASA,QAAQ,KAAM,OAGrG,SAAS4U,KACLT,GAAgB,GAChBQ,EAAmB,CAAC,KAAQ,GAAI,MAAS,GAAI,WAAc,KAG/D,SAASE,KACLN,EAA0B,CAAC,IAAO,IAClCE,GAAkB,GAGtB,SAAS7E,KACL1J,IAAqB,GACrBhJ,GAAoB,IACpBoJ,IAAa,GAlC+G,8CAoEhI,WAAkClN,GAAlC,mBAAAwB,EAAA,6DACIxB,EAAE+D,iBACFD,GAAoB,YAEhBkT,EAAY,CAAC,KAAQtQ,GAAW4U,EAAe,MAAW,MAAS5U,GAAW4U,EAAe,OAAY,WAAcpX,iBAAOoX,EAAe,aAJrJ,SAMsB7Z,MAAM,8BAA+B,CACnD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAUyS,KAT7B,cAMUtV,EANV,gBAWuBA,EAAIC,OAX3B,QAWU6C,EAXV,QAaY,GACJmW,EAAenW,EAAI,WAEnBR,MAAM,6CAEVwX,KACA1X,GAAoB,IAnBxB,6CApEgI,oEA0FhI,WAAmC9D,GAAnC,mBAAAwB,EAAA,6DACIxB,EAAE+D,iBACFD,GAAoB,UAEhBkT,EAJR,2BAIwBkE,GAJxB,IAIgD,KAAQxU,GAAWwU,EAAsB,MAAW,MAASxU,GAAWwU,EAAsB,OAAY,WAAeE,EAAiBlX,iBAAOgX,EAAsB,YAAkB,IAJzO,SAMsBzZ,MAAM,+BAAgC,CACpD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAUyS,KAT7B,cAMUtV,EANV,gBAWuBA,EAAIC,OAX3B,QAWU6C,EAXV,QAaY,GACJoW,EAAgBpW,EAAI,WAEpBR,MAAM,6CAEVyX,KACA3X,GAAoB,IAnBxB,6CA1FgI,oEAgHhI,WAA8B4X,EAAaC,GAA3C,mBAAAna,EAAA,sEACsBC,MAAM,mCAAoC,CACxD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CACjBmX,cACA,KAAQC,MANpB,cACUja,EADV,gBASuBA,EAAIC,OAT3B,QASU6C,EATV,QAWY,IACAwS,EADQ,2BACQI,EAAWvL,MAAK,SAAAxG,GAAI,OAAKA,EAAI,KAAWb,EAAI,OADpD,IAC8D,KAAQA,EAAI,OACtFoW,EAAgB5D,IAEhBhT,MAAM,yDAfd,4CAhHgI,+BAmIjH4X,GAnIiH,iFAmIhI,WAA4CF,GAA5C,mBAAAla,EAAA,6DACI0L,GAAYwO,GACZ5X,GAAoB,cAFxB,SAGsBrC,MAAM,kCAAmC,CACvD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CACjBmX,cACA,WAAetE,EAAWvL,MAAK,SAAAxG,GAAI,OAAKA,EAAI,KAAWqW,KAAxC,cAR3B,cAGUha,EAHV,gBAWuBA,EAAIC,OAX3B,QAWU6C,EAXV,QAaY,IACAwS,EADQ,2BACQI,EAAWvL,MAAK,SAAAxG,GAAI,OAAKA,EAAI,KAAWb,EAAI,OADpD,IAC8D,UAAaA,EAAI,YAC3FoW,EAAgB5D,IAEhBhT,MAAM,+CAEVF,GAAoB,IACpBoJ,IAAa,GApBjB,6CAnIgI,sBA0JhI,SAAS2O,GAAqBjc,GAC1BsN,GAAYtN,GACZkN,IAAqB,GACrB,IAAIO,EAAM,IACE,IAARzN,EACAyN,EAAM2N,EAEN3N,EAAIC,KAAK1N,GAEboN,GAAYK,GAnKgH,8CAsKhI,8BAAA7L,EAAA,6DACIsC,GAAoB,UADxB,SAEsBrC,MAAM,iCAAkC,CACtD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAACwI,gBAL9B,cAEUrL,EAFV,gBAOuBA,EAAIC,OAP3B,QAOU6C,EAPV,QASY,GACJqW,EAAkBrW,EAAI,KAEtBR,MAAM,8BAEVwS,KAdJ,4CAtKgI,sBAuLhI,OAAKvX,EAOD,qCACI,uBAAMF,UAAU,YAAhB,UACI,kDACA,cAAC6F,EAAA,EAAD,UACI,eAACH,EAAA,EAAKE,MAAN,CAAY5F,UAAU,OAAtB,UACI,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAOrK,UAAU,qCAAzB,SACI,cAAC0F,EAAA,EAAKK,MAAN,CAAY/F,UAAU,OAAtB,wBAEJ,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAR,SACI,eAAC3E,EAAA,EAAKS,QAAN,CACIvE,GAAG,SACHT,MAAOsY,EACPzY,SAAU,SAAAC,GAAC,OAAIyY,EAAepP,SAASrJ,EAAEC,OAAOC,SAHpD,UAKI,wBAAQA,MAAM,KAAd,wBACA,wBAAQA,MAAM,IAAd,6BACA,wBAAQA,MAAM,IAAd,oCAKhB,eAACuO,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACjP,KAAK,KAAKZ,UAAU,WAAlD,UACI,gCACA,+BACI,uBACA,sCACA,uCACA,qCACA,4BAGJ,kCACA,+BACI,oBAAIA,UAAU,cAAd,SACI,qBAAKA,UAAU,4EAAf,SACI,cAAC0F,EAAA,EAAD,CAAM1F,UAAU,4EAAhB,SACI,cAAC0F,EAAA,EAAK2D,MAAN,CACIvI,KAAK,WACLd,UAAU,iBACVgB,SAAU,WA/LtC4M,GACAsO,EAAqB,IACrBrO,GAAc,KAEdqO,EAAqB7D,EAChBhS,QAAO,SAAAC,GAAI,OAAsB,IAAjBmT,GAAwC,IAAhBA,IAAsBnT,EAAI,WAAmC,IAAhBmT,GAAqBnT,EAAI,aAC9GD,QAAO,SAAAC,GAAI,OAAKA,EAAI,cAAoByD,EAAQ,iBAChDxD,KAAI,SAAAD,GAAI,OAAIA,EAAI,OAErBuH,GAAc,KAuLc7E,QAAS4E,UAKzB,oBAAIoC,QAAS,IACb,qBAAIhQ,UAAU,mBAAd,UACI,cAACwG,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiBW,QAAS,kBAAMqb,GAAiBD,IAArF,SAAqGA,EAAe,cAAC,IAAD,IAAa,cAAC,IAAD,MACjI,cAACvV,EAAA,EAAD,CAAQC,QAAQ,SAASzG,UAAU,iBAAiBW,QAAS,kBAAMmc,IAAsB,IAAzF,SAA6F,cAAC,IAAD,YAGpGzE,EACIhS,QAAO,SAAAC,GAAI,OAAsB,IAAjBmT,GAAwC,IAAhBA,IAAsBnT,EAAI,WAAmC,IAAhBmT,GAAqBnT,EAAI,aAC9GD,QAAO,SAAAC,GAAI,OAAMA,EAAI,cAAoByD,EAAQ,iBACjDxD,KAAI,SAAA0R,GAAS,OACd,+BACI,oBAAIjY,UAAU,cAAd,SACI,qBAAKA,UAAU,4EAAf,SACI,cAAC0F,EAAA,EAAD,CAAM1F,UAAU,4EAAhB,SACI,cAAC0F,EAAA,EAAK2D,MAAN,CACIvI,KAAK,WACLd,UAAU,iBACVgB,SAAU,kBAzMpB6L,EAyM+CoL,EAAS,GAxMlFpK,GAAc,QACVoO,EAAkBlT,SAAS8D,GAC3BqP,EAAqBD,EAAkB5V,QAAO,SAACxF,GAAD,OAASA,IAAOgM,MAE9DqP,EAAqB,GAAD,mBAAKD,GAAL,CAAwBpP,MALpD,IAA8BA,GA0MU7D,QAASiT,EAAkBlT,SAASkP,EAAS,YAK7D,+BACI,sBAAMjY,UAAU,OAAhB,SACKiY,EAAS,OAEbA,EAAS,UAEN,eAAC9M,EAAA,EAAD,CAAOC,MAAI,EAAC3E,QAAQ,UAAUzG,UAAU,OAAxC,UACY,sBAAMA,UAAU,OAAhB,0BAGR,cAAC,IAAD,CAAS4B,GAAI4E,IACJ7F,QAAS,kBAAMkc,GAA6B5E,EAAS,KACrDjY,UAAU,oBAIvB,gCAGR,6BACKiY,EAAS,QAEd,6BACI,eAACvS,EAAA,EAAKS,QAAN,CACIvE,GAAG,SACHT,MAAO8W,EAAS,KAChBjX,SAAU,SAACC,GAAD,OA5RsF,8CA4R/E8b,CAAe9E,EAAS,GAAQhX,EAAEC,OAAOC,QAH9D,UAKI,wBAAQA,MAAM,QAAd,mBACA,wBAAQA,MAAM,YAAd,uBACA,wBAAQA,MAAM,iBAAd,iCAGR,qBAAInB,UAAU,mBAAd,UACI,cAACwG,EAAA,EAAD,CAAQC,QAAQ,OAAOzG,UAAU,iBAAiBW,QAAS,kBAxOxDgc,EAwOoF1E,EAAS,QAvOpHkE,EAAsB,KAAWQ,EACjCD,KAEAN,EAA0B/D,EAAWvL,MAAK,SAAAxG,GAAI,OAAKA,EAAI,KAAWqW,OAJ1E,IAA+BA,GAwOH,SAA0G1E,EAAS,KAAWkE,EAAyB,cAAC,IAAD,IAAa,cAAC,IAAD,MAC9I,eAArBrX,IAAqCoJ,KAAa+J,EAAS,GAExD,cAACzR,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiB0G,UAAQ,EAA7D,SACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,WAIpB,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiBW,QAAS,kBAAMkc,GAA6B5E,EAAS,KAA1G,SAAmH,cAAC,IAAD,MAEvH,cAACzR,EAAA,EAAD,CAAQC,QAAQ,SAASzG,UAAU,iBAAiBW,QAAS,kBAAMmc,GAAqB7E,EAAS,KAAjG,SAA0G,cAAC,IAAD,wBAQ9H,eAACvM,EAAA,EAAD,CAAOxE,KAAM6U,EAAcxQ,OAAQ,kBAAMkR,MAAzC,UACI,cAAC/Q,EAAA,EAAM/H,OAAP,CAAcgI,aAAW,EAAzB,SACI,cAACD,EAAA,EAAMtC,MAAP,kCAEJ,eAAC1D,EAAA,EAAD,CAAMC,SA/T8G,6CA+TpH,UACI,eAAC+F,EAAA,EAAMvC,KAAP,WACI,eAACzD,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,oBACA,cAACL,EAAA,EAAKS,QAAN,CACIrF,KAAK,OACLC,YAAY,iBACZI,MAAOob,EAAe,KACtBvb,SAAU,SAACC,GAAD,OAAOub,EAAmB,2BAAID,GAAL,IAAsB,KAAQtb,EAAEC,OAAOC,UAC1EiF,UAAQ,OAMhB,eAACV,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,qBACA,cAACL,EAAA,EAAKS,QAAN,CACIrF,KAAK,QACLC,YAAY,aACZI,MAAOob,EAAe,MACtBvb,SAAU,SAACC,GAAD,OAAOub,EAAmB,2BAAID,GAAL,IAAsB,MAAStb,EAAEC,OAAOC,UAC3EiF,UAAQ,OAMhB,eAACV,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,0BACA,cAACL,EAAA,EAAKS,QAAN,CACIrF,KAAK,WACLC,YAAY,aACZI,MAAOob,EAAe,WACtBvb,SAAU,SAACC,GAAD,OAAOub,EAAmB,2BAAID,GAAL,IAAsB,WAActb,EAAEC,OAAOC,UAChFiF,UAAQ,UAOpB,eAACsF,EAAA,EAAMvH,OAAP,WACI,cAACqC,EAAA,EAAD,CAAQC,QAAQ,YAAY9F,QAAS,kBAAM8b,MAA3C,qBAGsB,aAArB3X,GAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,UAAUC,UAAQ,EAAlC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAU3F,KAAK,SAA/B,+BAQhB,eAAC4K,EAAA,EAAD,CAAOxE,MAAwC,IAAlCiV,EAAsB,GAAe5Q,OAAQ,kBAAMmR,MAAhE,UACI,cAAChR,EAAA,EAAM/H,OAAP,CAAcgI,aAAW,EAAzB,SACI,cAACD,EAAA,EAAMtC,MAAP,kCAEJ,eAAC1D,EAAA,EAAD,CAAMC,SArY8G,6CAqYpH,UACI,eAAC+F,EAAA,EAAMvC,KAAP,WACI,eAACzD,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,oBACA,cAACL,EAAA,EAAKS,QAAN,CACIrF,KAAK,OACLC,YAAY,iBACZI,MAAOgb,EAAsB,KAC7Bnb,SAAU,SAACC,GAAD,OAAOmb,EAA0B,2BAAID,GAAL,IAA6B,KAAQlb,EAAEC,OAAOC,UACxFiF,UAAQ,OAMhB,eAACV,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,qBACA,cAACL,EAAA,EAAKS,QAAN,CACIrF,KAAK,QACLC,YAAY,aACZI,MAAOgb,EAAsB,MAC7Bnb,SAAU,SAACC,GAAD,OAAOmb,EAA0B,2BAAID,GAAL,IAA6B,MAASlb,EAAEC,OAAOC,UACzFiF,UAAQ,OAMhB,cAACV,EAAA,EAAK2D,MAAN,CACIvI,KAAK,SACLD,GAAG,SACHM,MAAOkb,EACPrb,SAAU,kBAAMsb,GAAmBD,IACnC/S,MAAM,0BAGT+S,EAEG,eAAC3W,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,0BACA,cAACL,EAAA,EAAKS,QAAN,CACIrF,KAAK,WACLC,YAAY,aACZI,MAAOgb,EAAsB,WAC7Bnb,SAAU,SAACC,GAAD,OAAOmb,EAA0B,2BAAID,GAAL,IAA6B,WAAclb,EAAEC,OAAOC,UAC9FiF,UAAQ,OAMhB,gCAGR,eAACsF,EAAA,EAAMvH,OAAP,WACI,cAACqC,EAAA,EAAD,CAAQC,QAAQ,YAAY9F,QAAS,kBAAM+b,MAA3C,qBAGsB,WAArB5X,GAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,UAAUC,UAAQ,EAAlC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAU3F,KAAK,SAA/B,6BAQhB,eAAC4K,EAAA,EAAD,CAAOxE,KAAM4G,GAAmBvC,OAAQ,kBAAMkM,MAA9C,UACI,cAAC/L,EAAA,EAAM/H,OAAP,CAAcgI,aAAW,EAAzB,SACI,cAACD,EAAA,EAAMtC,MAAP,oCAEJ,eAACsC,EAAA,EAAMvC,KAAP,iCACwB6E,GAAShL,OADjC,aACmDgL,GAAShL,OAAS,EAAI,IAAM,GAD/E,wBAGA,eAAC0I,EAAA,EAAMvH,OAAP,WACI,cAACqC,EAAA,EAAD,CAAQC,QAAQ,YAAY9F,QAAS,kBAAM8W,MAA3C,qBAGsB,WAArB3S,GAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,SAASC,UAAQ,EAAjC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,SAAS9F,QAAS,kBA1e0E,2CA0epEqc,IAAxC,gCAjTZ,cAAC,IAAD,CAAUxb,GAAG,WCxLV,SAASyb,GAAT,GAG6B,IAHH/c,EAGE,EAHFA,WAAYqI,EAGV,EAHUA,QAASlI,EAGnB,EAHmBA,cAAewJ,EAGlC,EAHkCA,YACjCC,EAED,EAFCA,SAAUC,EAEX,EAFWA,SAAUC,EAErB,EAFqBA,2BACpB6B,EACD,EADCA,kBAAmBuM,EACpB,EADoBA,QAAS8E,EAC7B,EAD6BA,eAAgB7E,EAC7C,EAD6CA,WAEpF,EAAoCzU,oBAAS,GAA7C,mBAAOgK,EAAP,KAAmBC,EAAnB,KACA,EAA4CjK,mBAAS,IAArD,mBAAOuZ,EAAP,KAAuBC,EAAvB,KAEA,EAAkDxZ,oBAAS,GAA3D,mBAAOkK,EAAP,KAA0BC,EAA1B,KACA,EAAgCnK,mBAAS,IAAzC,mBAAOoK,EAAP,KAAiBC,EAAjB,KAEA,EAAoCrK,mBAAS,IAA7C,mBAAOyZ,EAAP,KAAmBC,EAAnB,KAEA,EAAgD1Z,mBAAS,IAAzD,mBAAOkB,EAAP,KAAyBC,EAAzB,KA6BA,SAAS0S,IACL1J,GAAqB,GACrBhJ,EAAoB,IAGxB,SAASwY,EAAkB1c,GACvBkN,GAAqB,GACrB,IAAIO,EAAM,IACE,IAARzN,EACAyN,EAAM6O,EAEN7O,EAAIC,KAAK1N,GAEboN,EAAYK,GAnDuB,4CAsDvC,8BAAA7L,EAAA,6DACIsC,EAAoB,UADxB,SAEsBrC,MAAM,8BAA+B,CACnD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAACwI,eAL9B,cAEUrL,EAFV,gBAOuBA,EAAIC,OAP3B,QAOU6C,EAPV,QASY,GACJyX,EAAezX,EAAI,KAEnBR,MAAM,8BAEVwS,IAdJ,4CAtDuC,sBAuEvC,OAAKvX,EAOD,qCACI,uBAAMF,UAAU,YAAhB,UACI,+CACA,cAAC4J,EAAD,CACIrB,QAASA,EACTlI,cAAeA,EACfwJ,YAAaA,EACbC,SAAUA,EACVC,SAAUA,EACVC,2BAA4BA,IAEhC,eAAC0F,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACjP,KAAK,KAAKZ,UAAU,WAAlD,UACI,gCACA,+BACI,uBACA,2CACA,2CACA,4CACA,4BAGJ,kCACA,+BACI,oBAAIA,UAAU,cAAd,SACI,qBAAKA,UAAU,4EAAf,SACI,cAAC0F,EAAA,EAAD,CAAM1F,UAAU,4EAAhB,SACI,cAAC0F,EAAA,EAAK2D,MAAN,CACIvI,KAAK,WACLd,UAAU,iBACVgB,SAAU,WA/FtC4M,GACAwP,EAAkB,IAClBvP,GAAc,KAEduP,EAAkBhF,EAAQ7R,KAAI,SAACD,GAAD,OAAWA,EAAI,OAC7CuH,GAAc,KA2Fc7E,QAAS4E,UAKzB,oBAAIoC,QAAS,IACb,oBAAIhQ,UAAU,mBAAd,SACI,cAACwG,EAAA,EAAD,CAAQC,QAAQ,SAASzG,UAAU,iBAAiBW,QAAS,kBAAM4c,GAAmB,IAAtF,SAA0F,cAAC,IAAD,WAGjGnF,EAAQ/R,QAAO,SAAAC,GAAI,OAAKuF,EAAkBtF,KAAI,SAAAwJ,GAAS,OAAIA,EAAS,MAAQhH,SAASzC,EAAI,gBAAmBC,KAAI,SAAAyR,GAAM,OACnH,qCACI,+BACI,oBAAIhY,UAAU,cAAd,SACI,qBAAKA,UAAU,4EAAf,SACI,cAAC0F,EAAA,EAAD,CAAM1F,UAAU,4EAAhB,SACI,cAAC0F,EAAA,EAAK2D,MAAN,CACIvI,KAAK,WACLd,UAAU,iBACVgB,SAAU,kBA1GxBwc,EA0GmDxF,EAAM,GAzGnFnK,GAAc,QACVsP,EAAepU,SAASyU,GACxBJ,EAAkBD,EAAe9W,QAAO,SAACxF,GAAD,OAASA,IAAO2c,MAExDJ,EAAkB,GAAD,mBAAKD,GAAL,CAAqBK,MAL9C,IAA8BA,GA2GcxU,QAASmU,EAAepU,SAASiP,EAAM,YAKvD,6BACI,cAAC,IAAD,CAAMxW,GAAI,sBAAwBqK,EAAkBiB,MAAK,SAAAxG,GAAI,OAAKA,EAAI,KAAW0R,EAAM,eAArD,GAAlC,SACKnM,EAAkBiB,MAAK,SAAAxG,GAAI,OAAKA,EAAI,KAAW0R,EAAM,eAArD,SAGT,6BACKK,EAAWvL,MAAK,SAAAxG,GAAI,OAAKA,EAAI,KAAW0R,EAAM,eAA9C,OAEL,6BACI,cAAC,GAAD,CACIJ,WAAYI,EAAM,eAG1B,qBAAIhY,UAAU,mBAAd,UACI,cAACwG,EAAA,EAAD,CAAQC,QAAQ,OAAOzG,UAAU,iBAAiBW,QAAS,kBArH/D6c,EAqHwFxF,EAAM,QApHlHqF,EAAWtU,SAASyU,GACpBF,EAAcD,EAAWhX,QAAO,SAACxF,GAAD,OAASA,IAAO2c,MAEhDF,EAAc,GAAD,mBAAKD,GAAL,CAAiBG,MAJtC,IAA4BA,GAqHI,SAAoGH,EAAWtU,SAASiP,EAAM,IAAU,cAAC,IAAD,IAAa,cAAC,IAAD,MACrJ,cAACxR,EAAA,EAAD,CAAQC,QAAQ,SAASzG,UAAU,iBAAiBW,QAAS,kBAAM4c,EAAkBvF,EAAM,KAA3F,SAAoG,cAAC,IAAD,YAG3GqF,EAAWtU,SAASiP,EAAM,IAEvB,6BACI,qBAAIhI,QAAS,EAAGhQ,UAAU,YAA1B,UACI,qBAAKA,UAAU,iBAAf,qBACA,mBAAGA,UAAU,4CAAb,SACKgY,EAAM,cAKnB,4CAQpB,eAACtM,EAAA,EAAD,CAAOxE,KAAM4G,EAAmBvC,OAAQ,kBAAMkM,KAA9C,UACI,cAAC/L,EAAA,EAAM/H,OAAP,CAAcgI,aAAW,EAAzB,SACI,cAACD,EAAA,EAAMtC,MAAP,iCAEJ,eAACsC,EAAA,EAAMvC,KAAP,iCACwB6E,EAAShL,OADjC,UACoE,IAApBgL,EAAShL,OAAe,IAAM,GAD9E,wBAGA,eAAC0I,EAAA,EAAMvH,OAAP,WACI,cAACqC,EAAA,EAAD,CAAQC,QAAQ,YAAY9F,QAAS,kBAAM8W,KAA3C,qBAGsB,WAArB3S,EAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,SAASC,UAAQ,EAAjC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,SAAS9F,QAAS,kBAjMf,0CAiMqB8c,IAAxC,gCAxHZ,cAAC,IAAD,CAAUjc,GAAG,WC/EV,SAASkc,GAAT,GAA0E,IAAnDC,EAAkD,EAAlDA,WAAYC,EAAsC,EAAtCA,SAAU7c,EAA4B,EAA5BA,YAAa8c,EAAe,EAAfA,aACrE,EAA0Bja,oBAAS,GAAnC,mBAAOka,EAAP,KAAcC,EAAd,KACA,EAAwBna,mBAAS,IAAjC,mBAAOiH,EAAP,KAAamT,EAAb,KACA,EAAwCpa,mBAAS,IAAjD,mBAAOqa,EAAP,KAAqBC,EAArB,KAMA,SAASC,EAAchd,GACnB6c,EAAQ7c,GACR+c,EAAgBP,EAAWtX,QAAO,SAAAC,GAAI,OAAKA,EAAI,KAAS8X,cAAcrV,SAAS5H,EAAMid,mBAGzF,SAASC,EAAgBxd,EAAIyd,GACzBH,EAAcG,GACdP,GAAS,GACTH,EAAS/c,GAGb,OAfAqO,qBAAU,WACNiP,EAAcN,KACf,IAcC,sBACI7d,UAAU,oBACVue,QAAS,kBAAMR,GAAS,IAF5B,UAII,cAACrY,EAAA,EAAKS,QAAN,CACIrF,KAAK,OACLC,YAAaA,EACbI,MAAO0J,EACP7J,SAAU,SAAAC,GAAC,OAAIkd,EAAcld,EAAEC,OAAOC,QACtCiF,UAAQ,IAGZ,qBACIpG,UAAW8d,EAAQ,qFAAuF,SAD9G,SAGKG,EACI3O,MAAM,EAAG,GACT/I,KAAI,SAAAD,GAAI,MACO,cAAhBvF,EAEI,sBACIJ,QAAS,kBAAM0d,EAAgB/X,EAAI,GAAQA,EAAI,OAC/CtG,UAAU,kCAFd,UAII,eAAC6F,EAAA,EAAD,WACI,cAACK,EAAA,EAAD,CAAKmE,GAAG,IAAR,SACI,qBACIlH,IAAKmD,EAAI,KAAWA,EAAI,KAAW,0BACnChD,IAAI,GACJtD,UAAU,gBAGlB,cAACkG,EAAA,EAAD,CAAKmE,GAAG,KAAKrK,UAAU,qCAAvB,SACKsG,EAAI,UAGb,cAACT,EAAA,EAAD,UACI,eAACK,EAAA,EAAD,CAAKmE,GAAG,KAAKrK,UAAU,0CAAvB,UACMsG,EAAI,YAQF,6BANA,cAAC6E,EAAA,EAAD,CAAOC,MAAI,EAAC3E,QAAQ,SAASzG,UAAU,OAAvC,SACA,sBAAMA,UAAU,OAAhB,gCAOHsG,EAAI,iBAED,cAAC6E,EAAA,EAAD,CAAOC,MAAI,EAAC3E,QAAQ,UAAUzG,UAAU,OAAxC,SACA,sBAAMA,UAAU,OAAhB,iCAKA,qCAMhB,qBACIW,QAAS,kBAAM0d,EAAgB/X,EAAI,GAAQA,EAAI,OAC/CtG,UAAU,kCAFd,SAII,cAAC6F,EAAA,EAAD,UACI,cAACK,EAAA,EAAD,CAAKmE,GAAG,KAAKrK,UAAU,qCAAvB,SACKsG,EAAI,mBCtF1B,SAASkY,GAAT,GAEwJ,IAF1Hte,EAEyH,EAFzHA,WAAYqI,EAE6G,EAF7GA,QAASlI,EAEoG,EAFpGA,cAAewJ,EAEqF,EAFrFA,YAAaC,EAEwE,EAFxEA,SAAUC,EAE8D,EAF9DA,SAAUC,EAEoD,EAFpDA,2BACtEyU,EAC0H,EAD1HA,oBAAqB1O,EACqG,EADrGA,UAAWsI,EAC0F,EAD1FA,WAAY1N,EAC8E,EAD9EA,SAAU+T,EACoE,EADpEA,gBAAiBC,EACmD,EADnDA,iBACvEC,EAA0H,EAA1HA,oBAAqBlU,EAAqG,EAArGA,YAAamU,EAAwF,EAAxFA,qBAAsBC,EAAkE,EAAlEA,qBAAsBrT,EAA4C,EAA5CA,WAAYsT,EAAgC,EAAhCA,gBAAiBC,EAAe,EAAfA,aACnJ,EAAoCpb,oBAAS,GAA7C,mBAAOgK,EAAP,KAAmBC,EAAnB,KACA,EAAoDjK,mBAAS,IAA7D,mBAAOqb,EAAP,KAA2BC,EAA3B,KACA,EAA0Ctb,oBAAU,GAApD,mBAAOub,EAAP,KAAsBC,EAAtB,KACA,EAA8Cxb,oBAAU,GAAxD,mBAAOyb,EAAP,KAAwBC,GAAxB,KACA,GAA8C1b,oBAAU,GAAxD,qBAAO2b,GAAP,MAAwBC,GAAxB,MACA,GAAoC5b,oBAAS,GAA7C,qBAAO6b,GAAP,MAAmBC,GAAnB,MACA,GAA0C9b,oBAAU,GAApD,qBAAO+b,GAAP,MAAsBC,GAAtB,MAEA,GAAwChc,oBAAS,GAAjD,qBAAOic,GAAP,MAAqBC,GAArB,MACA,GAA0Clc,oBAAS,GAAnD,qBAAOmc,GAAP,MAAsBC,GAAtB,MACA,GAA8Cpc,oBAAS,GAAvD,qBAAOuT,GAAP,MAAwBC,GAAxB,MAEA,GAA8CxT,mBAAS,CAAC,WAAc,IAAtE,qBAAOqc,GAAP,MAAwBC,GAAxB,MACA,GAAgDtc,mBAAS,CAAC,aAAgB,EAAG,aAAgB,EAAG,WAAc,IAA9G,qBAAOuc,GAAP,MAAyBC,GAAzB,MACA,GAAgCxc,mBAAS,IAAzC,qBAAOoK,GAAP,MAAiBC,GAAjB,MAEA,GAAgDrK,mBAAS,IAAzD,qBAAOkB,GAAP,MAAyBC,GAAzB,MACA,GAAgCnB,oBAAU,GAA1C,qBAAOsK,GAAP,MAAiBC,GAAjB,MACA,GAAoCvK,mBAAS,IAA7C,qBAAOyc,GAAP,MAAmBC,GAAnB,MAEA,SAAS7D,KACLqD,IAAgB,GAChBI,GAAmB,CAAC,WAAc,IAGtC,SAASxD,KACLsD,IAAiB,GACjBI,GAAoB,CAAC,aAAgB,EAAG,aAAgB,EAAG,WAAc,IAG7E,SAAS3I,KACLL,IAAmB,GACnBnJ,GAAY,IACZE,IAAa,GAiDjB,SAASoS,GAAsB1f,GAC3BuW,IAAmB,GACnBjJ,GAAYtN,GACZ,IAAIyN,EAAM,IACE,IAARzN,EACAyN,EAAM2Q,EAEN3Q,EAAIC,KAAK1N,GAEboN,GAAYK,GA5FkJ,8CA+FlK,WAAmCrN,GAAnC,iBAAAwB,EAAA,yDACIxB,EAAE+D,iBACFD,GAAoB,aAEkB,IAAlCkb,GAAe,UAJvB,yCAIoDhb,MAAM,0BAJ1D,uBAKsBvC,MAAM,+BAAgC,CACpD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAUya,MAR7B,cAKUtd,EALV,gBAUuBA,EAAIC,OAV3B,QAUU6C,EAVV,QAYY,GACJiZ,EAAgBjZ,EAAI,YAEpBR,MAAM,8CAEVwX,KACA1X,GAAoB,IAlBxB,6CA/FkK,oEAoHlK,WAAoC9D,GAApC,iBAAAwB,EAAA,6DACIxB,EAAE+D,iBACFD,GAAoB,UAFxB,SAIsBrC,MAAM,gCAAiC,CACrD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU2a,MAP7B,cAIUxd,EAJV,gBASuBA,EAAIC,OAT3B,QASU6C,EATV,QAWY,GACJkZ,EAAiBlZ,EAAI,GAAQA,EAAI,YAAiBA,EAAI,YAAiBA,EAAI,WAE3ER,MAAM,8CAGVyX,KACA3X,GAAoB,IAlBxB,6CApHkK,+BAyInJyb,GAzImJ,mFAyIlK,WAAuC3f,EAAIwN,GAA3C,uBAAA5L,EAAA,6DACI0L,GAAYtN,GACZkE,GAAoB,cAChBuJ,EAAM,IACE,IAARzN,EACAyN,EAAM2Q,EAEN3Q,EAAIC,KAAK1N,GAET2N,EAAQ,IAAIC,KACZC,EAAcF,EAAMG,cAAgB,KAAOH,EAAMI,WAAa,GAAK,IAAMJ,EAAMK,UAVvF,SAWsBnM,MAAM,mCAAoC,CACxD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CACjB8I,MACA,UAAcD,EAAY,EAAI,EAC9B,aAAgBK,MAjB5B,cAWU/L,EAXV,iBAoBuBA,EAAIC,OApB3B,SAoBU6C,EApBV,QAsBY,GACJoZ,EAAqBpZ,EAAI,IAASA,EAAI,UAAeA,EAAI,cAEzDR,MAAM,gDAEVF,GAAoB,IACpBoJ,IAAa,GA5BjB,6CAzIkK,+BAwKnJsS,GAxKmJ,mFAwKlK,WAAuC5f,EAAI6f,GAA3C,mBAAAje,EAAA,6DACI0L,GAAYtN,GACZkE,GAAoB,cAChBuJ,EAAM,IACE,IAARzN,EACAyN,EAAM2Q,EAEN3Q,EAAIC,KAAK1N,GAPjB,SASsB6B,MAAM,mCAAoC,CACxD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CACjB8I,MACA,UAAaoS,EAAY,EAAI,MAdzC,cASU/d,EATV,gBAiBuBA,EAAIC,OAjB3B,QAiBU6C,EAjBV,QAmBY,GACJqZ,EAAqBrZ,EAAI,IAASA,EAAI,WAEtCR,MAAM,gDAEVF,GAAoB,IACpBoJ,IAAa,GAzBjB,6CAxKkK,oEAoMlK,8BAAA1L,EAAA,6DACIsC,GAAoB,UADxB,SAEsBrC,MAAM,kCAAmC,CACvD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAACwI,gBAL9B,cAEUrL,EAFV,gBAOuBA,EAAIC,OAP3B,QAOU6C,EAPV,QASY,GACJmZ,EAAoBnZ,EAAI,KAExBR,MAAM,iDAEVwS,KACA1S,GAAoB,IACpBoJ,IAAa,GAhBjB,6CApMkK,sBAuNlK,OAAKjO,EAOD,qCACI,uBAAMF,UAAU,kBAAhB,UACI,oBAAIA,UAAU,cAAd,+BACCyf,GAEG,qBAAIzf,UAAU,WAAd,UACI,sBAAMA,UAAU,OAAhB,kCACgB,KAAfqgB,GAAoB,uBAAMrgB,UAAU,cAAhB,uBAAyCyL,EAAW4U,OAAsB,gCAGnG,6BAEJ,cAACzW,EAAD,CACIrB,QAASA,EACTlI,cAAeA,EACfwJ,YAAaA,EACbC,SAAUA,EACVC,SAAUA,EACVC,2BAA4BA,IAGhC,eAACnE,EAAA,EAAD,CAAK7F,UAAU,cAAf,UAEI,eAAC0F,EAAA,EAAKE,MAAN,CAAY5F,UAAU,YAAtB,UACI,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAOrK,UAAU,qCAAzB,SACI,cAAC0F,EAAA,EAAKK,MAAN,CAAY/F,UAAU,OAAtB,wBAEJ,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAR,SACI,eAAC3E,EAAA,EAAKS,QAAN,CACIvE,GAAG,SACHT,MAAOge,EACPne,SAAU,SAAAC,GAAC,OAAIme,EAAiB9U,SAASrJ,EAAEC,OAAOC,SAClDiF,UAAQ,EAJZ,UAMI,wBAAQjF,MAAM,KAAd,2BACCwJ,EAAStE,QAAO,SAAAC,GAAI,OAAMA,EAAI,WAAiBiC,EAAO,eAAkBvF,OAAS,EAAI2H,EAAStE,QAAO,SAAAC,GAAI,OAAMA,EAAI,WAAiBiC,EAAO,eAAkBhC,KAAI,SAACiF,GAAD,OAC1J,wBACIrK,MAAOqK,EAAO,GADlB,SAEE,OAASC,EAAWD,EAAO,YAAkB,QAAUC,EAAWD,EAAO,gBAE/E,wBAAQrK,MAAM,KAAd,+CAMhB,eAACuE,EAAA,EAAKE,MAAN,CAAY5F,UAAU,YAAtB,UACI,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAOrK,UAAU,qCAAzB,SACI,cAAC0F,EAAA,EAAKK,MAAN,CAAY/F,UAAU,OAAtB,0BAEJ,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAR,SACI,eAAC3E,EAAA,EAAKS,QAAN,CACIvE,GAAG,SACHT,MAAOke,EACPre,SAAU,SAAAC,GAAC,OAAIqe,GAAmBhV,SAASrJ,EAAEC,OAAOC,SACpDiF,UAAQ,EAJZ,UAMI,wBAAQjF,MAAM,KAAd,6BACCkX,EACIhS,QAAO,SAAAC,GAAI,OAAMA,EAAI,cAAoByD,EAAQ,gBAAwBzD,EAAI,aAC7EtD,OAAS,EACVqV,EACKhS,QAAO,SAAAC,GAAI,OAAMA,EAAI,cAAoByD,EAAQ,gBAAwBzD,EAAI,aACjFC,KAAI,SAAC0R,GAAD,OACD,wBACI9W,MAAO8W,EAAS,GADpB,SAEEA,EAAS,UAEf,wBAAQ9W,MAAM,KAAd,iDAMhB,eAACuE,EAAA,EAAKE,MAAN,CAAY5F,UAAU,YAAtB,UACI,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAOrK,UAAU,qCAAzB,SACI,cAAC0F,EAAA,EAAKK,MAAN,CAAY/F,UAAU,OAAtB,0BAEJ,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAR,SACI,eAAC3E,EAAA,EAAKS,QAAN,CACIvE,GAAG,SACHT,MAAOoe,GACPve,SAAU,SAAAC,GAAC,OAAIue,GAAmBlV,SAASrJ,EAAEC,OAAOC,SACpDiF,UAAQ,EAJZ,UAMI,wBAAQjF,MAAM,KAAd,wBACA,wBAAQA,MAAM,IAAd,4BACA,wBAAQA,MAAM,IAAd,+BAMZ,eAACuE,EAAA,EAAKE,MAAN,CAAY5F,UAAU,YAAtB,UACI,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAOrK,UAAU,qCAAzB,SACI,cAAC0F,EAAA,EAAK2D,MAAN,CACIvI,KAAK,SACLD,GAAG,SACHM,MAAOse,GACPze,SAAU,kBAAM0e,IAAeD,KAC/BnW,MAAM,0BAGbmW,GAEG,qCACI,cAACvZ,EAAA,EAAD,CAAKmE,GAAG,OAAR,SACI,eAAC3E,EAAA,EAAKS,QAAN,CACIvE,GAAG,SACHT,MAAOwe,GACP3e,SAAU,SAAAC,GAAC,OAAI2e,GAAiBtV,SAASrJ,EAAEC,OAAOC,SAClDiF,UAAQ,EAJZ,UAMI,wBAAQjF,MAAM,KAAd,2BACCwJ,EAAStE,QAAO,SAAAC,GAAI,OAAMA,EAAI,WAAiBiC,EAAO,eAAkBvF,OAAS,EAAI2H,EAAStE,QAAO,SAAAC,GAAI,OAAMA,EAAI,WAAiBiC,EAAO,eAAkBhC,KAAI,SAACiF,GAAD,OAC1J,wBACIrK,MAAOqK,EAAO,GADlB,SAEE,OAASC,EAAWD,EAAO,YAAkB,QAAUC,EAAWD,EAAO,gBAE/E,wBAAQrK,MAAM,KAAd,4CAGZ,eAAC+E,EAAA,EAAD,CAAKmE,GAAG,OAAR,UACI,cAAC3E,EAAA,EAAKK,MAAN,CAAYmL,QAAQ,qBAApB,wBACA,cAACxL,EAAA,EAAKS,QAAN,CACItF,GAAG,qBACHC,KAAK,OACLK,MAAOkf,GACPrf,SAAU,SAACC,GAAD,OAAOqf,GAAcrf,EAAEC,OAAOC,gBAKpD,mCAKZ,eAACuO,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACjP,KAAK,KAAKZ,UAAU,WAAlD,UACI,gCACA,+BACI,oBAAIA,UAAU,yCACd,qBAAIA,UAAU,wCAAd,cACI,sBAAKA,UAAU,kBAAf,UACI,cAAC,IAAD,CACIW,QAAS,kBAAMoe,EAAgB,UAAW,QAC1CjP,MAAkC,YAA1BkP,EAAY,OAAoD,QAAzBA,EAAY,KAAsB,OAAQ,UAE7F,cAAC,IAAD,CACIre,QAAS,kBAAMoe,EAAgB,UAAW,SAC1CjP,MAAkC,YAA1BkP,EAAY,OAAoD,SAAzBA,EAAY,KAAuB,OAAQ,gBAItG,2CACI,sBAAKhf,UAAU,kBAAf,UACI,cAAC,IAAD,CACIW,QAAS,kBAAMoe,EAAgB,OAAQ,QACvCjP,MAAkC,SAA1BkP,EAAY,OAAiD,QAAzBA,EAAY,KAAsB,OAAQ,UAE1F,cAAC,IAAD,CACIre,QAAS,kBAAMoe,EAAgB,OAAQ,SACvCjP,MAAkC,SAA1BkP,EAAY,OAAiD,SAAzBA,EAAY,KAAuB,OAAQ,gBAInG,qBAAIhf,UAAWyf,GAAa,cAAgB,GAA5C,sBACI,sBAAKzf,UAAU,kBAAf,UACI,cAAC,IAAD,CACIW,QAAS,kBAAMoe,EAAgB,YAAa,QAC5CjP,MAAkC,cAA1BkP,EAAY,OAAsD,QAAzBA,EAAY,KAAsB,OAAQ,UAE/F,cAAC,IAAD,CACIre,QAAS,kBAAMoe,EAAgB,YAAa,SAC5CjP,MAAkC,cAA1BkP,EAAY,OAAsD,SAAzBA,EAAY,KAAuB,OAAQ,gBAIxG,oBAAIhf,UAAWyf,GAAa,cAAgB,GAA5C,qBACA,oBAAIzf,UAAWyf,GAAa,cAAgB,GAA5C,uBACA,oBAAIzf,UAAWyf,GAAa,cAAgB,GAA5C,qBACA,oBAAIzf,UAAU,qBAGlB,kCACA,qBAAIA,UAAU,cAAd,UACI,oBAAIA,UAAU,cAAd,SACI,qBAAKA,UAAU,4EAAf,SACI,cAAC0F,EAAA,EAAD,CAAM1F,UAAU,4EAAhB,SACI,cAAC0F,EAAA,EAAK2D,MAAN,CACIvI,KAAK,WACLd,UAAU,iBACVgB,SAAU,WAxXtC4M,GACAsR,EAAsB,IACtBrR,GAAc,KAEdqR,EAAsBT,EACjBpY,QAAO,SAAAC,GAAI,QACY,IAAnB6Y,GAAwB7Y,EAAI,YAAkB6Y,MACtB,IAArBE,GAA0B/Y,EAAI,cAAoB+Y,MAC7B,IAArBE,IAA0BjZ,EAAI,YAAkBiZ,OAC/CE,KAAehB,EACXpY,QAAO,SAAA1D,GAAG,OAAKA,EAAG,cAAoB2D,EAAI,aAAmB3D,EAAG,cAAoB2D,EAAI,eACxFC,KAAI,SAAA5D,GAAG,OAAIA,EAAG,aACdoG,SAAS4W,QAGrBpZ,KAAI,SAACoa,GAAD,OAAiBA,EAAU,OAEpC9S,GAAc,KAwWc7E,QAAS4E,UAKzB,oBAAIoC,QAAS,IACb,qBAAIhQ,UAAU,mBAAd,UACI,cAACwG,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiBW,QAAS,WAjWlFmf,IAAgB,IAiWI,SAA0F,cAAC,IAAD,MACpE,eAArBhb,KAAmD,IAAdoJ,GAElC,cAAC1H,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiB0G,UAAQ,EAA7D,SACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,WAIpB,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiBW,QAAS,kBAAM8f,IAAyB,EAAG,IAAhG,SAAoG,cAAC,IAAD,MAElF,eAArB3b,KAAmD,IAAdoJ,GAElC,cAAC1H,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiB0G,UAAQ,EAA7D,SACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,WAIpB,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiBW,QAAS,kBAAM6f,IAAyB,EAAG,IAAhG,SAAoG,cAAC,IAAD,MAExG,cAACha,EAAA,EAAD,CAAQC,QAAQ,SAASzG,UAAU,iBAAiBW,QAAS,kBAAM4f,IAAuB,IAA1F,SAA8F,cAAC,IAAD,YAGrG9B,EACIpY,QAAO,SAAAC,GAAI,QACY,IAAnB6Y,GAAwB7Y,EAAI,YAAkB6Y,MACtB,IAArBE,GAA0B/Y,EAAI,cAAoB+Y,MAC7B,IAArBE,IAA0BjZ,EAAI,YAAkBiZ,OAC/CE,KAAehB,EACfpY,QAAO,SAAA1D,GAAG,OAAKA,EAAG,cAAoB2D,EAAI,aAAmB3D,EAAG,cAAoB2D,EAAI,eACpFC,KAAI,SAAA5D,GAAG,OAAIA,EAAG,aACdoG,SAAS4W,QAGrBpZ,KAAI,SAACoa,GAAD,OACL,+BACI,oBAAI3gB,UAAU,0BAAd,SACI,qBAAKA,UAAU,4EAAf,SACI,cAAC0F,EAAA,EAAD,CAAM1F,UAAU,4EAAhB,SACI,cAAC0F,EAAA,EAAK2D,MAAN,CACIvI,KAAK,WACLd,UAAU,iBACVgB,SAAU,kBA9ZjB4L,EA8Z+C+T,EAAU,GA7ZtF9S,GAAc,QACVoR,EAAmBlW,SAAS6D,GAC5BsS,EAAsBD,EAAmB5Y,QAAO,SAACxF,GAAD,OAASA,IAAO+L,MAEhEsS,EAAsB,GAAD,mBAAKD,GAAL,CAAyBrS,MALtD,IAAiCA,GA+ZO5D,QAASiW,EAAmBlW,SAAS4X,EAAU,YAK/D,oBAAI3gB,UAAU,cAAd,SACK+P,EAAUjD,MAAK,SAAA8T,GAAG,OAAKD,EAAU,cAAoBC,EAAG,MAAxD,UAEL,+BACI,eAAC,IAAD,CAAMpf,GAAI,sBAAwBmf,EAAU,YAA5C,UACI,qBACIxd,IAAK4M,EAAUjD,MAAK,SAAA8T,GAAG,OAAKD,EAAU,cAAoBC,EAAG,MAAxD,KACH7Q,EAAUjD,MAAK,SAAA8T,GAAG,OAAKD,EAAU,cAAoBC,EAAG,MAAxD,KACA,0BACF5gB,UAAU,eACVsD,IAAI,KAER,sBAAMtD,UAAU,gBAAhB,SACK+P,EAAUjD,MAAK,SAAA8T,GAAG,OAAKD,EAAU,cAAoBC,EAAG,MAAxD,UAGR7Q,EAAUjD,MAAK,SAAA8T,GAAG,OAAKD,EAAU,cAAoBC,EAAG,MAAxD,UAEG,cAACzV,EAAA,EAAD,CAAOC,MAAI,EAAC3E,QAAQ,UAAUzG,UAAU,OAAxC,SACI,kDAKJ,gCAGR,oBAAIA,UAAWyf,GAAa,cAAgB,GAA5C,SACKpH,EAAWvL,MAAK,SAAAmL,GAAS,OAAIA,EAAS,KAAW0I,EAAU,eAA3D,OAEL,oBAAI3gB,UAAWyf,GAAa,cAAgB,GAA5C,SACK9U,EAASmC,MAAK,SAAAtB,GAAO,OAAKA,EAAO,KAAWmV,EAAU,aAEnD,qCACI,8BACK,OAASlV,EAAWd,EAASmC,MAAK,SAAAtB,GAAO,OAAKA,EAAO,KAAWmV,EAAU,aAAtD,cAEzB,8BACK,OAASlV,EAAWd,EAASmC,MAAK,SAAAtB,GAAO,OAAKA,EAAO,KAAWmV,EAAU,aAAtD,gBAI7B,+BAGR,oBAAI3gB,UAAWyf,GAAa,cAAgB,GAA5C,SACKkB,EAAU,UAEP,eAACxV,EAAA,EAAD,CAAOC,MAAI,EAAC3E,QAAQ,UAApB,UACI,sBAAMzG,UAAU,OAAhB,uBAGA,cAAC,IAAD,CAAS4B,GAAI4E,IACJ7F,QAAS,kBAAM8f,GAAwBE,EAAU,GAAQ,IACzD3gB,UAAU,oBAIvB,eAACmL,EAAA,EAAD,CAAOC,MAAI,EAAC3E,QAAQ,SAApB,UACI,sBAAMzG,UAAU,OAAhB,4BAGA,cAAC,IAAD,CAAS4B,GAAI4E,IACJ7F,QAAS,kBAAM8f,GAAwBE,EAAU,GAAQ,IACzD3gB,UAAU,sBAK/B,oBAAIA,UAAWyf,GAAa,cAAgB,GAA5C,SACKkB,EAAU,UAEP,eAACxV,EAAA,EAAD,CAAOC,MAAI,EAAC3E,QAAQ,UAAUzG,UAAU,OAAxC,UACI,sBAAMA,UAAU,OAAhB,SACK2gB,EAAU,eAEf,cAAC,IAAD,CAAS/e,GAAI4E,IACJ7F,QAAS,kBAAM6f,GAAwBG,EAAU,GAAQ,IACzD3gB,UAAU,oBAIvB,+BAGR,qBAAIA,UAAU,+BAAd,UACI,cAACwG,EAAA,EAAD,CAAQC,QAAQ,OAAOzG,UAAU,iBAAiBW,QAAS,kBA7evF,SAA6BE,GACzB,IAAI8f,EAAajW,EAAYoC,MAAK,SAAAxG,GAAI,OAAKA,EAAI,KAAWzF,KAC1Duf,GAAoB,CAChBvf,KACA,YAAe8f,EAAU,YACzB,YAAeA,EAAU,YACzB,UAAaA,EAAU,YAE3BX,IAAiB,GAqewEa,CAAoBF,EAAU,KAA/F,SAA2G,cAAC,IAAD,MACrF,eAArB7b,IAAqCoJ,KAAayS,EAAU,GAEzD,cAACna,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiB0G,UAAQ,EAA7D,SACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,WAIpB,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiBW,QAAS,kBAAM8f,GAAwBE,EAAU,IAASA,EAAU,YAAzH,SAAyI,cAAC,IAAD,MAEvH,eAArB7b,IAAqCoJ,KAAayS,EAAU,GAEzD,cAACna,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiB0G,UAAQ,EAA7D,SACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,WAIpB,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiBW,QAAS,kBAAM6f,GAAwBG,EAAU,IAASA,EAAU,YAAzH,SAAyI,cAAC,IAAD,MAE7I,cAACna,EAAA,EAAD,CAAQC,QAAQ,SAASzG,UAAU,iBAAiBW,QAAS,kBAAM4f,GAAsBI,EAAU,KAAnG,SAA4G,cAAC,IAAD,wBAQhI,eAACjV,EAAA,EAAD,CAAOxE,KAAM2Y,GAActU,OAAQ,kBAAMkR,MAAzC,UACI,cAAC/Q,EAAA,EAAM/H,OAAP,CAAcgI,aAAW,EAAzB,SACI,cAACD,EAAA,EAAMtC,MAAP,mCAEJ,eAAC1D,EAAA,EAAD,CAAMC,SA9lBgJ,6CA8lBtJ,UACI,eAAC+F,EAAA,EAAMvC,KAAP,WACI,eAACzD,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,yBACA,cAAC2X,GAAD,CACIC,WAAY5N,EAAU1J,QAAO,SAAAC,GAAI,OAAKA,EAAI,aAC1CsX,SAAU,SAAC/c,GAAD,OAAQqf,GAAmB,2BAAID,IAAL,IAAsB,YAAepf,MACzEE,YAAa,iBAIrB,eAAC2E,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,yBACA,cAAC2X,GAAD,CACIC,WAAYtF,EAAWhS,QAAO,SAAAC,GAAI,OAAKA,EAAI,cAAoByD,EAAQ,gBAAsBzD,EAAI,aACjGsX,SAAU,SAAC/c,GAAD,OAAQqf,GAAmB,2BAAID,IAAL,IAAsB,YAAepf,MACzEE,YAAa,iBAIrB,eAAC2E,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,uBACA,eAACL,EAAA,EAAKS,QAAN,CACItF,GAAG,UACHe,GAAG,SACHT,MAAO8e,GAAe,UACtBjf,SAAU,SAAAC,GAAC,OAAIif,GAAmB,2BAAID,IAAL,IAAsB,UAAa3V,SAASrJ,EAAEC,OAAOC,WACtFiF,UAAQ,EALZ,UAOI,wBAAQjF,MAAM,KAAd,qBACCwJ,EACItE,QAAO,SAAAC,GAAI,OAAMA,EAAI,WAAkBiC,EAAO,eAAiBvF,OAAS,EACvE2H,EACGtE,QAAO,SAAAC,GAAI,OAAMA,EAAI,WAAiBiC,EAAO,eAC7ChC,KAAI,SAACiF,GAAD,OACG,wBACIrK,MAAOqK,EAAO,GADlB,SAEE,OAASC,EAAWD,EAAO,YAAkB,QAAUC,EAAWD,EAAO,gBAGrF,wBAAQrK,MAAM,KAAd,gDAKlB,eAACuK,EAAA,EAAMvH,OAAP,WACI,cAACqC,EAAA,EAAD,CAAQC,QAAQ,YAAY9F,QAAS,kBAAM8b,MAA3C,qBAGsB,aAArB3X,GAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,UAAUC,UAAQ,EAAlC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAU3F,KAAK,SAA/B,+BAQhB,eAAC4K,EAAA,EAAD,CAAOxE,KAAM6Y,GAAexU,OAAQ,kBAAMmR,MAA1C,UACI,cAAChR,EAAA,EAAM/H,OAAP,CAAcgI,aAAW,EAAzB,SACI,cAACD,EAAA,EAAMtC,MAAP,mCAEJ,eAAC1D,EAAA,EAAD,CAAMC,SAvqBgJ,6CAuqBtJ,UACI,eAAC+F,EAAA,EAAMvC,KAAP,WACI,eAACzD,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,yBACA,cAAC2X,GAAD,CACIC,WAAY5N,EAAU1J,QAAO,SAAAC,GAAI,OAAKA,EAAI,aAC1CsX,SAAU,SAAC/c,GAAD,OAAQuf,GAAoB,2BAAID,IAAL,IAAuB,YAAetf,MAC3EE,YAAa,YACb8c,aACI9N,EAAUjD,MAAK,SAAAxG,GAAI,OAAK6Z,GAAgB,aAAmB7Z,EAAI,MACzDyJ,EAAUjD,MAAK,SAAAxG,GAAI,OAAK6Z,GAAgB,aAAmB7Z,EAAI,MAA/D,KACA,QAKlB,eAACZ,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,yBACA,cAAC2X,GAAD,CACIC,WAAYtF,EAAWhS,QAAO,SAAAC,GAAI,OAAKA,EAAI,aAAmByD,EAAQ,gBAAsBzD,EAAI,aAChGsX,SAAU,SAAC/c,GAAD,OAAQuf,GAAoB,2BAAID,IAAL,IAAuB,YAAetf,MAC3EE,YAAa,YACb8c,aACIxF,EAAWvL,MAAK,SAAAxG,GAAI,OAAK6Z,GAAgB,aAAmB7Z,EAAI,MAC1D+R,EAAWvL,MAAK,SAAAxG,GAAI,OAAK6Z,GAAgB,aAAmB7Z,EAAI,MAAhE,KACA,QAKlB,eAACZ,EAAA,EAAKE,MAAN,WACI,cAACF,EAAA,EAAKK,MAAN,uBACA,cAACL,EAAA,EAAKS,QAAN,CACIvE,GAAG,SACHT,MAAOgf,GAAgB,UACvBnf,SAAU,SAAAC,GAAC,OAAImf,GAAoB,2BAAID,IAAL,IAAuB,UAAa7V,SAASrJ,EAAEC,OAAOC,WACxF2f,aAAcX,GAAgB,UAC9B/Z,UAAQ,EALZ,SAOKuE,EACItE,QAAO,SAAAC,GAAI,OAAMA,EAAI,WAAkBiC,EAAO,eAAiBvF,OAAS,EACvE2H,EACGtE,QAAO,SAAAC,GAAI,OAAMA,EAAI,WAAiBiC,EAAO,eAC7ChC,KAAI,SAACiF,GAAD,OACG,wBACIrK,MAAOqK,EAAO,GADlB,SAEE,OAASC,EAAWD,EAAO,YAAkB,QAAUC,EAAWD,EAAO,gBAGrF,wBAAQrK,MAAM,KAAd,+CAKlB,eAACuK,EAAA,EAAMvH,OAAP,WACI,cAACqC,EAAA,EAAD,CAAQC,QAAQ,YAAY9F,QAAS,kBAAM+b,MAA3C,qBAGsB,WAArB5X,GAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,UAAUC,UAAQ,EAAlC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAU3F,KAAK,SAA/B,6BAQhB,eAAC4K,EAAA,EAAD,CAAOxE,KAAMiQ,GAAiB5L,OAAQ,kBAAMkM,MAA5C,UACI,cAAC/L,EAAA,EAAM/H,OAAP,CAAcgI,aAAW,EAAzB,SACI,cAACD,EAAA,EAAMtC,MAAP,qCAEJ,eAACsC,EAAA,EAAMvC,KAAP,iCACwB6E,GAAShL,OADjC,cACoDgL,GAAShL,OAAS,EAAI,IAAM,GADhF,wBAGA,eAAC0I,EAAA,EAAMvH,OAAP,WACI,cAACqC,EAAA,EAAD,CAAQC,QAAQ,YAAY9F,QAAS,kBAAM8W,MAA3C,qBAGsB,WAArB3S,GAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,SAASC,UAAQ,EAAjC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,SAAS9F,QAAS,kBA5wB4G,2CA4wBtGogB,IAAxC,gCAnjBZ,cAAC,IAAD,CAAUvf,GAAG,WC7NV,SAASwf,GAAT,GACgG,IADtE9gB,EACqE,EADrEA,WAAYyK,EACyD,EADzDA,SAAUtI,EAC+C,EAD/CA,YAAa4e,EACkC,EADlCA,oBAAqBlR,EACa,EADbA,UACrDmR,EAAkE,EAAlEA,kBAAmBC,EAA+C,EAA/CA,oBAAqBzW,EAA0B,EAA1BA,YAAae,EAAa,EAAbA,WAC7F,EAAoC7H,oBAAS,GAA7C,mBAAOgK,EAAP,KAAmBC,EAAnB,KACA,EAAwCjK,mBAAS,IAAjD,mBAAOwd,EAAP,KAAqBC,EAArB,KAEA,EAAoCzd,oBAAS,GAA7C,mBAAO0d,EAAP,KAAmBC,EAAnB,KAqBA,SAASC,EAAyB3gB,IACnB,IAARA,GACCogB,EAAoBG,GACpBC,EAAgB,IAChBxT,GAAc,KAEdoT,EAAoB,CAACpgB,IACrBwgB,EAAgBD,EAAa/a,QAAO,SAAAC,GAAI,QAAMA,EAAI,KAAWzF,QAhCqC,SAoC3F4gB,IApC2F,2EAoC1G,8BAAAhf,EAAA,6DACI8e,GAAc,GADlB,SAEsB7e,MAAM,+BAAgC,CACpD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAACnD,kBAL9B,cAEUM,EAFV,gBAOuBA,EAAIC,OAP3B,QAOU6C,EAPV,QASY,IACJ0b,EAAoB1b,GACpB8b,GAAc,KAEdtc,MAAM,wDACNsc,GAAc,IAdtB,4CApC0G,sBAsD1G,OAAKrhB,EAOD,mCACI,uBAAMF,UAAU,YAAhB,UACI,6CACA,eAAC0P,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACjP,KAAK,KAAKZ,UAAU,WAAlD,UACI,gCACA,+BACI,uBACA,2CACA,yCACA,4BAGJ,kCACA,+BACI,oBAAIA,UAAU,cAAd,SACI,qBAAKA,UAAU,4EAAf,SACI,cAAC0F,EAAA,EAAD,CAAM1F,UAAU,4EAAhB,SACI,cAAC0F,EAAA,EAAK2D,MAAN,CACIvI,KAAK,WACLd,UAAU,iBACVgB,SAAU,WA1EtC4M,GACAyT,EAAgB,IAChBxT,GAAc,KAEdwT,EAAgBhf,EAAYkE,KAAI,SAAAD,GAAI,OAAIA,EAAI,OAC5CuH,GAAc,KAsEc7E,QAAS4E,UAKzB,oBAAIoC,QAAS,IACb,oBAAIhQ,UAAU,mBAAd,SACI,cAACwG,EAAA,EAAD,CAAQC,QAAQ,SAASzG,UAAU,iBAAiBW,QAAS,kBAAM6gB,GAA0B,IAA7F,SAAiG,cAAC,IAAD,WAGxGnf,EAAYkE,KAAI,SAAAD,GAAI,OACjB,+BACI,oBAAItG,UAAU,cAAd,SACI,qBAAKA,UAAU,4EAAf,SACI,cAAC0F,EAAA,EAAD,CAAM1F,UAAU,4EAAhB,SACI,cAAC0F,EAAA,EAAK2D,MAAN,CACIvI,KAAK,WACLd,UAAU,iBACVgB,SAAU,kBApFtB0gB,EAoF+Cpb,EAAI,GAnF3EuH,GAAc,QACVuT,EAAarY,SAAS2Y,GACtBL,EAAgBD,EAAa/a,QAAO,SAACxF,GAAD,OAASA,IAAO6gB,MAEpDL,EAAgB,GAAD,mBAAKD,GAAL,CAAmBM,MAL1C,IAA4BA,GAqFY1Y,QAASoY,EAAarY,SAASzC,EAAI,YAKnD,6BACKyJ,EAAU1J,QAAO,SAAAua,GAAG,OAAKta,EAAI,cAAoBsa,EAAG,MAASra,KAAI,SAAAD,GAAI,OAClE,eAAC,IAAD,CAAM9E,GAAI,sBAAwB8E,EAAI,GAAQzF,GAAIyF,EAAI,GAAS,QAA/D,UACI,qBAAKnD,IAAKmD,EAAI,KAAWA,EAAI,KAAW,0BAA2BtG,UAAU,eAAesD,IAAI,KAChG,sBAAMtD,UAAU,gBAAhB,SAAiCsG,EAAI,eAIjD,6BACI,cAACZ,EAAA,EAAKS,QAAN,CACItF,GAAG,UACHe,GAAG,SACHT,MAAOmF,EAAI,UACXtF,SAAU,SAACC,GAAD,OAAOigB,EAAkB5a,EAAI,GAAQrF,EAAEC,OAAOC,QAJ5D,SAMKwJ,EACItE,QAAO,SAAAmF,GAAO,QACXA,EAAO,WACPnJ,EAAYgE,QAAO,SAAAgF,GAAM,OAAKA,EAAM,KAAW/E,EAAI,IAAU+E,EAAM,cAAoB/E,EAAI,eACtFC,KAAI,SAAA8E,GAAM,OAAIA,EAAM,aACpBtC,SAASyC,EAAO,KACrBd,EAAYrE,QAAO,SAAA1D,GAAG,OAAMA,EAAG,WAAiBA,EAAG,cAAoB2D,EAAI,eACtEC,KAAI,SAAA5D,GAAG,OAAIA,EAAG,aACdoG,SAASyC,EAAO,QAExBjF,KAAI,SAACiF,GAAD,OACL,wBACIrK,MAAOqK,EAAO,GADlB,SAGK,OAASC,EAAWD,EAAO,YAAkB,QAAUC,EAAWD,EAAO,oBAK1F,oBAAIxL,UAAU,mBAAd,SACI,cAACwG,EAAA,EAAD,CAAQC,QAAQ,SAASzG,UAAU,iBAAiBW,QAAS,kBAAM6gB,EAAyBlb,EAAI,KAAhG,SAAyG,cAAC,IAAD,iBAKrH,gCACI,qBAAI0J,QAAS,EAAGhQ,UAAU,aAA1B,UACI,cAACwG,EAAA,EAAD,CACI5E,GAAID,IACJH,GAAG,IACHxB,UAAU,OACVyG,QAAQ,YAJZ,6BAQEpE,EAAYW,OAsBV,cAACwD,EAAA,EAAD,CACI5E,GAAID,IACJH,GAAG,wBACHiF,QAASpE,EAAYW,OAAS,EAAI,UAAY,SAC9CrC,QAAS,kBAAM8gB,KACfzhB,UAAU,MACV0G,UAAWrE,EAAYW,OAN3B,SAQKX,EAAYW,OAAS,EAAKse,EAEnB,qCACI,cAACrd,EAAA,EAAD,CAASC,UAAU,SAAS/B,KAAK,SAASsE,QAAQ,QAAlD,SACI,sBAAMzG,UAAU,UAAhB,wBAEJ,sBAAMA,UAAU,OAAhB,yBAIF,WACN,wBAvCR,cAACwG,EAAA,EAAD,CACIC,QAASpE,EAAYW,OAAS,EAAI,UAAY,SAC9CrC,QAAS,kBAAM8gB,KACfzhB,UAAU,MACV0G,UAAWrE,EAAYW,OAJ3B,SAMKX,EAAYW,OAAS,EAAKse,EAEnB,qCACI,cAACrd,EAAA,EAAD,CAASC,UAAU,SAAS/B,KAAK,SAASsE,QAAQ,QAAlD,SACI,sBAAMzG,UAAU,UAAhB,wBAEJ,sBAAMA,UAAU,OAAhB,yBAIF,WACN,qCAvH5B,cAAC,IAAD,CAAUwB,GAAG,WC3DV,SAASmgB,GAAT,GAAqG,IAAlEzhB,EAAiE,EAAjEA,WAAY0hB,EAAqD,EAArDA,kBAAmB7R,EAAkC,EAAlCA,UAAWpF,EAAuB,EAAvBA,SAAUc,EAAa,EAAbA,WAElG,OAAKvL,EAOD,uBAAMF,UAAU,YAAhB,UACI,iEACA,0BAASA,UAAU,OAAnB,UACI,qDACA,+FAGA,eAAC0P,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACjP,KAAK,KAAKZ,UAAU,WAAlD,UACI,gCACA,+BACI,2CACA,8CAGJ,gCACC4hB,EAAiB,YAAgBrb,KAAI,SAAAD,GAAI,OACtC,+BACI,6BACKyJ,EAAU1J,QAAO,SAAAua,GAAG,OAAKta,EAAI,cAAoBsa,EAAG,MAASra,KAAI,SAAAqa,GAAG,OACjE,eAAC,IAAD,CAAMpf,GAAI,sBAAwBof,EAAG,GAAQ/f,GAAI+f,EAAG,GAAS,QAA7D,UACI,qBAAKzd,IAAKyd,EAAG,KAAWA,EAAG,KAAW,0BAA2B5gB,UAAU,eAAesD,IAAI,KAC9F,sBAAMtD,UAAU,gBAAhB,SAAiC4gB,EAAG,eAIhD,6BACKjW,EAAStE,QAAO,SAAAmF,GAAO,OAAKlF,EAAI,YAAkBkF,EAAO,MAASjF,KAAI,SAAAiF,GAAO,MAC1E,OAASC,EAAWD,EAAO,YAAkB,QAAUC,EAAWD,EAAO,8BASjG,0BAASxL,UAAW4hB,EAAiB,QAAY5e,OAAS,EAAI,UAAY,SAA1E,UACI,sDACA,4LAIA,eAAC0M,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACjP,KAAK,KAAKZ,UAAU,WAAlD,UACI,gCACA,+BACI,2CACA,8CAGJ,gCACC4hB,EAAiB,QAAYrb,KAAI,SAAAD,GAAI,OAClC,+BACI,6BACKyJ,EAAU1J,QAAO,SAAAua,GAAG,OAAKta,EAAI,cAAoBsa,EAAG,MAASra,KAAI,SAAAqa,GAAG,OACjE,eAAC,IAAD,CAAMpf,GAAI,sBAAwBof,EAAG,GAAQ/f,GAAI+f,EAAG,GAAS,QAA7D,UACI,qBAAKzd,IAAKyd,EAAG,KAAWA,EAAG,KAAW,0BAA2B5gB,UAAU,eAAesD,IAAI,KAC9F,sBAAMtD,UAAU,gBAAhB,SAAiC4gB,EAAG,eAIhD,6BACKjW,EAAStE,QAAO,SAAAmF,GAAO,OAAKlF,EAAI,YAAkBkF,EAAO,MAASjF,KAAI,SAAAiF,GAAO,MAC1E,OAASC,EAAWD,EAAO,YAAkB,QAAUC,EAAWD,EAAO,iCAnEjG,cAAC,IAAD,CAAUhK,GAAG,WCAV,SAASqgB,GAAT,GAE2H,IAF5F3hB,EAE2F,EAF3FA,WAAY6J,EAE+E,EAF/EA,SAAU0U,EAEqE,EAFrEA,oBAAqB9T,EAEgD,EAFhDA,SAAUoF,EAEsC,EAFtCA,UAAWxH,EAE2B,EAF3BA,QACtEsB,EACiG,EADjGA,YAAaC,EACoF,EADpFA,SAAUzJ,EAC0E,EAD1EA,cAAe2J,EAC2D,EAD3DA,2BACtC4U,EAAiG,EAAjGA,oBAAqBnT,EAA4E,EAA5EA,WAAYf,EAAgE,EAAhEA,YAAarI,EAAmD,EAAnDA,YAAawJ,EAAsC,EAAtCA,kBAAmBC,EAAmB,EAAnBA,iBAClH,EAAoClI,oBAAS,GAA7C,mBAAOgK,EAAP,KAAmBC,EAAnB,KACA,EAAoDjK,mBAAS,IAA7D,mBAAOqb,EAAP,KAA2BC,EAA3B,KACA,EAA0Ctb,oBAAU,GAApD,mBAAOub,EAAP,KAAsBC,EAAtB,KAEA,EAA8Cxb,oBAAS,GAAvD,mBAAOuT,EAAP,KAAwBC,EAAxB,KACA,EAAgCxT,mBAAS,IAAzC,mBAAOoK,GAAP,KAAiBC,GAAjB,KAEA,GAAsDrK,oBAAS,GAA/D,qBAAOke,GAAP,MAA4BC,GAA5B,MACA,GAA4Cne,mBAAS,CAAC,aAAgB,EAAG,WAAc,IAAvF,qBAAOqI,GAAP,MAAuBC,GAAvB,MACA,GAA4CtI,oBAAS,GAArD,qBAAOuI,GAAP,MAAuBC,GAAvB,MACA,GAAqDxI,mBAAS,IAA9D,qBAAOyI,GAAP,MAA2BC,GAA3B,MACA,GAAkD1I,mBAAS,CAAC,WAAc,aAAc,UAAa,eAArG,qBAAO2I,GAAP,MAA0BC,GAA1B,MAEA,GAAgD5I,mBAAS,IAAzD,qBAAOkB,GAAP,MAAyBC,GAAzB,MAyBA,SAASwb,GAAsB1f,GAC3BuW,GAAmB,GACnB,IAAI9I,EAAM,IACE,IAARzN,EACAyN,EAAM2Q,EAEN3Q,EAAIC,KAAK1N,GAEboN,GAAYK,GA/CqH,8CA8ErI,8BAAA7L,EAAA,6DACIsC,GAAoB,UADxB,SAEsBrC,MAAM,gCAAiC,CACrD0C,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CAACwI,YAAU,YAAejE,EAAQ,OAL/D,cAEUpH,EAFV,gBAOuBA,EAAIC,OAP3B,QAOU6C,EAPV,QASY,GACJmZ,EAAoBnZ,EAAI,KAExBR,MAAM,iDAEVwS,KAdJ,4CA9EqI,sBA+FrI,SAASA,KACLL,GAAmB,GACnBnJ,GAAY,IACZlJ,GAAoB,IAGxB,SAASid,KACLD,IAAuB,GACvB7V,GAAkB,2BAAID,IAAL,IAAqB,aAAgB,KAG1D,OAAK/L,EAOD,qCACI,uBAAMF,UAAU,YAAhB,UACI,kDACA,cAAC4J,EAAD,CACIrB,QAASA,EACTlI,cAAeA,EACfwJ,YAAaA,EACbC,SAAUA,EACVC,SAAUA,EACVC,2BAA4BA,IAEhC,eAACtE,EAAA,EAAKE,MAAN,CAAYhE,GAAIiE,IAAK7F,UAAU,YAA/B,UACI,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAOrK,UAAU,qCAAzB,SACI,cAAC0F,EAAA,EAAKK,MAAN,CAAY/F,UAAU,OAAtB,wBAEJ,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAR,SACI,eAAC3E,EAAA,EAAKS,QAAN,CACIvE,GAAG,SACHT,MAAOge,EACPne,SAAU,SAAAC,GAAC,OAAIme,EAAiB9U,SAASrJ,EAAEC,OAAOC,SAClDiF,UAAQ,EAJZ,UAMI,wBAAQjF,MAAM,KAAd,2BACCwJ,EAAStE,QAAO,SAAAC,GAAI,OAAKA,EAAI,aAAetD,OAAS,EAAI2H,EAAStE,QAAO,SAAAC,GAAI,OAAKA,EAAI,aAAeC,KAAI,SAACiF,GAAD,OAClG,wBACIrK,MAAOqK,EAAO,GADlB,SAEE,OAASC,EAAWD,EAAO,YAAkB,QAAUC,EAAWD,EAAO,gBAE/E,wBAAQrK,MAAM,KAAd,+CAIhB,eAACuO,GAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAACjP,KAAK,KAAKZ,UAAU,WAAlD,UACI,gCACA,+BACI,oBAAIA,UAAU,6BACd,2CACA,yCACA,2CACA,4BAGJ,kCACA,+BACI,oBAAIA,UAAU,cAAd,SACI,qBAAKA,UAAU,4EAAf,SACI,cAAC0F,EAAA,EAAD,CAAM1F,UAAU,4EAAhB,SACI,cAAC0F,EAAA,EAAK2D,MAAN,CACIvI,KAAK,WACLd,UAAU,iBACVgB,SAAU,WAlJtC4M,GACAsR,EAAsB,IACtBrR,GAAc,KAEdqR,EAAsBT,EACjBpY,QAAO,SAAAC,GAAI,QACY,IAAnB6Y,GAAwB7Y,EAAI,YAAkB6Y,IAC9C7Y,EAAI,cAAoByD,EAAQ,MACpCxD,KAAI,SAACoa,GAAD,OAAiBA,EAAU,OACpC9S,GAAc,KA0Ic7E,QAAS4E,UAKzB,oBAAIoC,QAAS,IACb,oBAAIhQ,UAAU,mBAAd,SACI,cAACwG,EAAA,EAAD,CAAQC,QAAQ,SAASzG,UAAU,iBAAiBW,QAAS,kBAAM4f,IAAuB,IAA1F,SAA8F,cAAC,IAAD,WAGrG9B,EACIpY,QAAO,SAAAC,GAAI,QACgB,IAAnB6Y,GAAwB7Y,EAAI,YAAkB6Y,IAC9C7Y,EAAI,cAAoByD,EAAQ,MAGxCxD,KAAI,SAACoa,GAAD,OACL,+BACI,oBAAI3gB,UAAU,cAAd,SACI,qBAAKA,UAAU,4EAAf,SACI,cAAC0F,EAAA,EAAD,CAAM1F,UAAU,4EAAhB,SACI,cAAC0F,EAAA,EAAK2D,MAAN,CACIvI,KAAK,WACLd,UAAU,iBACVgB,SAAU,kBA9JjB4L,EA8J+C+T,EAAU,GA7JtF9S,GAAc,QACVoR,EAAmBlW,SAAS6D,GAC5BsS,EAAsBD,EAAmB5Y,QAAO,SAACxF,GAAD,OAASA,IAAO+L,MAEhEsS,EAAsB,GAAD,mBAAKD,GAAL,CAAyBrS,MALtD,IAAiCA,GA+JO5D,QAASiW,EAAmBlW,SAAS4X,EAAU,YAK/D,6BACI,eAAC,IAAD,CAAMnf,GAAI,sBAAwBmf,EAAU,YAA5C,UACI,qBACIxd,IAAK4M,EAAUjD,MAAK,SAAA8T,GAAG,OAAKD,EAAU,cAAoBC,EAAG,MAAxD,KACC7Q,EAAUjD,MAAK,SAAA8T,GAAG,OAAKD,EAAU,cAAoBC,EAAG,MAAxD,KACA,0BACN5gB,UAAU,eACVsD,IAAI,KAER,sBAAMtD,UAAU,gBAAhB,SACC+P,EAAUjD,MAAK,SAAA8T,GAAG,OAAKD,EAAU,cAAoBC,EAAG,MAAxD,YAIT,6BACKjW,EAASmC,MAAK,SAAAtB,GAAO,OAAKA,EAAO,KAAWmV,EAAU,aAEnD,qCACI,8BACK,OAASlV,EAAWd,EAASmC,MAAK,SAAAtB,GAAO,OAAKA,EAAO,KAAWmV,EAAU,aAAtD,cAEzB,8BACK,OAASlV,EAAWd,EAASmC,MAAK,SAAAtB,GAAO,OAAKA,EAAO,KAAWmV,EAAU,aAAtD,gBAI7B,+BAGR,6BACKA,EAAU,UAEP,cAACxV,EAAA,EAAD,CAAOC,MAAI,EAAC3E,QAAQ,UAApB,SACI,+CAKJ,cAAC0E,EAAA,EAAD,CAAOC,MAAI,EAAC3E,QAAQ,SAApB,SACI,sDAMZ,qBAAIzG,UAAU,mBAAd,UACI,cAACwG,EAAA,EAAD,CAAQC,QAAQ,UAAUzG,UAAU,iBAAiBW,QAAS,kBA9L/DE,EA8LuF8f,EAAU,YA7LxHoB,IAAuB,QACvB7V,GAAkB,2BAAID,IAAL,IAAqB,YAAepL,KAFzD,IAA2BA,GA8LC,SAAkH,cAAC,IAAD,MAClH,cAAC2F,EAAA,EAAD,CAAQC,QAAQ,SAASzG,UAAU,iBAAiBW,QAAS,kBAAM4f,GAAsBI,EAAU,KAAnG,SAA4G,cAAC,IAAD,wBAQhI,eAACjV,EAAA,EAAD,CAAOxE,KAAMiQ,EAAiB5L,OAAQ,kBAAMkM,MAA5C,UACI,cAAC/L,EAAA,EAAM/H,OAAP,CAAcgI,aAAW,EAAzB,SACI,cAACD,EAAA,EAAMtC,MAAP,qCAEJ,eAACsC,EAAA,EAAMvC,KAAP,iCACwB6E,GAAShL,OADjC,cACoDgL,GAAShL,OAAS,EAAI,IAAM,GADhF,wBAGA,eAAC0I,EAAA,EAAMvH,OAAP,WACI,cAACqC,EAAA,EAAD,CAAQC,QAAQ,YAAY9F,QAAS,kBAAM8W,MAA3C,qBAGsB,WAArB3S,GAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,SAASC,UAAQ,EAAjC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,SAAS9F,QAAS,kBAhR+E,2CAgRzEogB,IAAxC,6BAOZ,eAACrV,EAAA,EAAD,CAAOxE,KAAM4a,GAAqBvW,OAAQ,kBAAMyW,MAAhD,UACI,cAACtW,EAAA,EAAM/H,OAAP,CAAcgI,aAAW,EAAzB,SACI,cAACD,EAAA,EAAMtC,MAAP,kDAEJ,eAAC1D,EAAA,EAAD,CAAMC,SApOlB,SAA+B1E,GAE3B,OADAA,EAAE+D,iBACGiH,GAAc,YAAkD,IAAjCA,GAAc,UAC9C5J,EAAYkE,KAAI,SAAAD,GAAI,OAAIA,EAAI,eAAiByC,SAASkD,GAAc,aAAmB5J,EAAYgE,QAAO,SAAAC,GAAI,OAAKA,EAAI,cAAoB2F,GAAc,eAAkB1F,KAAI,SAAAD,GAAI,OAAIA,EAAI,aAAeyC,SAASkD,GAAc,YAC1NhH,MAAM,gDAEjBF,GAAoB,aACpB+G,EAAiBG,GAAc,YAAiBA,GAAc,WAMnCW,EALLX,GAAc,YAKIY,EALaZ,GAAc,UAMnEK,GAAuBT,EAAkBiB,MAAK,SAAAxG,GAAI,OAAKA,EAAI,KAAWsG,MACtEJ,GAAqB7B,EAASmC,MAAK,SAAAxG,GAAI,OAAKA,EAAI,KAAWuG,MAC3DT,IAAkB,GAPlB4V,UACAjd,GAAoB,KAR2DE,MAAM,yBAWzF,IAA+B2H,EAAaC,GAuNhC,UACI,cAACnB,EAAA,EAAMvC,KAAP,UACI,eAACzD,EAAA,EAAKE,MAAN,CAAYhE,GAAIiE,IAAK7F,UAAU,YAA/B,UACI,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAOrK,UAAU,qCAAzB,SACI,cAAC0F,EAAA,EAAKK,MAAN,CAAY/F,UAAU,OAAtB,wBAEJ,cAACkG,EAAA,EAAD,CAAKmE,GAAG,OAAR,SACI,eAAC3E,EAAA,EAAKS,QAAN,CACIvE,GAAG,SACHT,MAAO8K,GAAc,UACrBjL,SAAU,SAAAC,GAAC,OAAIiL,GAAkB,2BAAID,IAAL,IAAqB,UAAa3B,SAASrJ,EAAEC,OAAOC,WACpFiF,UAAQ,EAJZ,UAMI,wBAAQjF,MAAM,KAAd,qBACCwJ,EAAStE,QAAO,SAAAC,GAAI,QACjBA,EAAI,WAAiBoE,EAChBrE,QAAO,SAAA1D,GAAG,OAAMA,EAAG,WAAiBA,EAAG,cAAoBsJ,GAAc,eACzE1F,KAAI,SAAA5D,GAAG,OAAIA,EAAG,aACdoG,SAASzC,EAAI,KAClBjE,EAAYgE,QAAO,SAAAgF,GAAM,OAAKA,EAAM,cAAoBY,GAAc,eACjE1F,KAAI,SAAA8E,GAAM,OAAIA,EAAM,aACpBtC,SAASzC,EAAI,QACnBtD,OAAS,EAAI2H,EAAStE,QAAO,SAAAC,GAAI,QAC5BA,EAAI,WAAiBoE,EAChBrE,QAAO,SAAA1D,GAAG,OAAMA,EAAG,WAAiBA,EAAG,cAAoBsJ,GAAc,eACzE1F,KAAI,SAAA5D,GAAG,OAAIA,EAAG,aACdoG,SAASzC,EAAI,KAClBjE,EAAYgE,QAAO,SAAAgF,GAAM,OAAKA,EAAM,cAAoBY,GAAc,eACjE1F,KAAI,SAAA8E,GAAM,OAAIA,EAAM,aACpBtC,SAASzC,EAAI,QAErBC,KAAI,SAACiF,GAAD,OACD,wBACIrK,MAAOqK,EAAO,GADlB,SAEE,OAASC,EAAWD,EAAO,YAAkB,QAAUC,EAAWD,EAAO,gBAE/E,wBAAQrK,MAAM,KAAd,iDAKpB,eAACuK,EAAA,EAAMvH,OAAP,WACI,cAACqC,EAAA,EAAD,CAAQC,QAAQ,YAAY9F,QAAS,kBAAMqhB,MAA3C,qBAGsB,cAArBld,GAEG,eAAC0B,EAAA,EAAD,CAAQC,QAAQ,UAAUC,UAAQ,EAAlC,UACI,cAACzC,EAAA,EAAD,CACIrC,GAAG,OACHsC,UAAU,SACVtD,KAAK,KACLuB,KAAK,SACLwE,cAAY,SANpB,eAUA,cAACH,EAAA,EAAD,CAAQC,QAAQ,UAAU3F,KAAK,SAA/B,gCAQhB,cAACwK,EAAD,CACIpE,KAAMiF,GACNZ,OAAQ,WAnRhBa,IAAkB,IAoRV9F,KAAM+F,GACNb,QAASe,GACTd,WAAYA,OArPhB,cAAC,IAAD,CAAUjK,GAAG,WJdzBkc,GAAa3Z,aAAe,CACxB8Z,aAAc,IKi9BHoE,OA7hCf,WACI,MAA8Bre,oBAAS,GAAvC,mBAAO2U,EAAP,KAAgBC,EAAhB,KACA,EAA0C5U,mBAAS,IAAnD,mBAAOtD,EAAP,KAAsB4hB,EAAtB,KACA,EAAkCte,mBAAS,CAAC,MAAS,GAAI,KAAQ,KAAjE,mBAAOyJ,EAAP,KAAkB8U,EAAlB,KACA,EAAwCve,mBAAS,CAAC,MAAS,GAAI,KAAQ,KAAvE,mBAAOob,EAAP,KAAqBoD,EAArB,KAEA,EAAgCxe,mBAAS,CAAC,WAAc,IAAxD,mBAAOmG,EAAP,KAAiBsY,EAAjB,KACA,EAAsCze,mBAAS,IAA/C,mBAAOW,EAAP,KAAoB+d,EAApB,KACA,EAA8B1e,mBAAS,CAAC,YAAe,GAAI,WAAc,GAAI,YAAe,IAA5F,mBAAO2E,EAAP,KAAgBga,EAAhB,KACA,EAAkC3e,mBAAS,IAA3C,mBAAOmM,EAAP,KAAkByS,EAAlB,KACA,EAAkD5e,mBAAS,IAA3D,mBAAOiI,EAAP,KAA0B4W,EAA1B,KACA,EAAsC7e,mBAAS,IAA/C,oBAAOiG,GAAP,MAAoB6Y,GAApB,MACA,GAAgC9e,mBAAS,CAAC,IAAO,EAAG,KAAQ,WAAY,eAAkB,KAA1F,qBAAOkG,GAAP,MAAiB6Y,GAAjB,MACA,GAAgC/e,mBAAS,IAAzC,qBAAO+G,GAAP,MAAiBiY,GAAjB,MACA,GAAoChf,mBAAS,IAA7C,qBAAOyU,GAAP,MAAmBwK,GAAnB,MACA,GAA8Bjf,mBAAS,IAAvC,qBAAOwU,GAAP,MAAgB0K,GAAhB,MACA,GAAsClf,mBAAS,IAA/C,qBAAO8G,GAAP,MAAoBqY,GAApB,MACA,GAAsDnf,mBAAS,IAA/D,qBAAO6a,GAAP,MAA4BuE,GAA5B,MACA,GAAsCpf,mBAAS,IAA/C,qBAAOvB,GAAP,MAAoB4gB,GAApB,MACA,GAAkDrf,mBAAS,CAAC,YAAe,GAAI,QAAW,KAA1F,qBAAOge,GAAP,MAA0BsB,GAA1B,MAnBW,SA4BIC,GA5BJ,iFA4BX,WAAqBpZ,GAArB,uBAAAtH,EAAA,6DACI+V,GAAW,GACX6J,EAAYtY,GAFhB,SAGyBqZ,KAHzB,cAGUC,EAHV,gBAIyBC,GAAcD,EAAO,GAAIA,EAAO,IAJzD,cAIUE,EAJV,iBAKUC,KALV,yBAMUC,KANV,yBAOUC,KAPV,yBAQyBC,KARzB,eAQUC,EARV,iBAS4BC,GAAgBN,EAAQjjB,EAAeiI,GATnE,eASUub,EATV,iBAU4BC,GAAkBH,EAAQE,EAAWvb,GAVjE,SAUUyb,EAVV,SAYQxL,GAAW,GAEfiK,EAAqBqB,GACrBd,GAAuBgB,GAf3B,6CA5BW,oEA+CX,sBAAAvhB,EAAA,6DACI+V,GAAW,GACX0J,EAAiB,IACjBG,EAAY,CAAC,WAAc,IAC3BC,EAAe,IACfC,EAAW,CAAC,YAAe,GAAI,WAAc,GAAI,YAAe,IAChEC,EAAa,IACbC,EAAqB,IACrBC,GAAe,IACfC,GAAY,CAAC,IAAO,EAAG,KAAQ,WAAY,eAAkB,KAC7DC,GAAY,IACZC,GAAc,IACdC,GAAW,IACXC,GAAe,IACfC,GAAuB,IACvBC,GAAe,IAfnB,UAgB0BgB,KAhB1B,gBAkBQzL,GAAW,GAlBnB,6CA/CW,sBAsEX,SAAS/M,GAAWyY,GAChB,IAGIC,EAHAC,EAAYF,EAAK3U,MAAM,KACvB8U,EAAMD,EAAU,GAChBE,EAAOF,EAAU,GAErB,OAAQ9Z,SAAS8Z,EAAU,KACvB,KAAK,EACDD,EAAQ,UACR,MACJ,KAAK,EACDA,EAAQ,WACR,MACJ,KAAK,EACDA,EAAQ,QACR,MACJ,KAAK,EACDA,EAAQ,QACR,MACJ,KAAK,EACDA,EAAQ,MACR,MACJ,KAAK,EACDA,EAAQ,OACR,MACJ,KAAK,EACDA,EAAQ,OACR,MACJ,KAAK,EACDA,EAAQ,WACR,MACJ,KAAK,EACDA,EAAQ,YACR,MACJ,KAAK,GACDA,EAAQ,UACR,MACJ,KAAK,GACDA,EAAQ,WACR,MACJ,QACIA,EAAQ,WAEhB,OAAOE,EAAM,IAAMF,EAAQ,IAAMG,EAhH1B,SAoHIL,KApHJ,8EAoHX,8BAAAxhB,EAAA,6DACI+V,GAAW,GADf,SAEsB9V,MAAM,wBAF5B,cAEUC,EAFV,gBAGuBA,EAAIC,OAH3B,YAGU6C,EAHV,QAKY,GALZ,wBAMQ6c,EAAe7c,EAAI,aAN3B,mBAOe,GAPf,eASIR,MAAM,iDATV,mBAUW,GAVX,6CApHW,sBAkIX,SAASsf,GAAkB3c,GACvB,OAAOA,EAAIC,QAAQ,OAAQ,MAAMA,QAAQ,OAAQ,MAAMA,QAAQ,OAAQ,MAnIhE,SAsIIyb,GAtIJ,mFAsIX,WAA6BzZ,EAAaC,GAA1C,mBAAArH,EAAA,sEACsBC,MAAM,sBAD5B,cACUC,EADV,gBAEuBA,EAAIC,OAF3B,YAEU6C,EAFV,QAIY,GAJZ,qBAKYA,EAAI,UALhB,wBAMgB+e,EAAe,GACnB/e,EAAI,UAAc+J,SAAQ,SAAClJ,GACvBke,EAAajW,KAAb,2BACQjI,GADR,IAEQ,eAAkBA,EAAI,eAAmBD,QAAO,SAAAsD,GAAI,MAAK,GAAGf,OAAOC,MAAM,GAAGgB,EAAYtD,KAAI,SAAAuC,GAAC,OAAKA,EAAC,kBAAqBvC,KAAI,SAAAke,GAAI,OAAKA,EAAKle,KAAI,SAAAoC,GAAE,OAAIA,EAAE,UAAWI,SAASY,MAC1K,WAAcrD,EAAI,eAAmBD,QAAO,SAAAsD,GAAI,OAAKG,EAAQ,eAAmBvD,KAAI,SAAAoC,GAAE,OAAKA,EAAE,MAASI,SAASY,MAC/G,YAAe4a,GAAkBje,EAAI,mBAGjDkc,EAAagC,GAfzB,kBAgBmBA,GAhBnB,iCAkBezU,GAlBf,QAoBQ9K,MAAM,uDApBd,6CAtIW,+BA8JIwM,GA9JJ,iFA8JX,WAA8B+S,GAA9B,mBAAA/hB,EAAA,6DACUiiB,EADV,sBACuB3U,GADvB,CACkCyU,IAC9BhC,EAAakC,GAFjB,SAG4Bb,GAAgBa,EAAQpkB,EAAeiI,GAHnE,cAGUub,EAHV,OAIIrB,EAAqBqB,GAJzB,SAK4BC,GAAkBrZ,GAAaoZ,EAAWvb,GALtE,OAKUyb,EALV,OAMIhB,GAAuBgB,GAN3B,6CA9JW,+BAuKItS,GAvKJ,iFAuKX,WAAiCiT,GAAjC,mBAAAliB,EAAA,6DACQ+hB,EAAe,GACnBzU,EAAUP,SAAQ,SAAAlJ,GACXA,EAAI,KAAWqe,EAAgB,GAC9BH,EAAajW,KAAKoW,GAElBH,EAAajW,KAAKjI,MAG1Bkc,EAAagC,GATjB,SAU4BX,GAAgBW,EAAclkB,EAAeiI,GAVzE,cAUUub,EAVV,OAWIrB,EAAqBqB,GAXzB,SAY4BC,GAAkBrZ,GAAaoZ,EAAWvb,GAZtE,OAYUyb,EAZV,OAaIhB,GAAuBgB,GAb3B,6CAvKW,+BAuLIhX,GAvLJ,qFAuLX,WAAgCsB,EAAKD,EAAWuW,GAAhD,mBAAAniB,EAAA,6DACQ+hB,EAAe,GACnBzU,EAAUP,SAAQ,SAAAlJ,GACVgI,EAAIvF,SAASzC,EAAI,IACjBke,EAAajW,KAAb,2BAAsBjI,GAAtB,IAA4B,UAAa+H,EAAW,aAAgBuW,KAEpEJ,EAAajW,KAAKjI,MAG1Bkc,EAAagC,GATjB,SAU4BX,GAAgBW,EAAclkB,EAAeiI,GAVzE,cAUUub,EAVV,OAWIrB,EAAqBqB,GAXzB,SAY4BC,GAAkBrZ,GAAaoZ,EAAWvb,GAZtE,OAYUyb,EAZV,OAaIhB,GAAuBgB,GAb3B,6CAvLW,+BAuMI/W,GAvMJ,iFAuMX,WAAiCqB,GAAjC,mBAAA7L,EAAA,6DACQ+hB,EAAezU,EAAU1J,QAAO,SAACC,GAAD,OAAYgI,EAAIvF,SAASzC,EAAI,OACjEkc,EAAagC,GAFjB,SAG4BX,GAAgBW,EAAclkB,EAAeiI,GAHzE,cAGUub,EAHV,OAIIrB,EAAqBqB,GAJzB,SAK4BC,GAAkBrZ,GAAaoZ,EAAWvb,GALtE,OAKUyb,EALV,OAMIhB,GAAuBgB,GAN3B,6CAvMW,+BAgNI9W,GAhNJ,mFAgNX,WAAmCrM,EAAIoO,GAAvC,mBAAAxM,EAAA,6DACQ+hB,EAAe,GACnBzU,EAAUP,SAAQ,SAAAlJ,GACVzF,IAAOyF,EAAI,GACXke,EAAajW,KAAb,2BAAsBjI,GAAtB,IAA4B,YAAe2I,KAE3CuV,EAAajW,KAAKjI,MAG1Bkc,EAAagC,GATjB,SAU4BX,GAAgBW,EAAclkB,EAAeiI,GAVzE,cAUUub,EAVV,OAWIrB,EAAqBqB,GAXzB,SAY4BC,GAAkBrZ,GAAaoZ,EAAWvb,GAZtE,OAYUyb,EAZV,OAaIhB,GAAuBgB,GAb3B,6CAhNW,+BAgOI7W,GAhOJ,mFAgOX,WAAwCtM,EAAIoO,GAA5C,mBAAAxM,EAAA,6DACQ+hB,EAAe,GACnBzU,EAAUP,SAAQ,SAAAlJ,GACVzF,IAAOyF,EAAI,GACXke,EAAajW,KAAb,2BAAsBjI,GAAtB,IAA4B,iBAAoB2I,KAEhDuV,EAAajW,KAAKjI,MAG1Bkc,EAAagC,GATjB,SAU4BX,GAAgBW,EAAclkB,EAAeiI,GAVzE,cAUUub,EAVV,OAWIrB,EAAqBqB,GAXzB,SAY4BC,GAAkBrZ,GAAaoZ,EAAWvb,GAZtE,OAYUyb,EAZV,OAaIhB,GAAuBgB,GAb3B,6CAhOW,+BAiPI5W,GAjPJ,mFAiPX,WAA6ByX,EAAcC,GAA3C,iBAAAriB,EAAA,sDACI0f,EAAa,CAAC,MAAS0C,EAAc,KAAQC,IAC7CC,QAAQC,IAAIH,EAAc,IAAKC,GAFnC,KAIYD,EAJZ,OAKa,SALb,6BAMY9U,EAAUqB,MAAK,SAAC3O,EAAG4O,GACf,IAAI4T,EAAQxiB,EAAE6b,KAAK4G,cACfC,EAAQ9T,EAAEiN,KAAK4G,cACnB,OAAID,EAAQE,EAA8B,QAAhBL,GAAyB,EAAG,EAClDG,EAAQE,EAA8B,QAAhBL,EAAwB,GAAI,EAC/C,KAXvB,kCAeY/U,EAAUqB,MAAK,SAAC3O,EAAG4O,GACf,IAAI+T,EAAW3iB,EAAEuP,QAAQkT,cACrBG,EAAWhU,EAAEW,QAAQkT,cACzB,OAAIE,EAAWC,EAAiC,QAAhBP,GAAyB,EAAG,EACxDM,EAAWC,EAAiC,QAAhBP,EAAwB,GAAI,EACrD,KApBvB,4CAyBkCjB,GAAgB9T,EAAWzP,EAAeiI,GAzB5E,eAyBU+c,EAzBV,OA0BI7C,EAAqB6C,GA1BzB,UA2BkCvB,GAAkBrZ,GAAa4a,EAAiB/c,GA3BlF,QA2BUgd,EA3BV,OA4BIvC,GAAuBuC,GA5B3B,6CAjPW,+BAgRIxG,GAhRJ,mFAgRX,WAA+B8F,EAAcC,GAA7C,iBAAAriB,EAAA,sDACI2f,EAAgB,CAAC,MAASyC,EAAc,KAAQC,IADpD,KAGYD,EAHZ,OAIa,SAJb,OAaa,cAbb,6BAKYna,GAAY0G,MAAK,SAAC3O,EAAG4O,GACjB,IAAI4T,EAAQlV,EAAUjD,MAAK,SAAA8T,GAAG,OAAKne,EAAC,cAAoBme,EAAG,MAA/C,KAAgEsE,cACxEC,EAAQpV,EAAUjD,MAAK,SAAA8T,GAAG,OAAKvP,EAAC,cAAoBuP,EAAG,MAA/C,KAAgEsE,cAC5E,OAAID,EAAQE,EAA8B,QAAhBL,GAAyB,EAAG,EAClDG,EAAQE,EAA8B,QAAhBL,EAAwB,GAAI,EAC/C,KAVvB,mCAcYpa,GAAY0G,MAAK,SAAC3O,EAAG4O,GACjB,IAAI4T,EAAQ5M,GAAWvL,MAAK,SAAA0Y,GAAI,OAAK/iB,EAAC,cAAoB+iB,EAAI,MAAlD,KAAmEN,cAC3EC,EAAQ9M,GAAWvL,MAAK,SAAA0Y,GAAI,OAAKnU,EAAC,cAAoBmU,EAAI,MAAlD,KAAmEN,cAC/E,OAAID,EAAQE,EAA8B,QAAhBL,GAAyB,EAAG,EAClDG,EAAQE,EAA8B,QAAhBL,EAAwB,GAAI,EAC/C,KAnBvB,mCAuBYpa,GAAY0G,MAAK,SAAC3O,EAAG4O,GACjB,IAAI+T,EAAWrV,EAAUjD,MAAK,SAAA8T,GAAG,OAAKne,EAAC,cAAoBme,EAAG,MAA/C,QAAmEsE,cAC9EG,EAAWtV,EAAUjD,MAAK,SAAA8T,GAAG,OAAKvP,EAAC,cAAoBuP,EAAG,MAA/C,QAAmEsE,cAClF,OAAIE,EAAWC,EAAiC,QAAhBP,GAAyB,EAAG,EACxDM,EAAWC,EAAiC,QAAhBP,EAAwB,GAAI,EACrD,KA5BvB,8CAiCkCjB,GAAgB9T,EAAWzP,EAAeiI,GAjC5E,eAiCU+c,EAjCV,OAkCI7C,EAAqB6C,GAlCzB,UAmCkCvB,GAAkBrZ,GAAa4a,EAAiB/c,GAnClF,QAmCUgd,EAnCV,OAoCIvC,GAAuBuC,GApC3B,6CAhRW,+BAwTI1B,GAxTJ,qFAwTX,WAA+BW,EAAclkB,EAAeiI,GAA5D,eAAA9F,EAAA,sDACQgjB,EAAWjB,EADnB,KAEYjc,EAAO,YAFnB,OAGa,IAHb,OAMa,IANb,6BAIYkd,EAAWA,EAASpf,QAAO,SAAAqf,GAAE,OAAMA,EAAE,aAJjD,kCAOYD,EAAWA,EAASpf,QAAO,SAAAqf,GAAE,OAAIA,EAAE,aAP/C,oEAYID,EAAWA,EAASpf,QAAO,SAAAqf,GAAE,OAAMA,EAAE,KAAStH,cAAcrV,SAASzI,EAAc8d,gBAAoBsH,EAAE,QAAYtH,cAAcuH,WAAWrlB,EAAc8d,kBACvH,IAAjC7V,EAAO,WAAevF,SACtByiB,EAAWA,EAASpf,QAAO,SAAAqf,GAAE,OAAKE,GAAYF,EAAE,WAAgBnd,EAAO,gBAE3EA,EAAO,YAAgBiH,SAAQ,SAAClH,GACe,IAAvCA,EAAS,eAAmBtF,SAC5ByiB,EAAWA,EAASpf,QAAO,SAAAqf,GAAE,OAAKE,GAAYF,EAAE,eAAoBpd,EAAS,uBAlBzF,kBAqBWmd,GArBX,6CAxTW,+BAgVI1B,GAhVJ,qFAgVX,WAAiC8B,EAAgBha,EAAmBtD,GAApE,eAAA9F,EAAA,sDACQgjB,EAAWI,EADnB,KAEYtd,EAAO,YAFnB,OAGa,IAHb,OAMa,IANb,6BAIYkd,EAAWA,EAASpf,QAAO,SAAA1D,GAAG,OAAMA,EAAG,aAJnD,kCAOY8iB,EAAWA,EAASpf,QAAO,SAAA1D,GAAG,OAAGA,EAAG,aAPhD,oEAWI8iB,EAAWA,EAASpf,QAAO,SAAA1D,GAAG,OAAKkJ,EAAkBtF,KAAI,SAAAqa,GAAG,OAAIA,EAAG,MAAQ7X,SAASpG,EAAG,gBAX3F,kBAYW8iB,GAZX,6CAhVW,sBA+VX,SAASG,GAAYE,EAAQC,GACzB,IAAIrB,GAAS,EAMb,OALAqB,EAAOvW,SAAQ,SAAAlJ,GACPwf,EAAO/c,SAASzC,KAChBoe,GAAS,MAGVA,EAtWA,SAyWI1a,GAzWJ,mFAyWX,WAA0ClJ,EAAMD,GAAhD,mBAAA4B,EAAA,sDACQujB,EAAa,CAAC,YAAe,GAAI,WAAc,GAAI,YAAe,GAD1E,KAEYllB,EAFZ,OAGa,aAHb,OAMa,cANb,6BAIYklB,EAAU,2BAAOzd,GAAP,IAAgB,WAAc,KAJpD,kCAOYyd,EAAU,2BAAOzd,GAAP,IAAgB,YAAeA,EAAO,YAAgBlC,QAAO,SAAAyC,GAAC,OAAKA,EAAC,KAAWjI,OAPrG,oEAWI0hB,EAAWyD,GAXf,UAY4BnC,GAAgB9T,EAAWzP,EAAe0lB,GAZtE,eAYUlC,EAZV,OAaIrB,EAAqBqB,GAbzB,UAc4BC,GAAkBrZ,GAAaoZ,EAAWkC,GAdtE,QAcUhC,EAdV,OAeIhB,GAAuBgB,GAf3B,6CAzWW,+BA2XI3jB,GA3XJ,uFA2XX,WAA6BS,EAAMmlB,EAAUC,EAAarlB,GAA1D,mCAAA4B,EAAA,2DAEY3B,EAFZ,OAGa,WAHb,OAUa,aAVb,QAkBa,iBAlBb,QAmCa,gBAnCb,+BAIYohB,EAAiB+D,GAJ7B,SAK0CpC,GAAgB9T,EAAWkW,EAAU1d,GAL/E,cAKkB+c,EALlB,OAMY7C,EAAqB6C,GANjC,UAO0CvB,GAAkBrZ,GAAa4a,EAAiB/c,GAP1F,eAOkBgd,EAPlB,OAQYvC,GAAuBuC,GARnC,oCAWYS,EAAU,2BAAOzd,GAAP,IAAgB,WAAa,GAAb,mBAAkBA,EAAO,WAAelC,QAAO,SAAA6E,GAAE,OAAMgb,EAAYnd,SAASmC,OAA5E,YAAsF+a,MAChH1D,EAAWyD,GAZvB,UAa4CnC,GAAgB9T,EAAWzP,EAAe0lB,GAbtF,eAakBG,EAblB,OAcY1D,EAAqB0D,GAdjC,UAe4CpC,GAAkBrZ,GAAayb,EAAmBH,GAf9F,eAekBI,EAflB,OAgBYpD,GAAuBoD,GAhBnC,oCAmBgBC,EAAkB9d,EAAO,YAAgBlC,QAAO,SAAAyC,GAAC,OAAKA,EAAC,KAAWjI,KAClEylB,EAAuB,GACvBD,EAAgBrjB,OAAS,GACzBsjB,EAAuBD,EAAgB,GAAhB,eACvBC,EAAoB,sBAAOA,EAAqBjgB,QAAO,SAAAsC,GAAE,OAAMud,EAAYnd,SAASJ,OAAhE,YAA0Esd,KAE9FK,EAAuBL,EAE3BI,EAAkB,CAAC,GAAMxlB,EAAI,eAAkBylB,GAC/CN,EAAU,2BAAOzd,GAAP,IAAgB,YAAc,GAAd,mBAAmBA,EAAO,YAAgBlC,QAAO,SAAAyC,GAAC,QAAMA,EAAC,KAAWjI,OAApE,CAA0EwlB,MACpG9D,EAAWyD,GA7BvB,UA8BuCnC,GAAgB9T,EAAWzP,EAAe0lB,GA9BjF,eA8BkBO,EA9BlB,OA+BY9D,EAAqB8D,GA/BjC,UAgCuCxC,GAAkBrZ,GAAa6b,EAAcP,GAhCpF,eAgCkBQ,EAhClB,OAiCYxD,GAAuBwD,GAjCnC,oCAoCYR,EAAU,2BAAOzd,GAAP,IAAgB,YAAe0d,IACzC1D,EAAWyD,GArCvB,UAsCoCnC,GAAgB9T,EAAWzP,EAAe0lB,GAtC9E,eAsCkBlC,EAtClB,OAuCYrB,EAAqBqB,GAvCjC,UAwCoCC,GAAkBrZ,GAAaoZ,EAAWkC,GAxC9E,eAwCkBhC,EAxClB,OAyCYhB,GAAuBgB,GAzCnC,sGA3XW,+BA2aIZ,KA3aJ,8EA2aX,kCAAA3gB,EAAA,6DACI+V,GAAW,GADf,SAEsB9V,MAAM,wBAF5B,cAEUC,EAFV,gBAGuBA,EAAIC,OAH3B,YAGU6C,EAHV,QAKY,GALZ,qBAMYA,EAAI,YANhB,wBAOgBoE,EAAcpE,EAAI,YAAgBY,QAAO,SAACyC,GAAD,MAAsB,aAAdA,EAAC,QAClDgB,EAAWrE,EAAI,YAAgBY,QAAO,SAACyC,GAAD,MAAsB,aAAdA,EAAC,QAA0B,GACvErD,EAAI,YAAgBY,QAAO,SAACyC,GAAD,MAAsB,aAAdA,EAAC,QAA0B,GAC9D,CAAC,IAAO,EAAG,KAAQ,WAAY,eAAkB,IACvD4Z,GAAe7Y,GACf8Y,GAAY7Y,GAZxB,kBAamB,CAACD,EAAaC,IAbjC,iCAee,CAACD,GAAaC,KAf7B,eAiBI7E,MAAM,wDAjBV,kBAkBW,IAlBX,6CA3aW,sBAgcX,SAAS8R,GAAezO,GACM,aAAtBA,EAAS,KACTqa,GAAY,2BAAIra,GAAL,IAAgB,eAAkB,MAE7Coa,GAAe,GAAD,mBAAK7Y,IAAL,aAAC,eAAqBvB,GAAtB,IAAiC,eAAkB,QAIzE,SAAS8M,GAAkB1L,EAAcpB,GACrC,GAA0B,aAAtBA,EAAS,KAAb,CAIA,IAAIme,EAAiB,GACrB5c,GAAY2F,SAAQ,SAAA1G,GACZA,EAAC,KAAWR,EAAS,GACrBme,EAAelY,KAAf,2BAAwBjG,GAAxB,IAAmC,eAAiB,GAAjB,mBAAsBA,EAAS,gBAA/B,CAAmDoB,OAEtF+c,EAAelY,KAAKzF,MAG5B4Z,GAAe+D,QAXX9D,GAAY,2BAAIra,GAAL,IAAgB,eAAiB,GAAjB,mBAAsBA,EAAS,gBAA/B,CAAmDoB,OActF,SAAS2L,GAAgBqR,EAAkBpe,GACvC,IAAIme,EAAiB,GACrB5c,GAAY2F,SAAQ,SAAA1G,GACZA,EAAC,KAAWR,EAAS,GACrBme,EAAelY,KAAf,2BAAwBjG,GAAxB,IAAmC,KAAQoe,KAE3CD,EAAelY,KAAKzF,MAG5B4Z,GAAe+D,GAGnB,SAASnR,GAAmBqR,EAAqBre,EAAWoO,GACxD,GAA0B,aAAtBpO,EAAS,KAAyB,CAClC,IAAIse,EAAoB,GASxB,OARAte,EAAS,eAAmBkH,SAAQ,SAAA7G,GAC5BA,EAAE,KAAW+N,EACbkQ,EAAkBrY,KAAK,CAAC,GAAMmI,EAAgB,KAAQiQ,IAEtDC,EAAkBrY,KAAK5F,WAG/Bga,GAAY,2BAAIra,GAAL,IAAgB,eAAkBse,KAGjD,IAAIH,EAAiB,GACrB5c,GAAY2F,SAAQ,SAAA1G,GAChB,GAAIA,EAAC,KAAWR,EAAS,GAAQ,CAC7B,IAAIse,EAAoB,GACxBte,EAAS,eAAmBkH,SAAQ,SAAA7G,GAC5BA,EAAE,KAAW+N,EACbkQ,EAAkBrY,KAAK,CAAC,GAAMmI,EAAgB,KAAQiQ,IAEtDC,EAAkBrY,KAAK5F,MAG/B8d,EAAelY,KAAf,2BAAwBjG,GAAxB,IAAmC,eAAkBse,UAErDH,EAAelY,KAAKzF,MAG5B4Z,GAAe+D,GAGnB,SAASzP,GAAqB6P,EAAwBve,EAAWwe,GAC7D,GAAIA,EACApE,GAAe7Y,GAAYxD,QAAO,SAACyC,GAAD,OAAQA,EAAC,KAAWR,EAAS,YAGnE,GAA0B,aAAtBA,EAAS,KAAb,CAIA,IAAIme,EAAiB,GACrB5c,GAAY2F,SAAQ,SAAA1G,GACZA,EAAC,KAAWR,EAAS,GACrBme,EAAelY,KAAf,2BACOjG,GADP,IAEI,eAAkBA,EAAS,eAAmBjC,QAC1C,SAAAsC,GAAE,OAAMke,EAAuB9d,SAASJ,EAAE,UAIlD8d,EAAelY,KAAKzF,MAG5B4Z,GAAe+D,QAhBX9D,GAAY,2BAAIra,GAAL,IAAgB,eAAkBA,EAAS,eAAmBjC,QAAO,SAAAsC,GAAE,OAAMke,EAAuB9d,SAASJ,EAAE,UAoBlI,SAAS2Q,GAAe1U,GACpB0d,EAAe,GAAD,mBAAK/d,GAAL,CAAkBK,KAGpC,SAAS2U,GAAgB3U,GACrB,IAAImiB,EAAiB,GACrBxiB,EAAYiL,SAAQ,SAAClJ,GACbA,EAAI,KAAW1B,EAAS,GACxBmiB,EAAexY,KAAf,2BAAwB3J,GAAxB,IAAoC,UAAa0B,EAAI,aAErDygB,EAAexY,KAAKjI,MAG5Bgc,EAAeyE,GAGnB,SAASvN,GAAmB3Y,EAAIwN,GAC5B,IAAI0Y,EAAiB,GACrBxiB,EAAYiL,SAAQ,SAAC5K,GACbA,EAAS,KAAW/D,EACpBkmB,EAAexY,KAAf,2BAAwBhK,EAAYuI,MAAK,SAAAxG,GAAI,OAAKA,EAAI,KAAWzF,MAAjE,IAAuE,UAAawN,KAEpF0Y,EAAexY,KAAK3J,MAG5B0d,EAAeyE,GAvjBR,SA2jBIvD,KA3jBJ,8EA2jBX,8BAAA/gB,EAAA,sEACsBC,MAAM,qBAD5B,cACUC,EADV,gBAEuBA,EAAIC,OAF3B,YAEU6C,EAFV,QAIY,GAJZ,uBAKQmd,GAAYnd,EAAI,UALxB,kBAMeA,EAAI,UANnB,gCAQW,IARX,6CA3jBW,sBAskBX,SAAS6U,GAAa9O,GAClBoX,GAAY,GAAD,mBAAKjY,IAAL,CAAea,KAG9B,SAAS+O,GAAc/O,GACnB,IAAIwb,EAAc,GAClBrc,GAAS6E,SAAQ,SAAAlJ,GACTA,EAAI,KAAWkF,EAAO,GACtBwb,EAAYzY,KAAK/C,GAEjBwb,EAAYzY,KAAKjI,MAGzBsc,GAAYoE,GAGhB,SAASxM,GAAiBlM,GACtBsU,GAAYjY,GAAStE,QAAO,SAAAC,GAAI,OAAMgI,EAAIvF,SAASzC,EAAI,QAvlBhD,SA2lBImd,KA3lBJ,8EA2lBX,8BAAAhhB,EAAA,sEACsBC,MAAM,uBAD5B,cACUC,EADV,gBAEuBA,EAAIC,OAF3B,YAEU6C,EAFV,QAIY,GAJZ,uBAKQod,GAAcpd,EAAI,YAL1B,kBAMeA,EAAI,YANnB,gCAQW,IARX,6CA3lBW,sBAsmBX,SAASmW,GAAe3D,GACpB4K,GAAc,GAAD,mBAAKxK,IAAL,CAAiBJ,KAGlC,SAAS4D,GAAgB5D,GACrB,IAAIgP,EAAgB,GACpB5O,GAAW7I,SAAQ,SAAAlJ,GACXA,EAAI,KAAW2R,EAAS,GACxBgP,EAAc1Y,KAAK0J,GAEnBgP,EAAc1Y,KAAKjI,MAG3Buc,GAAcoE,GAGlB,SAASnL,GAAkBxN,GACvBuU,GAAcxK,GAAWhS,QAAO,SAAAC,GAAI,OAAMgI,EAAIvF,SAASzC,EAAI,QAvnBpD,SA2nBIod,KA3nBJ,8EA2nBX,gCAAAjhB,EAAA,sEACsBC,MAAM,oBAD5B,cACUC,EADV,gBAEuBA,EAAIC,OAF3B,YAEU6C,EAFV,QAIY,GAJZ,wBAKYyhB,EAAa,GACjBzhB,EAAI,QAAY+J,SAAQ,SAAClJ,GACrB4gB,EAAW3Y,KAAX,2BACQjI,GADR,IAEQ,OAAUie,GAAkBje,EAAI,cAG5Cwc,GAAWoE,GAZnB,kBAaezhB,EAAI,SAbnB,iCAeW,IAfX,6CA3nBW,sBA6oBX,SAAS6S,GAAYN,GACjB8K,GAAW,GAAD,mBAAK1K,IAAL,CAAcJ,KAG5B,SAASkF,GAAe5O,GACpBwU,GAAW1K,GAAQ/R,QAAO,SAAAC,GAAI,OAAMgI,EAAIvF,SAASzC,EAAI,QAlpB9C,SAupBIqd,KAvpBJ,8EAupBX,8BAAAlhB,EAAA,sEACsBC,MAAM,wBAD5B,cACUC,EADV,gBAEuBA,EAAIC,OAF3B,YAEU6C,EAFV,QAIY,GAJZ,uBAKQsd,GAAetd,EAAI,aAL3B,kBAMeA,EAAI,aANnB,gCAQW,IARX,6CAvpBW,+BAkqBIiZ,GAlqBJ,iFAkqBX,WAA+BiC,GAA/B,iBAAAle,EAAA,6DACQojB,EADR,sBAC6Bnb,IAD7B,CAC0CiW,IACtCoC,GAAe8C,GAFnB,SAGyB9B,GAAkB8B,EAAgBha,EAAmBtD,GAH9E,OAGUqb,EAHV,OAIIZ,GAAuBY,GAJ3B,4CAlqBW,+BAyqBIjF,GAzqBJ,uFAyqBX,WAAgC9d,EAAI+L,EAAa+P,EAAa9P,GAA9D,iBAAApK,EAAA,6DACQojB,EAAiB,GACrBnb,GAAY8E,SAAQ,SAAAlJ,GACZA,EAAI,KAAWzF,EACfglB,EAAetX,KAAf,2BAAwBjI,GAAxB,IAA8BsG,cAAa+P,cAAa9P,eAExDgZ,EAAetX,KAAKjI,MAG5Byc,GAAe8C,GATnB,SAUyB9B,GAAkB8B,EAAgBha,EAAmBtD,GAV9E,OAUUqb,EAVV,OAWIZ,GAAuBY,GAX3B,4CAzqBW,+BAurBI/E,GAvrBJ,qFAurBX,WAAoCvQ,EAAKD,EAAWuW,GAApD,iBAAAniB,EAAA,6DACQojB,EAAiB,GACrBnb,GAAY8E,SAAQ,SAAAlJ,GACZgI,EAAIvF,SAASzC,EAAI,IACjBuf,EAAetX,KAAf,2BAAwBjI,GAAxB,IAA8B+H,YAAWuW,kBAEzCiB,EAAetX,KAAKjI,MAG5Byc,GAAe8C,GATnB,SAUyB9B,GAAkB8B,EAAgBha,EAAmBtD,GAV9E,OAUUqb,EAVV,OAWIZ,GAAuBY,GAX3B,4CAvrBW,+BAqsBI9E,GArsBJ,mFAqsBX,WAAoCxQ,EAAKoS,GAAzC,iBAAAje,EAAA,6DACQojB,EAAiB,GACrBnb,GAAY8E,SAAQ,SAAAlJ,GACZgI,EAAIvF,SAASzC,EAAI,IACjBuf,EAAetX,KAAf,2BAAwBjI,GAAxB,IAA8Boa,eAE9BmF,EAAetX,KAAKjI,MAG5Byc,GAAe8C,GATnB,SAUyB9B,GAAkB8B,EAAgBha,EAAmBtD,GAV9E,OAUUqb,EAVV,OAWIZ,GAAuBY,GAX3B,4CArsBW,+BAmtBIhF,GAntBJ,iFAmtBX,WAAmCtQ,GAAnC,iBAAA7L,EAAA,6DACQojB,EAAiBnb,GAAYrE,QAAO,SAAA1D,GAAG,OAAK2L,EAAIvF,SAASpG,EAAG,OAChEogB,GAAe8C,GAFnB,SAGyB9B,GAAkB8B,EAAgBha,EAAmBtD,GAH9E,OAGUqb,EAHV,OAIIZ,GAAuBY,GAJ3B,4CAntBW,sBA2tBX,SAAS9X,GAAiBc,EAAaC,GACnC,IAAIsa,EAAU,CAACva,cAAaC,YAAW,YAAe9C,EAAQ,IAC1DlJ,EAAK,EACLwB,GAAYW,OAAS,IACrBnC,EAAKwB,GAAYA,GAAYW,OAAS,GAAjC,GAA4C,GAErDmkB,EAAO,2BAAOA,GAAP,IAAgBtmB,OACvBoiB,GAAe,GAAD,mBACP5gB,IADO,CAEV8kB,KAKR,SAASjG,GAAkBrgB,EAAIgM,GAC3B,IAAIua,EAAiB,GACrB/kB,GAAYmN,SAAQ,SAAAlJ,GACbA,EAAI,KAAWzF,EACdumB,EAAe7Y,KAAf,2BAAwBjI,GAAxB,IAA8B,UAAagE,SAASuC,MAEpDua,EAAe7Y,KAAKjI,MAG5B2c,GAAemE,GAGnB,SAASnG,GAAoB3S,GACzB2U,GAAe5gB,GAAYgE,QAAO,SAAAC,GAAI,OAAMgI,EAAIvF,SAASzC,EAAI,QAtvBtD,SAyvBI6a,GAzvBJ,iFAyvBX,WAAmC1b,GAAnC,qBAAAhD,EAAA,yDACIwgB,GAAe,IACfC,GAAqBzd,KACjBA,EAAI,QAAYzC,OAAS,GAHjC,wBAIQwV,GAAW,GAJnB,SAK6BmL,KAL7B,cAKcC,EALd,gBAMgCG,GAAkBH,EAAQ7T,EAAWxH,GANrE,QAMcyb,EANd,SAQYxL,GAAW,GAEfwK,GAAuBgB,GAV/B,+BAYY6B,EAZZ,sBAYiCnb,IAZjC,YAYiDjF,EAAI,cAC7Csd,GAAe8C,GAbvB,UAcgC9B,GAAkB8B,EAAgB9V,EAAWxH,GAd7E,QAccyb,EAdd,OAeQhB,GAAuBgB,GAf/B,6CAzvBW,sBA4wBX,OAvvBA9U,qBAAU,WACF+U,MACAzL,GAAW,KAEhB,IAmvBCD,EAEI,sBAAMvY,UAAU,oBAAhB,SACI,cAACgE,EAAD,MAMR,cAAC,IAAD,UACI,sBAAKhE,UAAU,aAAf,UACI,cAACD,EAAD,IACA,cAAC4D,EAAD,CACIzD,WAAY6J,EAAQ,WACpB5H,KAAM4H,EAAQ,KACd3H,SA3xBL,4CA4xBK/B,cAAeA,GACfC,cAAeA,EACf+B,YAAaA,GACbC,SAAUyH,EAAQ,OAErBA,EAAQ,WAEL,cAAC9C,EAAA,EAAD,CAAOC,KAAM6C,EAAQ,YAAkBA,EAAQ,cAAmBtD,QAAQ,SAA1E,SACI,oBAAGzG,UAAU,OAAb,0DAEI,iCAASuE,EAAY8B,QAAO,SAAAzB,GAAS,OAAKA,EAAS,KAAWmF,EAAQ,iBAAoB,GAAjF,OAFb,uFAII,iCAASxF,EAAY8B,QAAO,SAAAzB,GAAS,OAAIA,EAAS,KAAWmF,EAAQ,aAAe,GAA3E,OAJb,SAOF,6BAEN,cAAC,IAAD,CAAOsd,KAAK,SAASC,OAAK,EAACC,OAAQ,kBAC/B,cAAC3gB,EAAD,CACIvC,QAAS8e,GACT5e,YAAaA,EACbrE,WAAY6J,EAAQ,gBAI5B,cAAC,IAAD,CAAOsd,KAAK,WAAWC,OAAK,EAACC,OAAQ,kBACjC,cAACzf,EAAD,CACIvD,YAAaA,EACbrE,WAAY6J,EAAQ,gBAI5B,cAAC,IAAD,CAAOsd,KAAK,IAAIC,OAAK,EAACC,OAAQ,kBAC1B,cAAC3b,EAAD,CACI1L,WAAY6J,EAAQ,WACpBxB,QAASA,EACTlI,cAAeA,GACfwJ,YAAaA,GACbC,SAAUA,GACVC,SAAUA,EACVC,2BAA4BA,GAC5B6B,kBAAmBA,EACnBlB,SAAUA,GACVmB,iBAAkBA,GAClBzJ,YAAaA,GACbqI,YAAaA,GACbe,WAAYA,QAIpB,cAAC,IAAD,CAAO4b,KAAK,mBAAmBC,OAAK,EAACC,OAAQ,kBACzC,cAACxa,GAAD,CACI7M,WAAY6J,EAAQ,WACpB8B,kBAAmBA,EACnBtD,QAASA,EACTlI,cAAeA,GACf2J,2BAA4BA,GAC5BgD,iBAAkBA,GAClBC,kBAAmBA,GACnBC,oBAAqBA,GACrBC,yBAA0BA,GAC1BtD,YAAaA,GACbC,SAAUA,GACVC,SAAUA,EACVqD,cAAeA,GACfC,UAAWA,OAInB,cAAC,IAAD,CAAOga,KAAK,oBAAoBC,OAAK,EAACC,OAAQ,kBAC1C,cAACpX,GAAD,CACIjQ,WAAY6J,EAAQ,WACpB8B,kBAAmBA,EACnBtD,QAASA,EACTlI,cAAeA,GACfwJ,YAAaA,GACbC,SAAUA,GACVC,SAAUA,EACVqD,cAAeA,GACfC,UAAWA,EACX3C,YAAaA,GACbC,SAAUA,QAIlB,cAAC,IAAD,CAAO0c,KAAK,wBAAwBC,OAAK,EAACC,OAAQ,kBAC9C,cAAC/V,GAAD,CACItR,WAAY6J,EAAQ,WACpBxF,YAAaA,EACbwF,SAAUA,EACVF,YAAaA,GACbC,SAAUA,GACViG,UAAWA,EACX0B,eAAgBA,GAChBC,kBAAmBA,GACnBzE,kBAAmBA,QAI3B,cAAC,IAAD,CAAOoa,KAAK,qBAAqBC,OAAK,EAACC,OAAQ,kBAC3C,cAACzQ,GAAD,CACI5W,WAAY6J,EAAQ,WACpBF,YAAeA,GACfC,SAAYA,GACZiN,eAAgBA,GAChB3B,kBAAmBA,GACnB4B,qBAAsBA,GACtB3B,gBAAiBA,GACjBC,mBAAoBA,QAI5B,cAAC,IAAD,CAAO+R,KAAK,kBAAkBC,OAAK,EAACC,OAAQ,kBACxC,cAACpP,GAAD,CACIjY,WAAY6J,EAAQ,WACpBgG,UAAWA,EACXlG,YAAeA,GACfC,SAAYA,GACZC,SAAUA,EACVqO,QAASA,GACTC,WAAYA,GACZ1N,SAAUA,GACV2N,YAAaA,GACb5N,YAAaA,GACboB,iBAAkBA,GAClBzJ,YAAaA,GACboJ,WAAYA,QAIpB,cAAC,IAAD,CAAO4b,KAAK,qBAAqBC,OAAK,EAACC,OAAQ,kBAC3C,cAAClO,GAAD,CACInZ,WAAY6J,EAAQ,WACpBxF,YAAaA,EACb+U,eAAgBA,GAChBC,gBAAiBA,GACjBC,mBAAoBA,QAI5B,cAAC,IAAD,CAAO6N,KAAK,kBAAkBC,OAAK,EAACC,OAAQ,kBACxC,cAAClN,GAAD,CACIna,WAAY6J,EAAQ,WACpBY,SAAUA,GACV2P,aAAcA,GACdC,cAAeA,GACf9O,WAAYA,GACZ+O,iBAAkBA,QAI1B,cAAC,IAAD,CAAO6M,KAAK,oBAAoBC,OAAK,EAACC,OAAQ,kBAC1C,cAAC5L,GAAD,CACIzb,WAAY6J,EAAQ,WACpBsO,WAAYA,GACZ9T,YAAaA,EACbqX,eAAgBA,GAChBC,gBAAiBA,GACjBC,kBAAmBA,GACnB/R,SAAUA,OAIlB,cAAC,IAAD,CAAOsd,KAAK,iBAAiBC,OAAK,EAACC,OAAQ,kBACvC,cAACtK,GAAD,CACI/c,WAAY6J,EAAQ,WACpBxB,QAASA,EACTsB,YAAaA,GACbC,SAAUA,GACVC,SAAUA,EACVqO,QAASA,GACTC,WAAYA,GACZhY,cAAeA,GACf2J,2BAA4BA,GAC5B6B,kBAAmBA,EACnBqR,eAAgBA,QAIxB,cAAC,IAAD,CAAOmK,KAAK,qBAAqBC,OAAK,EAACC,OAAQ,kBAC3C,cAAC/I,GAAD,CACIte,WAAY6J,EAAQ,WACpBxB,QAASA,EACTlI,cAAeA,GACf2J,2BAA4BA,GAC5BH,YAAaA,GACbC,SAAUA,GACVC,SAAUA,EACV0U,oBAAqBA,GACrB1O,UAAWA,EACXsI,WAAYA,GACZ1N,SAAUA,GACV+T,gBAAiBA,GACjBC,iBAAkBA,GAClBC,oBAAqBA,GACrBlU,YAAaA,GACbmU,qBAAsBA,GACtBC,qBAAsBA,GACtBrT,WAAYA,GACZsT,gBAAiBA,GACjBC,aAAcA,OAItB,cAAC,IAAD,CAAOqI,KAAK,eAAeC,OAAK,EAACC,OAAQ,kBACrC,cAACvG,GAAD,CACI9gB,WAAY6J,EAAQ,WACpB1H,YAAaA,GACb4e,oBAAqBA,GACrBlR,UAAWA,EACXpF,SAAUA,GACVuW,kBAAmBA,GACnBxW,YAAaA,GACbyW,oBAAqBA,GACrB1V,WAAYA,QAIpB,cAAC,IAAD,CAAO4b,KAAK,wBAAwBC,OAAK,EAACC,OAAQ,kBAC9C,cAAC5F,GAAD,CACIzhB,WAAY6J,EAAQ,WACpB6X,kBAAmBA,GACnB7R,UAAWA,EACXpF,SAAUA,GACVc,WAAYA,QAIpB,cAAC,IAAD,CAAO4b,KAAK,mBAAmBC,OAAK,EAACC,OAAQ,kBACzC,cAAC1F,GAAD,CACI3hB,WAAY6J,EAAQ,WACpBxB,QAASA,EACTlI,cAAeA,GACf2J,2BAA4BA,GAC5BH,YAAaA,GACbC,SAAUA,GACVC,SAAUA,EACV0U,oBAAqBA,GACrB1O,UAAWA,EACXpF,SAAUA,GACViU,oBAAqBA,GACrBnT,WAAYA,GACZf,YAAaA,GACbrI,YAAaA,GACbwJ,kBAAmBA,EACnBC,iBAAkBA,QAI1B,qBAAK9L,UAAU,oBACf,cAACmE,EAAD,IACA,cAACpE,EAAD,UC9iChBynB,IAASD,OACP,cAAC,IAAME,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.ea7f9294.chunk.js","sourcesContent":["export default function Banner () {\r\n    return (\r\n        <div className=\"jt-banner jt-no-print\"></div>\r\n    )\r\n}","import {OverlayTrigger, Tooltip} from \"react-bootstrap\";\r\nimport {FaSearch} from 'react-icons/fa'\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function Searchbar({isLoggedIn, toggleSearchbar, searchbarActive, updateFilters, searchbarText}) {\r\n    return (\r\n        <>\r\n        {isLoggedIn\r\n            ?\r\n                <>\r\n                    <div className=\"jt-searchbar-expand\">\r\n                        <div className=\"flex-fill\"></div>\r\n                        <OverlayTrigger\r\n                            key=\"bottom\"\r\n                            placement=\"bottom\"\r\n                            overlay={\r\n                                <Tooltip>\r\n                                    Zoeken\r\n                                </Tooltip>\r\n                            }\r\n                        >\r\n                            <div className=\"jt-searchbar-button border-0\">\r\n                                <a onClick={toggleSearchbar} className={searchbarActive ? \"jt-searchbar-link jt-searchbar-link-active\" : \"jt-searchbar-link\"}><FaSearch size=\"1.5em\"/></a>\r\n                            </div>\r\n                        </OverlayTrigger>\r\n                    </div>\r\n                    <div className=\"jt-searchbar jt-searchbar-full\">\r\n                        <div className=\"jt-searchbar-container\">\r\n                            <input\r\n                                id=\"searchbar\"\r\n                                type=\"text\"\r\n                                placeholder=\"Zoeken\"\r\n                                className=\"jt-searchbar-input\"\r\n                                onChange={(e) => updateFilters(\"search\", e.target.value, false)}\r\n                                value={searchbarText}\r\n                            />\r\n                            {/*<OverlayTrigger*/}\r\n                            {/*    key=\"bottom\"*/}\r\n                            {/*    placement=\"bottom\"*/}\r\n                            {/*    overlay={*/}\r\n                            {/*        <Tooltip>*/}\r\n                            {/*            Zoeken*/}\r\n                            {/*        </Tooltip>*/}\r\n                            {/*    }*/}\r\n                            {/*>*/}\r\n                            {/*    <div className=\"jt-searchbar-button bg-white\">*/}\r\n                            {/*        <Link to=\"/\" className=\"jt-searchbar-link\"><FaSearch size=\"1.6em\"/></Link>*/}\r\n                            {/*    </div>*/}\r\n                            {/*</OverlayTrigger>*/}\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            :\r\n                <div className=\"flex-fill\"></div>\r\n        }\r\n        </>\r\n    )\r\n}","import {Nav, OverlayTrigger, Tooltip} from \"react-bootstrap\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function CustomNavLink ({title, faIcon, collapse, to, shoppingCartLength}) {\r\n\r\n    return (\r\n        <OverlayTrigger\r\n            key=\"bottom\"\r\n            placement=\"bottom\"\r\n            overlay={\r\n                <Tooltip className={\"d-none d-\"+collapse+\"-block\"}>\r\n                    {title}\r\n                </Tooltip>\r\n            }\r\n        >\r\n            <Nav.Link to={to} as={Link} className=\"position-relative\">\r\n                {faIcon}\r\n                <span className=\"d-md-none ml-2\">{title}</span>\r\n                {shoppingCartLength > 0\r\n                    ?\r\n                    <div className=\"jt-shopping-cart-number\">\r\n                        <span>{shoppingCartLength}</span>\r\n                    </div>\r\n                    :\r\n                    <></>\r\n                }\r\n            </Nav.Link>\r\n        </OverlayTrigger>\r\n    )\r\n}\r\n\r\nCustomNavLink.defaultProps = {\r\n    shoppingCartLength: 0\r\n}","import {Dropdown, Nav, OverlayTrigger, Tooltip} from \"react-bootstrap\";\r\n\r\nexport default function CustomNavDropown ({title, faIcon, collapse, dropdownMenu}) {\r\n\r\n    return (\r\n        <Dropdown as={Nav.Item} className=\"d-flex align-items-center\">\r\n            <OverlayTrigger\r\n                key=\"bottom\"\r\n                placement=\"bottom\"\r\n                overlay={\r\n                    <Tooltip className={\"d-none d-\"+collapse+\"-block\"}>\r\n                        {title}\r\n                    </Tooltip>\r\n                }\r\n            >\r\n                <Dropdown.Toggle as={Nav.Link}>\r\n                    {faIcon}\r\n                    <span className=\"d-md-none ml-2\">{title}</span>\r\n                </Dropdown.Toggle>\r\n            </OverlayTrigger>\r\n            {dropdownMenu}\r\n        </Dropdown>\r\n    )\r\n}","import {Nav, Navbar, NavbarBrand, Dropdown, Tooltip, OverlayTrigger, Button} from \"react-bootstrap\";\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport {FaHome, FaUserLock, FaUser, FaShoppingCart, FaRegArrowAltCircleLeft} from 'react-icons/fa';\r\n\r\nimport Searchbar from \"./Searchbar\";\r\nimport CustomNavLink from \"./CustomNavLink\";\r\nimport CustomNavDropown from \"./CustomNavDropdown\";\r\n\r\nexport default function CustomNav ({isLoggedIn, role, onLogout, toggleSearchbar, searchbarActive,\r\n                                       updateFilters, searchbarText, winkelWagen, username}) {\r\n    let history = useHistory();\r\n\r\n    async function logout() {\r\n        const res = await fetch('/php/logout.php');\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onLogout();\r\n        }\r\n    }\r\n\r\n    // Redirect functions\r\n    function historyBack() {\r\n        if (history.length < 2) return;\r\n        history.goBack();\r\n    }\r\n\r\n    const collapse = \"md\";\r\n    return (\r\n        <>\r\n            <Navbar activeKey=\"/\" className=\"bg-light p-2 container-fluid\" expand={collapse}>\r\n                <OverlayTrigger\r\n                    key=\"bottom\"\r\n                    placement=\"bottom\"\r\n                    overlay={\r\n                        <Tooltip className={\"d-none d-\"+collapse+\"-block\"}>\r\n                            Go back\r\n                        </Tooltip>\r\n                    }\r\n                >\r\n                    <Nav>\r\n                        <Nav.Link as={Link} onClick={historyBack} className=\"px-2\">\r\n                            <FaRegArrowAltCircleLeft size=\"1.8em\"/>\r\n                        </Nav.Link>\r\n                    </Nav>\r\n                </OverlayTrigger>\r\n                <NavbarBrand to=\"/\" as={Link} className=\"d-flex align-items-center\">\r\n                    <img src=\"./images/logo_tballonneke_klein.svg\" width=\"48\" height=\"48\" alt=\"Logo\"/>\r\n                    <span className=\"jt-nav-title d-none d-sm-inline\">Speelotheek</span>\r\n                </NavbarBrand>\r\n                <Searchbar\r\n                    isLoggedIn={isLoggedIn}\r\n                    toggleSearchbar={toggleSearchbar}\r\n                    searchbarActive={searchbarActive}\r\n                    updateFilters={updateFilters}\r\n                    searchbarText={searchbarText}\r\n                />\r\n                <Navbar.Toggle aria-controls=\"navbar-links\" className=\"border-0\"/>\r\n                <Navbar.Collapse className=\"jt-nav-collapse\" id=\"navbar-links\">\r\n                    <Nav>\r\n                        {isLoggedIn\r\n                            ?\r\n                            <>\r\n                                <Nav.Item className=\"d-flex align-items-center\">\r\n                                    <CustomNavLink\r\n                                        title=\"Home\"\r\n                                        faIcon={<FaHome size=\"1.8em\"/>}\r\n                                        collapse={collapse}\r\n                                        to=\"/\"\r\n                                    />\r\n                                </Nav.Item>\r\n                                {role === \"Admin\"\r\n                                    ?\r\n                                    <CustomNavDropown\r\n                                        title=\"Admin\"\r\n                                        faIcon={<FaUserLock size=\"1.8em\"/>}\r\n                                        collapse={collapse}\r\n                                        dropdownMenu={\r\n                                            <Dropdown.Menu className=\"bg-light dropdown-menu-right\">\r\n                                                <Dropdown.Item to=\"/admin/speelgoed\" as={Link} className=\"bg-light text-dark\">Speelgoed</Dropdown.Item>\r\n                                                <Dropdown.Item to=\"/admin/reservaties\" as={Link} className=\"bg-light text-dark\">Reservaties</Dropdown.Item>\r\n                                                <Dropdown.Item to=\"/admin/gebruikers\" as={Link} className=\"bg-light text-dark\">Gebruikers</Dropdown.Item>\r\n                                                <Dropdown.Item to=\"/admin/categorieen\" as={Link} className=\"bg-light text-dark\">Categorieën</Dropdown.Item>\r\n                                                <Dropdown.Item to=\"/admin/periodes\" as={Link} className=\"bg-light text-dark\">Periodes</Dropdown.Item>\r\n                                                <Dropdown.Item to=\"/admin/reviews\" as={Link} className=\"bg-light text-dark\">Reviews</Dropdown.Item>\r\n                                                <Dropdown.Item to=\"/admin/doelgroepen\" as={Link} className=\"bg-light text-dark\">Doelgroepen</Dropdown.Item>\r\n                                                <Dropdown.Item to=\"/admin/statistiek\" as={Link} className=\"bg-light text-dark\">Statistiek</Dropdown.Item>\r\n                                            </Dropdown.Menu>\r\n                                        }\r\n                                    />\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                                <Nav.Item className=\"d-flex align-items-center\">\r\n                                    <CustomNavLink\r\n                                        title=\"Winkelkar\"\r\n                                        faIcon={<FaShoppingCart size=\"1.8em\"/>}\r\n                                        collapse={collapse}\r\n                                        to=\"/winkelwagen\"\r\n                                        shoppingCartLength={winkelWagen.length}\r\n                                    />\r\n                                </Nav.Item>\r\n                                <CustomNavDropown\r\n                                    title={username}\r\n                                    faIcon={<FaUser size=\"1.8em\"/>}\r\n                                    collapse={collapse}\r\n                                    dropdownMenu={\r\n                                        <Dropdown.Menu className=\"bg-light dropdown-menu-right\">\r\n                                            <Dropdown.Item to=\"/mijnreservaties\" as={Link} className=\"bg-light text-dark\">Mijn reservaties</Dropdown.Item>\r\n                                            <Dropdown.Item onClick={logout} className=\"bg-light text-dark\">Logout</Dropdown.Item>\r\n                                        </Dropdown.Menu>\r\n                                    }\r\n\r\n                                />\r\n                            </>\r\n                            :\r\n                            <>\r\n                                <Nav.Item className=\"d-flex align-items-center\">\r\n                                    <Nav.Link to=\"/login\" as={Link}>Login</Nav.Link>\r\n                                </Nav.Item>\r\n                                <Nav.Item className=\"d-flex align-items-center\">\r\n                                    <Nav.Link to=\"/sign_up\" as={Link}>Registreer</Nav.Link>\r\n                                </Nav.Item>\r\n                            </>\r\n                        }\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n        </>\r\n    )\r\n}","import {OverlayTrigger, Tooltip} from \"react-bootstrap\";\r\nimport {FaSearch} from 'react-icons/fa'\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function SearchbarUnder({isLoggedIn, updateFilters, searchbarText}) {\r\n    return (\r\n        <>\r\n            {isLoggedIn\r\n                ?\r\n                    <div className=\"jt-searchbar d-md-none\">\r\n                        <input\r\n                            id=\"searchbar\"\r\n                            type=\"text\"\r\n                            placeholder=\"Zoeken\"\r\n                            className=\"jt-searchbar-input flex-fill\"\r\n                            onChange={(e) => updateFilters(\"search\", e.target.value, false)}\r\n                            value={searchbarText}\r\n                        />\r\n                        {/*<OverlayTrigger*/}\r\n                        {/*    key=\"bottom\"*/}\r\n                        {/*    placement=\"bottom\"*/}\r\n                        {/*    overlay={*/}\r\n                        {/*        <Tooltip>*/}\r\n                        {/*            Zoeken*/}\r\n                        {/*        </Tooltip>*/}\r\n                        {/*    }*/}\r\n                        {/*>*/}\r\n                        {/*    <div className=\"jt-searchbar-button bg-white\">*/}\r\n                        {/*        <Link to=\"/\" className=\"jt-searchbar-link\"><FaSearch size=\"1.6em\"/></Link>*/}\r\n                        {/*    </div>*/}\r\n                        {/*</OverlayTrigger>*/}\r\n                    </div>\r\n                :\r\n                    <div className=\"flex-fill\"></div>\r\n            }\r\n        </>\r\n    )\r\n}","import CustomNav from \"./CustomNav\";\r\nimport SearchbarUnder from './SearchbarUnder'\r\nimport {useState} from \"react\";\r\n\r\nexport default function Header ({isLoggedIn, role, onLogout, updateFilters, searchbarText, winkelWagen, username}) {\r\n    const [showSearchbar, setShowSearchbar] = useState(false);\r\n\r\n    function toggleSearchbar() {\r\n        setShowSearchbar(!showSearchbar);\r\n        updateFilters(\"search\", \"\", false);\r\n    }\r\n\r\n    return (\r\n        <header className=\"jt-no-print\">\r\n            <CustomNav\r\n                isLoggedIn={isLoggedIn}\r\n                role={role}\r\n                onLogout={onLogout}\r\n                toggleSearchbar={toggleSearchbar}\r\n                searchbarActive={showSearchbar}\r\n                updateFilters={updateFilters}\r\n                searchbarText={searchbarText}\r\n                winkelWagen={winkelWagen}\r\n                username={username}\r\n            />\r\n            {showSearchbar\r\n                ?\r\n                <SearchbarUnder\r\n                    isLoggedIn={isLoggedIn}\r\n                    updateFilters={updateFilters}\r\n                    searchbarText={searchbarText}\r\n                />\r\n                :\r\n                <></>\r\n            }\r\n        </header>\r\n    )\r\n}","import {Spinner} from \"react-bootstrap\";\r\n\r\nexport default function Loading() {\r\n    return (\r\n        <h2>\r\n            <Spinner animation=\"grow\" role=\"status\">\r\n                <span className=\"sr-only\">Loading...</span>\r\n            </Spinner>\r\n            <span className=\"ml-2\">\r\n                Laden...\r\n            </span>\r\n        </h2>\r\n    )\r\n}","export default function Footer() {\r\n    return (\r\n        <footer className=\"container-fluid py-4 jt-no-print\">\r\n            <span>\r\n                &copy; vzw 't Ballonneke\r\n            </span>\r\n        </footer>\r\n    )\r\n}","import {useState} from 'react';\r\nimport {Form, Button, Row, Col, Spinner} from \"react-bootstrap\";\r\nimport {sha256} from 'js-sha256';\r\n\r\nexport default function LoginForm({onLogin, onLoginFailed, doelgroepen}) {\r\n    const [user,setUser] = useState('');\r\n    const [pass,setPass] = useState('');\r\n    const [doelgroep,setDoelgroep] = useState(-1);\r\n\r\n    const [actionInProgress, setActionInProgress] = useState('');\r\n\r\n    async function onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        //Validate\r\n        if (doelgroep === -1) return alert('Selecteer een doelgroep');\r\n\r\n        //Set spinner\r\n        setActionInProgress(\"Login\");\r\n\r\n        //Encrypt pass\r\n        const encrpass = sha256(pass);\r\n\r\n        const res = await fetch('./php/login.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({user, encrpass, doelgroep})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onLogin(data['userData']);\r\n        } else {\r\n            onLoginFailed(data['errMsg'] ? data['errMsg'] : \"Emailadres en wachtwoord combinatie onbekend\");\r\n        }\r\n\r\n        setUser('');\r\n        setPass('');\r\n        setActionInProgress('');\r\n    }\r\n\r\n    return (\r\n        <Form onSubmit={onSubmit}>\r\n            <Form.Group as={Row} controlId=\"formBasicUser\">\r\n                <Form.Label column lg={3}>Naam of email:</Form.Label>\r\n                <Col lg={9}>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        placeholder=\"Voer naam of email in\"\r\n                        value={user}\r\n                        onChange={(e) => setUser(e.target.value)}\r\n                        required\r\n                    />\r\n                </Col>\r\n            </Form.Group>\r\n\r\n            <Form.Group as={Row} controlId=\"formBasicPassword\">\r\n                <Form.Label column lg={3}>Wachtwoord:</Form.Label>\r\n                <Col lg={9}>\r\n                    <Form.Control\r\n                        type=\"password\"\r\n                        placeholder=\"Wachtwoord\"\r\n                        value={pass}\r\n                        onChange={(e) => setPass(e.target.value)}\r\n                        required\r\n                    />\r\n                </Col>\r\n            </Form.Group>\r\n\r\n            <Form.Group as={Row} controlId=\"formBasicDoelgroep\">\r\n                <Form.Label column lg={3}>Doelgroep:</Form.Label>\r\n                <Col lg={9}>\r\n                    <Form.Control\r\n                        as=\"select\"\r\n                        value={doelgroep}\r\n                        onChange={(e) => setDoelgroep(e.target.value)}\r\n                        required\r\n                    >\r\n                        <option value=\"-1\">Kies...</option>\r\n                        {doelgroepen.length > 0 ? doelgroepen.filter(item => !item['isArchief']).map((doelgroep) => (\r\n                                <option value={doelgroep['id']}>{doelgroep['naam']}</option>\r\n                            )\r\n                        ) : <option value=\"-1\">Geen doelgroepen</option>}\r\n                    </Form.Control>\r\n                </Col>\r\n            </Form.Group>\r\n\r\n            {actionInProgress === \"Login\"\r\n                ?\r\n                <Button variant=\"primary\" disabled>\r\n                    <Spinner\r\n                        as=\"span\"\r\n                        animation=\"border\"\r\n                        size=\"sm\"\r\n                        role=\"status\"\r\n                        aria-hidden=\"true\"\r\n                    /> Laden...\r\n                </Button>\r\n                :\r\n                <Button variant=\"primary\" type=\"submit\">\r\n                    Log in\r\n                </Button>\r\n            }\r\n        </Form>\r\n    )\r\n}\r\n","import {useState} from 'react';\r\nimport {Alert} from \"react-bootstrap\";\r\n\r\nimport LoginForm from \"../components/LoginForm\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nexport default function LoginPage({onLogin, doelgroepen, isLoggedIn}) {\r\n    const [showAlert, setShowAlert] = useState(false);\r\n    const [errMsg, setErrMsg] = useState(\"\");\r\n\r\n    function onLoginFailed(errMsg) {\r\n        setShowAlert(true);\r\n        setErrMsg(errMsg);\r\n    }\r\n\r\n    if (isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n\r\n        <main className=\"container jt-login-container\">\r\n            <h1>Login Form</h1>\r\n            <Alert show={showAlert} variant=\"danger\" onClose={() => setShowAlert(false)} dismissible>\r\n                <p className=\"mb-0\">{errMsg}</p>\r\n            </Alert>\r\n            <LoginForm onLogin={onLogin} onLoginFailed={onLoginFailed} doelgroepen={doelgroepen}/>\r\n        </main>\r\n    )\r\n}\r\n","import {useState} from 'react';\r\nimport {Form, Button, Row, Col, Spinner} from \"react-bootstrap\";\r\nimport {sha256} from 'js-sha256';\r\n\r\nexport default function SignUpForm({doelgroepen, onSignUp}) {\r\n    const [user,setUser] = useState('');\r\n    const [email,setEmail] = useState('');\r\n    const [pass,setPass] = useState('');\r\n    const [passConfirm,setPassConfirm] = useState('');\r\n    const [doelgroep,setDoelgroep] = useState(-1);\r\n\r\n    const [actionInProgress, setActionInProgress] = useState('');\r\n\r\n    function jsonEscape(str)  {\r\n        return str.replace(/\\n/g, \"\\\\\\\\n\").replace(/\\r/g, \"\\\\\\\\r\").replace(/\\t/g, \"\\\\\\\\t\").replace(/\"/g, \"\\\\\\\"\");\r\n    }\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        //Validate password\r\n        if (doelgroep === -1) return alert('Selecteer een doelgroep');\r\n        if (pass !== passConfirm || email === '' || pass === '') return alert('Zorg dat wachtwoord juist bevestigd is');\r\n\r\n        //Set spinner\r\n        setActionInProgress(\"Registreer\");\r\n\r\n        //Encrypt pass\r\n        const encrpass = sha256(pass);\r\n\r\n        const res = await fetch('./php/signUp.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\"user\": jsonEscape(user), encrpass, \"email\": jsonEscape(email), doelgroep})\r\n        });\r\n        const data = await res.json();\r\n\r\n        //Show user feedback\r\n        data['ok'] ? onSignUp(true) : onSignUp(false);\r\n\r\n        setUser('');\r\n        setPass('');\r\n        setEmail('')\r\n        setPassConfirm('');\r\n        setActionInProgress('');\r\n    }\r\n\r\n    return (\r\n        <Form onSubmit={onSubmit}>\r\n            <Form.Group as={Row} controlId=\"formUser\">\r\n                <Form.Label column lg={2}>Naam:</Form.Label>\r\n                <Col lg={10}>\r\n                    <Form.Control\r\n                        type=\"text\"\r\n                        placeholder=\"Voer gebruikersnaam in\"\r\n                        value={user}\r\n                        onChange={(e) => setUser(e.target.value)}\r\n                        required\r\n                    />\r\n                </Col>\r\n            </Form.Group>\r\n\r\n            <Form.Group as={Row} controlId=\"formEmail\">\r\n                <Form.Label column lg={2}>Emailadres:</Form.Label>\r\n                <Col lg={10}>\r\n                    <Form.Control\r\n                        type=\"email\"\r\n                        placeholder=\"Voer emailadres in\"\r\n                        value={email}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                        required\r\n                    />\r\n                </Col>\r\n            </Form.Group>\r\n\r\n            <Form.Group as={Row} controlId=\"formDoelgroep\">\r\n                <Form.Label column lg={2}>Doelgroep:</Form.Label>\r\n                <Col lg={10}>\r\n                    <Form.Control\r\n                        as=\"select\"\r\n                        value={doelgroep}\r\n                        onChange={(e) => setDoelgroep(e.target.value)}\r\n                    >\r\n                        <option value=\"-1\">Kies...</option>\r\n                        {doelgroepen.length > 0 ? doelgroepen.filter(item => !item['isArchief']).map((doelgroep) => (\r\n                                <option value={doelgroep['id']}>{doelgroep['naam']}</option>\r\n                            )\r\n                        ) : <option value=\"-1\">Geen doelgroepen</option>}\r\n                    </Form.Control>\r\n                </Col>\r\n            </Form.Group>\r\n\r\n            <Form.Group as={Row}>\r\n                 <Col lg={6} className=\"mb-3\">\r\n                     <Form.Label>Wachtwoord:</Form.Label>\r\n                     <Form.Control\r\n                         id=\"formPassword\"\r\n                         type=\"password\"\r\n                         placeholder=\"Wachtwoord\"\r\n                         value={pass}\r\n                         onChange={(e) => setPass(e.target.value)}\r\n                         required\r\n                     />\r\n                </Col>\r\n                <Col lg={6} className=\"mb-3\">\r\n                    <Form.Label>Bevestig wachtwoord:</Form.Label>\r\n                    <Form.Control\r\n                        id=\"formPasswordConfirm\"\r\n                        type=\"password\"\r\n                        placeholder=\"Wachtwoord\"\r\n                        value={passConfirm}\r\n                        onChange={(e) => setPassConfirm(e.target.value)}\r\n                        required\r\n                    />\r\n                </Col>\r\n            </Form.Group>\r\n\r\n            {actionInProgress === \"Registreer\"\r\n                ?\r\n                <Button variant=\"primary\" disabled>\r\n                    <Spinner\r\n                        as=\"span\"\r\n                        animation=\"border\"\r\n                        size=\"sm\"\r\n                        role=\"status\"\r\n                        aria-hidden=\"true\"\r\n                    /> Laden...\r\n                </Button>\r\n                :\r\n                <Button variant=\"primary\" type=\"submit\">\r\n                    Registreer\r\n                </Button>\r\n            }\r\n        </Form>\r\n    )\r\n}\r\n","import {useState} from 'react';\r\nimport {Alert} from \"react-bootstrap\";\r\n\r\nimport SignUpForm from \"../components/SignUpForm\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nexport default function SignUpPage({doelgroepen, isLoggedIn}) {\r\n    const [showAlertSuccess, setShowAlertSuccess] = useState(false);\r\n    const [showAlertFail, setShowAlertFail] = useState(false);\r\n\r\n    function onSignUp(signUpSuccess) {\r\n        setShowAlertSuccess(signUpSuccess);\r\n        setShowAlertFail(!signUpSuccess);\r\n    }\r\n\r\n    if (isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <main className=\"container jt-login-container\">\r\n            <h1>Registreer</h1>\r\n            <Alert show={showAlertSuccess} variant=\"success\" onClose={() => setShowAlertSuccess(false)} dismissible>\r\n                <Alert.Heading className=\"mb-0\">Uw gegevens werden verzonden</Alert.Heading>\r\n                <p className=\"mb-0\">U kan inloggen vanaf dat een administrator uw account heeft geactiveerd.</p>\r\n            </Alert>\r\n            <Alert show={showAlertFail} variant=\"danger\" onClose={() => setShowAlertFail(false)} dismissible>\r\n                <Alert.Heading className=\"mb-0\">Er is iets misgegaan</Alert.Heading>\r\n                <p className=\"mb-0\">Probeer een andere combinatie</p>\r\n            </Alert>\r\n            <SignUpForm doelgroepen={doelgroepen} onSignUp={onSignUp}/>\r\n        </main>\r\n    )\r\n}\r\n","import {Card, Form} from \"react-bootstrap\";\r\nimport {useState} from \"react\";\r\n\r\nexport default function Filter({ categorie, updateFilters, filters, initialShow }) {\r\n    const [categorieChecked, setCategorieChecked] = useState(false);\r\n    const [checked, setChecked] = useState(categorie['subCategorieen']\r\n        .map(sc => (sc['id']))\r\n        .filter(id => (\r\n            filters['leeftijden']\r\n                .concat.apply([],filters['categorieen'].map((c) => (c['subCategorieen'])))\r\n                .includes(id)\r\n            || filters['leeftijden'].includes(id)\r\n            )\r\n        )\r\n    );\r\n\r\n    function toggleCategorieChecked () {\r\n        let newChecked = [];\r\n        if (categorieChecked) {\r\n            setChecked([]);\r\n            updateFilters(categorie['naam'] == 'Leeftijd' ? 'leeftijd' : 'subCategorie', [], categorie['subCategorieen'].map((sc) => (sc['id'])), categorie['id']);\r\n            setCategorieChecked(false);\r\n        } else {\r\n            newChecked = categorie['subCategorieen'].map((sc) => (sc['id']));\r\n            updateFilters(categorie['naam'] == 'Leeftijd' ? 'leeftijd' : 'subCategorie', newChecked, newChecked, categorie['id']);\r\n            setChecked(newChecked);\r\n            setCategorieChecked(true);\r\n        }\r\n    }\r\n\r\n    function toggleSubCategorieChecked(scId) {\r\n        setCategorieChecked(false);\r\n        if (checked.includes(scId)) {\r\n            setChecked(checked.filter((id) => (id != scId)));\r\n            updateFilters(categorie['naam'] == 'Leeftijd' ? 'leeftijd' : 'subCategorie', [], [scId], categorie['id']);\r\n        } else {\r\n            updateFilters(categorie['naam'] == 'Leeftijd' ? 'leeftijd' : 'subCategorie', [scId], [], categorie['id']);\r\n            setChecked([...checked, scId]);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <Card className=\"mr-2 mb-2\">\r\n            <Card.Body>\r\n                <Card.Title>\r\n                    <Form.Check\r\n                        id={\"all\" + categorie['id']}\r\n                        type=\"checkbox\"\r\n                        label={categorie['naam']}\r\n                        onChange={(e) => toggleCategorieChecked()}\r\n                        checked={categorieChecked}\r\n                    />\r\n                </Card.Title>\r\n                <Card.Text>\r\n                    {categorie['subCategorieen'].map((subCategorie) => (\r\n                        <Form.Check\r\n                            id={subCategorie['id']}\r\n                            type=\"checkbox\"\r\n                            label={subCategorie['naam']}\r\n                            onChange={(e) => toggleSubCategorieChecked(subCategorie['id'])}\r\n                            checked={checked.includes(subCategorie['id'])}\r\n                        />\r\n                    ))}\r\n                </Card.Text>\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}","import {Form, Button, Row, Col} from \"react-bootstrap\";\r\nimport {useEffect, useState} from \"react\";\r\nimport Filter from '../components/Filter';\r\n\r\nexport default function Filters({ filters, updateFilters, categorieen, leeftijd, userData, removeCategorieFromFilters }) {\r\n    const [showFilters, setShowFilters] = useState();\r\n    const [showCategorieen, setShowCategorieen] = useState(filters['categorieen'].map(item => item['id']));\r\n    const [showLeeftijd, setShowLeeftijd] = useState(filters['leeftijden'].length > 0);\r\n\r\n    function toggleCategorie(id) {\r\n        if (showCategorieen.includes(id)) {\r\n            setShowCategorieen(showCategorieen.filter((item) => !(item === id)));\r\n            removeCategorieFromFilters('categorie', id);\r\n        } else {\r\n            setShowCategorieen([...showCategorieen, id]);\r\n        }\r\n    }\r\n\r\n    function toggleLeeftijd(id) {\r\n        if (showLeeftijd) {\r\n            setShowLeeftijd(false);\r\n            removeCategorieFromFilters('leeftijd', id);\r\n        } else {\r\n            setShowLeeftijd(true);\r\n        }\r\n    }\r\n\r\n    function initialShow(id) {\r\n        if (leeftijd['id'] === id) {\r\n            setShowLeeftijd(true);\r\n        }\r\n        else {\r\n            setShowCategorieen([...showCategorieen, id]);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"rounded p-3 my-3 bg-filter jt-no-print\">\r\n            <h2>Filters</h2>\r\n            {/*TODO toggle/collapse button*/}\r\n            <div className=\"d-flex flex-column\">\r\n                <div className=\"d-flex flex-row flex-wrap mb-2\">\r\n                    {leeftijd['id'] !== -1\r\n                    ?\r\n                        <Button\r\n                            variant={(showLeeftijd ? \"\" : \"outline-\") + \"primary\"}\r\n                            onClick={() => toggleLeeftijd(leeftijd['id'])}\r\n                            className=\"mr-2 mb-2\"\r\n                        >\r\n                            Leeftijd\r\n                        </Button>\r\n                    :\r\n                        <></>\r\n                    }\r\n                    {categorieen.map((item) => (\r\n                        <Button\r\n                            variant={(showCategorieen.includes(item['id']) ? \"\" : \"outline-\") + \"primary\"}\r\n                            onClick={() => toggleCategorie(item['id'])}\r\n                            className=\"mr-2  mb-2\"\r\n                        >\r\n                            {item['naam']}\r\n                        </Button>\r\n                    ))}\r\n                </div>\r\n                <div className=\"d-flex flex-row flex-wrap mb-2\">\r\n                    {showLeeftijd\r\n                        ?\r\n                        <Filter\r\n                            categorie={leeftijd}\r\n                            updateFilters={updateFilters}\r\n                            filters={filters}\r\n                            initialShow={initialShow}\r\n                        />\r\n                        : <></>\r\n                    }\r\n                    {categorieen.filter((item) => (showCategorieen.includes(item['id']))).map((item) => (\r\n                        <Filter\r\n                            categorie={item}\r\n                            updateFilters={updateFilters}\r\n                            filters={filters}\r\n                        />\r\n                    ))\r\n                    }\r\n                </div>\r\n            </div>\r\n            {userData['role'] === \"Admin\"\r\n            ?\r\n                <Row>\r\n                    <Form.Group className=\"mb-0\">\r\n                        <Col xs=\"auto\" className=\"d-flex flex-row align-items-center\">\r\n                            <Form.Label className=\"mb-0\">Archief:</Form.Label>\r\n                        </Col>\r\n                        <Col xs=\"auto\">\r\n                            <Form.Control\r\n                                as=\"select\"\r\n                                value={filters['showArchief']}\r\n                                onChange={e => updateFilters('showArchief', parseInt(e.target.value))}\r\n                                required\r\n                            >\r\n                                <option value=\"-1\">Toon alles</option>\r\n                                <option value=\"0\">Verberg archief</option>\r\n                                <option value=\"1\">Toon archief</option>\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n                </Row>\r\n            :\r\n            <></>}\r\n        </div>\r\n    )\r\n}","import {Badge, Button, Card} from \"react-bootstrap\";\r\nimport {Link} from \"react-router-dom\";\r\nimport ReadMoreReact from 'read-more-react';\r\n\r\nexport default function SpeelgoedCard({ speelgoedItem, categorieen, leeftijd, addSpeelgoed ,reservaties, periodes, winkelWagen}) {\r\n    return (\r\n        <Card bg=\"light\" >\r\n            <Card.Header\r\n                to={\"/speelgoedFiche?id=\"+speelgoedItem['id']}\r\n                className=\"px-3 pt-3\"\r\n            >\r\n                <img\r\n                    className=\"img-fluid\"\r\n                    src={speelgoedItem['foto'] ? speelgoedItem['foto'] : \"/images/placeholder.jpg\"}\r\n                />\r\n            </Card.Header>\r\n            <Card.Body>\r\n                <Card.Title\r\n                    as={Link}\r\n                    to={\"/speelgoedfiche?id=\"+speelgoedItem['id']}\r\n                    className=\"jt-card-title\"\r\n                >\r\n                    {speelgoedItem['naam']}\r\n                </Card.Title>\r\n                <Card.Text>\r\n                    <ReadMoreReact text={speelgoedItem['korteInhoud']}\r\n                                   min={40}\r\n                                   ideal={60}\r\n                                   max={120}\r\n                                   readMoreText={<a className=\"jt-read-more jt-clickable\">Lees meer...</a>}\r\n                    />\r\n                </Card.Text>\r\n                <div className=\"jt-card-tags\">\r\n                    {speelgoedItem['leeftijden'].map(lt => (\r\n                        <Badge pill variant=\"secondary\">\r\n                            {leeftijd['subCategorieen']\r\n                                .filter(item => (item['id'] == lt))\r\n                                .map(item => (\r\n                                    item['naam']\r\n                                ))\r\n                            }\r\n                        </Badge>\r\n                    ))}\r\n                </div>\r\n                <div className=\"jt-card-tags\">\r\n                    {speelgoedItem['subCategorieen'].map(scId => (\r\n                        <Badge pill variant=\"secondary\">\r\n                            {categorieen.filter(c => (c['subCategorieen'].map(sc => sc['id']).includes(scId)))[0]['subCategorieen']\r\n                                .filter(item => (item['id'] == scId))\r\n                                .map(item => (\r\n                                    item['naam']\r\n                                ))\r\n                            }\r\n                        </Badge>\r\n                    ))}\r\n                </div>\r\n                <Button\r\n                    variant={\r\n                        !speelgoedItem['beschikbaar'] ||\r\n                        speelgoedItem['specialeAanvraag'] ||\r\n                        speelgoedItem['isArchief'] ||\r\n                        periodes\r\n                            .filter(item => !(\r\n                                item['isArchief'] ||\r\n                                reservaties\r\n                                    .filter(res => (!res['isArchief'] && res['speelgoedId'] === speelgoedItem['id']))\r\n                                    .map(res => res['periodeId'])\r\n                                    .includes(item['id']) ||\r\n                                winkelWagen.filter(wwItem => (wwItem['speelgoedId'] === speelgoedItem['id']))\r\n                                    .map(wwItem => wwItem['periodeId'])\r\n                                    .includes(item['id'])\r\n                            )).length === 0\r\n                            ? \"danger\"\r\n                            : \"success\"\r\n                    }\r\n                    disabled={\r\n                        !speelgoedItem['beschikbaar'] ||\r\n                        speelgoedItem['specialeAanvraag'] ||\r\n                        speelgoedItem['isArchief'] ||\r\n                        periodes\r\n                            .filter(item => !(\r\n                                item['isArchief'] ||\r\n                                reservaties\r\n                                    .filter(res => (!res['isArchief'] && res['speelgoedId'] === speelgoedItem['id']))\r\n                                    .map(res => res['periodeId'])\r\n                                    .includes(item['id']) ||\r\n                                winkelWagen.filter(wwItem => (wwItem['speelgoedId'] === speelgoedItem['id']))\r\n                                    .map(wwItem => wwItem['periodeId'])\r\n                                    .includes(item['id'])\r\n                            )).length === 0\r\n                    }\r\n                    className=\"mt-2\"\r\n                    onClick={() => addSpeelgoed(speelgoedItem['id'])}\r\n                >\r\n                    {speelgoedItem['specialeAanvraag'] ? \"Speciale aanvraag\" : \"Reserveren\"}\r\n                </Button>\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}","import {Button, Col, Modal, Row} from \"react-bootstrap\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nexport default function SpeelgoedToegevoegd({onHide, item, show, periode, formatDate}){\r\n    return (\r\n        <Modal show={show} onHide={onHide}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Speelgoed toegevoegd</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <Link to={\"/speelgoedfiche?id=\" + item['id']} id={item['id'] + \"-naam\"}>\r\n                    <Row>\r\n                        <Col xs=\"2\">\r\n                            <img\r\n                                src={item['foto'] ? item['foto'] : \"/images/placeholder.jpg\"}\r\n                                alt=\"\"\r\n                                className=\"img-fluid\"\r\n                            />\r\n                        </Col>\r\n                        <Col xs=\"10\" className=\"d-flex flex-row align-items-center\">\r\n                            {item['naam']}\r\n                        </Col>\r\n                    </Row>\r\n                </Link>\r\n                <p>\r\n                    {\"Van \" + formatDate(periode['startDatum']) + \" tot \" + formatDate(periode['eindDatum'])}\r\n                </p>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={onHide}>\r\n                    Verder winkelen\r\n                </Button>\r\n                <Button as={Link} to=\"/winkelwagen\" variant=\"success\">\r\n                    Naar winkelwagen\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nSpeelgoedToegevoegd.defaultProps = {\r\n    periode: {\"startDatum\": \"1995-07-13\", \"eindDatum\": \"1995-07-13\"},\r\n    item: {}\r\n}","import {Link, Redirect} from \"react-router-dom\";\r\nimport Filters from \"../components/Filters\";\r\nimport {Button, CardColumns, Col, Form, Modal, Row, Spinner} from \"react-bootstrap\";\r\nimport SpeelgoedCard from \"../components/SpeelgoedCard\";\r\nimport {useState} from \"react\";\r\nimport SpeelgoedToegevoegd from \"../components/SpeelgoedToegevoegd\";\r\n\r\nexport default function HomePage({ isLoggedIn, filters, updateFilters, categorieen, leeftijd, userData,\r\n                                     removeCategorieFromFilters, filteredSpeelgoed, periodes, onWinkelWagenAdd,\r\n                                     winkelWagen, reservaties, formatDate }) {\r\n    const [addSpeelgoedToWinkelWagen, setAddSpeelgoedToWinkelWagen] = useState(false);\r\n    const [toAddSpeelgoed, setToAddSpeelgoed] = useState({\"speelgoedId\": -1, \"periodeId\": -1});\r\n    const [showToegevoegd, setShowToegevoegd] = useState(false);\r\n    const [toegevoedSpeelgoed, setToegevoegdSpeelgoed] = useState({});\r\n    const [toegevoegdPeriode, setToegevoegdPeriode] = useState({\"startDatum\": \"1995-07-13\", \"eindDatum\": \"1995-07-13\"});\r\n\r\n    const [actionInProgress, setActionInProgress] = useState('');\r\n\r\n    function onShowModal(id) {\r\n        setToAddSpeelgoed({...toAddSpeelgoed, \"speelgoedId\": id});\r\n        setAddSpeelgoedToWinkelWagen(true);\r\n    }\r\n\r\n    function onHideModal() {\r\n        setToAddSpeelgoed({\"speelgoedId\": -1, \"periodeId\": -1})\r\n        setAddSpeelgoedToWinkelWagen(false);\r\n    }\r\n\r\n    function onShowModalToegevoegd(speelgoedId, periodeId) {\r\n        setToegevoegdSpeelgoed(filteredSpeelgoed.find(item => (item['id'] === speelgoedId)));\r\n        setToegevoegdPeriode(periodes.find(item => (item['id'] === periodeId)));\r\n        setShowToegevoegd(true);\r\n    }\r\n\r\n    function onHideModalToegevoegd() {\r\n        setShowToegevoegd(false);\r\n    }\r\n\r\n    function onWinkelWagenAddLocal(e) {\r\n        e.preventDefault();\r\n        if (!toAddSpeelgoed['periodeId'] || toAddSpeelgoed['periodeId'] === -1) return alert(\"Selecteer een periode\");\r\n        if (winkelWagen.map(item => item['speelgoedId']).includes(toAddSpeelgoed['speelgoedId'] && winkelWagen.filter(item => (item['speelgoedId'] === toAddSpeelgoed['speelgoedId'])).map(item => item['periodeId']).includes(toAddSpeelgoed['periodeId'])))\r\n            return alert(\"Deze reservatie zit reeds in uw winkelwagen\");\r\n\r\n        setActionInProgress(\"Toevoegen\");\r\n        onWinkelWagenAdd(toAddSpeelgoed['speelgoedId'], toAddSpeelgoed['periodeId']);\r\n        onShowModalToegevoegd(toAddSpeelgoed['speelgoedId'], toAddSpeelgoed['periodeId']);\r\n        onHideModal();\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container\">\r\n                <h1>Hoofdpagina</h1>\r\n                <Filters\r\n                    filters={filters}\r\n                    updateFilters={updateFilters}\r\n                    categorieen={categorieen}\r\n                    leeftijd={leeftijd}\r\n                    userData={userData}\r\n                    removeCategorieFromFilters={removeCategorieFromFilters}\r\n                />\r\n                <CardColumns className=\"jt-card-columns\">\r\n                    {filteredSpeelgoed.map(item => (\r\n                        <SpeelgoedCard\r\n                            speelgoedItem={item}\r\n                            categorieen={categorieen}\r\n                            leeftijd={leeftijd}\r\n                            addSpeelgoed={onShowModal}\r\n                            reservaties={reservaties}\r\n                            periodes={periodes}\r\n                            winkelWagen={winkelWagen}\r\n                        />\r\n                    ))}\r\n                </CardColumns>\r\n            </main>\r\n\r\n            <Modal show={addSpeelgoedToWinkelWagen} onHide={() => onHideModal()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Toevoegen aan winkelwagen</Modal.Title>\r\n                </Modal.Header>\r\n                <Form onSubmit={onWinkelWagenAddLocal}>\r\n                    <Modal.Body>\r\n                        <Form.Group>\r\n                            <Form.Label>Periode:</Form.Label>\r\n                            <Form.Control\r\n                                as=\"select\"\r\n                                value={toAddSpeelgoed['periodeId']}\r\n                                onChange={e => setToAddSpeelgoed({...toAddSpeelgoed, \"periodeId\": parseInt(e.target.value)})}\r\n                                required\r\n                            >\r\n                                <option value=\"-1\">Kies...</option>\r\n                                {periodes.filter(item => !item['isArchief']).length > 0 ? periodes\r\n                                    .filter(item => !(\r\n                                        item['isArchief'] || reservaties\r\n                                            .filter(res => (!res['isArchief'] && res['speelgoedId'] === toAddSpeelgoed['speelgoedId']))\r\n                                            .map(res => res['periodeId'])\r\n                                            .includes(item['id']) ||\r\n                                        winkelWagen.filter(wwItem => (wwItem['speelgoedId'] === toAddSpeelgoed['speelgoedId']))\r\n                                            .map(wwItem => wwItem['periodeId'])\r\n                                            .includes(item['id'])\r\n                                    ))\r\n                                    .map((periode) => (\r\n                                        <option\r\n                                            value={periode['id']}\r\n                                        >\r\n                                            {\"Van \" + formatDate(periode['startDatum']) + \" tot \" + formatDate(periode['eindDatum'])}\r\n                                        </option>\r\n                                    )\r\n                                ) : <option value=\"-1\">Geen periodes beschikbaar</option>}\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={() => onHideModal()}>\r\n                            Sluiten\r\n                        </Button>\r\n                        {actionInProgress === \"Toevoegen\"\r\n                            ?\r\n                            <Button variant=\"success\" disabled>\r\n                                <Spinner\r\n                                    as=\"span\"\r\n                                    animation=\"border\"\r\n                                    size=\"sm\"\r\n                                    role=\"status\"\r\n                                    aria-hidden=\"true\"\r\n                                /> Laden...\r\n                            </Button>\r\n                            :\r\n                            <Button variant=\"success\" type=\"submit\">\r\n                                Toevoegen\r\n                            </Button>\r\n                        }\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n\r\n            <SpeelgoedToegevoegd\r\n                show={showToegevoegd}\r\n                onHide={() => onHideModalToegevoegd()}\r\n                item={toegevoedSpeelgoed}\r\n                periode={toegevoegdPeriode}\r\n                formatDate={formatDate}\r\n            />\r\n        </>\r\n    )\r\n}","import {Redirect, Link, useLocation} from \"react-router-dom\";\r\nimport {Table, Button, Alert, Form, Badge, Modal, Spinner} from 'react-bootstrap'\r\nimport {FaPen, FaTrashAlt, FaPlus, FaArchive, FaTimes, FaCaretUp, FaCaretDown} from 'react-icons/fa'\r\nimport {useEffect, useState} from \"react\";\r\nimport Filters from \"../../components/Filters\";\r\n\r\nexport default function AdminSpeelgoedPage({    isLoggedIn,\r\n                                                filteredSpeelgoed,\r\n                                                filters,\r\n                                                updateFilters,\r\n                                                removeCategorieFromFilters,\r\n                                                archiveSpeelgoed,\r\n                                                onDeleteSpeelgoed,\r\n                                                onToggleBeschikbaar,\r\n                                                onToggleSpecialeAanvraag,\r\n                                                categorieen,\r\n                                                leeftijd,\r\n                                                userData,\r\n                                                sortSpeelgoed, \r\n                                                sortParam }) {\r\n    const location = useLocation();\r\n    const [action, setAction] = useState();\r\n\r\n    const [speelgoedChecked, setSpeelgoedChecked] = useState([]);\r\n    const [allChecked, setAllChecked] = useState(false);\r\n    const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n    const [toDelete, setToDelete] = useState([]);\r\n\r\n    const [actionInProgress, setActionInProgress] = useState('');\r\n    const [actionId, setActionId] = useState(-1);\r\n\r\n    useEffect(() => {\r\n        let query = location.search;\r\n        let variables = {};\r\n        if (query) {\r\n            query = query.slice(1,query.length); // Remove questionmark\r\n            let variableStrings = query.split('&'); // Split variables\r\n            variableStrings.forEach((variable)=>{\r\n                variables[variable.split('=')[0]] = variable.split('=')[1]; // Split key and value and store in array\r\n            })\r\n            setAction(variables['action']); // Set action if in variables array\r\n        }\r\n    }, []);\r\n\r\n    function toggleAllChecked() {\r\n        if (allChecked) {\r\n            setSpeelgoedChecked([]);\r\n            setAllChecked(false);\r\n        } else {\r\n            setSpeelgoedChecked(filteredSpeelgoed.map((speelgoed) => (speelgoed['id'])));\r\n            setAllChecked(true);\r\n        }\r\n    }\r\n\r\n    function toggleSpeelgoedChecked(speelgoedId) {\r\n        setAllChecked(false);\r\n        if (speelgoedChecked.includes(speelgoedId)) {\r\n            setSpeelgoedChecked(speelgoedChecked.filter((id) => (id != speelgoedId)))\r\n        } else {\r\n            setSpeelgoedChecked([...speelgoedChecked, speelgoedId]);\r\n        }\r\n    }\r\n\r\n    async function archiveSpeelgoedRemote(id, isArchief) {\r\n        setActionId(id);\r\n        setActionInProgress(\"Archiveren\");\r\n        let ids = [];\r\n        if (id == -1) {\r\n            ids = speelgoedChecked;\r\n        } else {\r\n            ids.push(id);\r\n        }\r\n        let today = new Date();\r\n        let todayString = today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate();\r\n        const res = await fetch('/php/admin/speelgoedArchive.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({ids, \"isArchief\": isArchief ? 1 : 0, \"archiefDatum\": todayString})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            archiveSpeelgoed(data['ids'], data['isArchief'], data['archiefDatum']);\r\n        } else {\r\n            alert('Het arciveren is mislukt');\r\n        }\r\n        setActionInProgress(\"\");\r\n        setActionId(-1);\r\n    }\r\n\r\n    function deleteSpeelgoedLocal(id) {\r\n        setShowDeleteConfirm(true);\r\n        let ids = [];\r\n        if (id == -1) {\r\n            ids = speelgoedChecked;\r\n        } else {\r\n            ids.push(id);\r\n        }\r\n        setToDelete(ids);\r\n    }\r\n\r\n    function onHideModal(del) {\r\n        if (del) {\r\n            deleteSpeelgoedRemote();\r\n        }\r\n        setShowDeleteConfirm(false);\r\n    }\r\n\r\n    async function deleteSpeelgoedRemote() {\r\n        setActionInProgress(\"Delete\");\r\n        const res = await fetch('/php/admin/speelgoedDelete.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({toDelete})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onDeleteSpeelgoed(data['ids']);\r\n        } else {\r\n            alert('Het verwijderen is mislukt');\r\n        }\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    async function toggleBeschikbaarRemote(id, status) {\r\n        const res = await fetch('/php/admin/speelgoedBeschikbaar.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({id, status})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onToggleBeschikbaar(data['id'], data['status']);\r\n        } else {\r\n            alert('Het veranderen van status \"beschikbaar\" is mislukt');\r\n        }\r\n    }\r\n\r\n    async function toggleSpecialeAanvraagRemote(id, status) {\r\n        const res = await fetch('/php/admin/speelgoedSpecialeAanvraag.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({id, status})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onToggleSpecialeAanvraag(data['id'], data['status']);\r\n        } else {\r\n            alert('Het veranderen van status \"speciale aanvraag\" is mislukt');\r\n        }\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container-fluid\">\r\n                <h1>Admin Speelgoed</h1>\r\n                <Alert show={action == \"toegevoegd\"} variant=\"success\" onClose={() => setAction(\"\")} dismissible>\r\n                    <p className=\"mb-0\">Speelgoed succesvol aangemaakt</p>\r\n                </Alert>\r\n                <Alert show={action == \"bewerkt\"} variant=\"success\" onClose={() => setAction(\"\")} dismissible>\r\n                    <p className=\"mb-0\">Speelgoed succesvol bewerkt</p>\r\n                </Alert>\r\n                <Filters\r\n                    filters={filters}\r\n                    updateFilters={updateFilters}\r\n                    categorieen={categorieen}\r\n                    leeftijd={leeftijd}\r\n                    userData={userData}\r\n                    removeCategorieFromFilters={removeCategorieFromFilters}\r\n                />\r\n                <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th className=\"jt-table-check-container\"></th>\r\n                        <th className=\"jt-table-center jt-table-id-container\"># \r\n                            <div className=\"d-flex flex-row\">\r\n                                <FaCaretUp \r\n                                    onClick={() => sortSpeelgoed(\"oudCode\", \"asc\")}\r\n                                    color={(sortParam[\"param\"] === \"oudCode\" && sortParam[\"type\"] === \"asc\") ? \"blue\": \"black\"}\r\n                                />\r\n                                <FaCaretDown \r\n                                    onClick={() => sortSpeelgoed(\"oudCode\", \"desc\")}\r\n                                    color={(sortParam[\"param\"] === \"oudCode\" && sortParam[\"type\"] === \"desc\") ? \"blue\": \"black\"}\r\n                                />\r\n                            </div>\r\n                        </th>\r\n                        <th>Naam \r\n                            <div className=\"d-flex flex-row\">\r\n                                <FaCaretUp \r\n                                    onClick={() => sortSpeelgoed(\"naam\", \"asc\")}\r\n                                    color={(sortParam[\"param\"] === \"naam\" && sortParam[\"type\"] === \"asc\") ? \"blue\": \"black\"}\r\n                                />\r\n                                <FaCaretDown \r\n                                    onClick={() => sortSpeelgoed(\"naam\", \"desc\")}\r\n                                    color={(sortParam[\"param\"] === \"naam\" && sortParam[\"type\"] === \"desc\") ? \"blue\": \"black\"}\r\n                                />\r\n                            </div>\r\n                        </th>\r\n                        <th></th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr>\r\n                        <td className=\"jt-table-id\">\r\n                            <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                    <Form.Check\r\n                                        type=\"checkbox\"\r\n                                        className=\"jt-table-check\"\r\n                                        onChange={(e) => toggleAllChecked()}\r\n                                        checked={allChecked}\r\n                                    />\r\n                                </Form>\r\n                            </div>\r\n                        </td>\r\n                        <td colSpan=\"2\"></td>\r\n                        <td className=\"jt-table-actions\">\r\n                            <Button as={Link} to=\"/admin/speelgoedfiche?action=toevoegen\" variant=\"success\" className=\"rounded-circle\"><FaPlus/></Button>\r\n                            {actionInProgress === \"Archiveren\" && actionId === -1\r\n                                ?\r\n                                <Button variant=\"archive\" className=\"rounded-circle\" disabled>\r\n                                    <Spinner\r\n                                        as=\"span\"\r\n                                        animation=\"border\"\r\n                                        size=\"sm\"\r\n                                        role=\"status\"\r\n                                        aria-hidden=\"true\"\r\n                                    />\r\n                                </Button>\r\n                                :\r\n                                <Button variant=\"archive\" className=\"rounded-circle\" onClick={() => archiveSpeelgoedRemote(-1, 1)}><FaArchive/></Button>\r\n                            }\r\n                            <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteSpeelgoedLocal(-1)}><FaTrashAlt/></Button>\r\n                        </td>\r\n                    </tr>\r\n                    {filteredSpeelgoed.map((speelgoed) => (\r\n                        <tr>\r\n                            <td className=\"jt-table-id\">\r\n                                <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                    <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                        <Form.Check\r\n                                            type=\"checkbox\"\r\n                                            className=\"jt-table-check\"\r\n                                            onChange={(e) => toggleSpeelgoedChecked(speelgoed['id'])}\r\n                                            checked={speelgoedChecked.includes(speelgoed['id'])}\r\n                                        />\r\n                                    </Form>\r\n                                </div>\r\n                            </td>\r\n                            <td className=\"jt-table-id\">{speelgoed['oudCode']}</td>\r\n                            <td>\r\n                                <Link to={\"/speelgoedfiche?id=\" + speelgoed['id']} id={speelgoed['id'] + \"-naam\"}>\r\n                                    <img src={speelgoed['foto'] ? speelgoed['foto'] : \"/images/placeholder.jpg\"} className=\"jt-table-img\"/>\r\n                                    <span className=\"jt-table-naam\">{speelgoed['naam']}</span>\r\n                                </Link>\r\n                                {speelgoed['isArchief']\r\n                                    ?\r\n                                    <Badge pill variant=\"archive\" className=\"mr-2\">\r\n                                    <span className=\"mr-2\">\r\n                                        {speelgoed['archiefDatum']}\r\n                                    </span>\r\n                                        <FaTimes as={Button}\r\n                                                 onClick={() => archiveSpeelgoedRemote(speelgoed['id'], 0)}\r\n                                                 className=\"jt-clickable\"\r\n                                        />\r\n                                    </Badge>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                                {!speelgoed['beschikbaar']\r\n                                    ?\r\n                                    <Badge pill variant=\"danger\" className=\"mr-2\">\r\n                                    <span className=\"mr-2\">\r\n                                        Niet beschikbaar\r\n                                    </span>\r\n                                        <FaTimes as={Button}\r\n                                                 onClick={() => toggleBeschikbaarRemote(speelgoed['id'], 1)}\r\n                                                 className=\"jt-clickable\"\r\n                                        />\r\n                                    </Badge>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                                {speelgoed['specialeAanvraag']\r\n                                    ?\r\n                                    <Badge pill variant=\"primary\" className=\"mr-2\">\r\n                                    <span className=\"mr-2\">\r\n                                        Speciale Aanvraag\r\n                                    </span>\r\n                                        <FaTimes as={Button}\r\n                                                 onClick={() => toggleSpecialeAanvraagRemote(speelgoed['id'], 0)}\r\n                                                 className=\"jt-clickable\"\r\n                                        />\r\n                                    </Badge>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                            </td>\r\n                            <td className=\"jt-table-actions\">\r\n                                <Button as={Link} to={\"/admin/speelgoedfiche?action=bewerken&id=\" + speelgoed['id']}  variant=\"info\" className=\"rounded-circle\"><FaPen/></Button>\r\n                                {actionInProgress === \"Archiveren\" && actionId === speelgoed['id']\r\n                                    ?\r\n                                    <Button variant=\"archive\" className=\"rounded-circle\" disabled>\r\n                                        <Spinner\r\n                                            as=\"span\"\r\n                                            animation=\"border\"\r\n                                            size=\"sm\"\r\n                                            role=\"status\"\r\n                                            aria-hidden=\"true\"\r\n                                        />\r\n                                    </Button>\r\n                                    :\r\n                                    <Button variant=\"archive\" className=\"rounded-circle\" onClick={() => archiveSpeelgoedRemote(speelgoed['id'], !speelgoed['isArchief'])}><FaArchive/></Button>\r\n                                }\r\n                                <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteSpeelgoedLocal(speelgoed['id'])}><FaTrashAlt/></Button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                </Table>\r\n            </main>\r\n\r\n            <Modal show={showDeleteConfirm} onHide={() => onHideModal(false)}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Speelgoed verwijderen</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Weet u zeker dat u {toDelete.length} stuk{toDelete.length > 1 ? \"ken\" : \"\"} speelgoed wilt verwijderen?\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={() => onHideModal(false)}>\r\n                        Sluiten\r\n                    </Button>\r\n                    {actionInProgress === \"Delete\"\r\n                        ?\r\n                        <Button variant=\"danger\" disabled>\r\n                            <Spinner\r\n                                as=\"span\"\r\n                                animation=\"border\"\r\n                                size=\"sm\"\r\n                                role=\"status\"\r\n                                aria-hidden=\"true\"\r\n                            /> Laden...\r\n                        </Button>\r\n                        :\r\n                        <Button variant=\"danger\" onClick={() => onHideModal(true)}>\r\n                            Verwijder\r\n                        </Button>\r\n                    }\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    )\r\n}","import {Redirect, Link} from \"react-router-dom\";\r\nimport {Table, Form, Row, Col} from 'react-bootstrap'\r\nimport {FaCaretUp, FaCaretDown} from 'react-icons/fa'\r\nimport {useState, useEffect} from \"react\";\r\nimport Filters from \"../../components/Filters\";\r\n\r\nexport default function AdminStatistiekPage({   isLoggedIn,\r\n                                                filteredSpeelgoed,\r\n                                                filters,\r\n                                                updateFilters,\r\n                                                removeCategorieFromFilters,\r\n                                                categorieen,\r\n                                                leeftijd,\r\n                                                userData,\r\n                                                sortSpeelgoed, \r\n                                                sortParam,\r\n                                                reservaties,\r\n                                                periodes }) {\r\n\r\n    const [vanDatum, setVanDatum] = useState('');\r\n    const [totDatum, setTotDatum] = useState('');\r\n    const [statInfo, setStatInfo] = useState('{}');\r\n\r\n    const [toonNullen, setToonNullen] = useState('');\r\n    const [sortLocal, setSortLocal] = useState('');\r\n\r\n    useEffect(() => {\r\n        let newStatInfo = {};\r\n        filteredSpeelgoed.forEach(item => {\r\n            let count = reservaties.filter(res => res['speelgoedId'] === item['id']).length\r\n            newStatInfo[item['id']] = {'count': count};\r\n        })\r\n        setStatInfo(newStatInfo);\r\n    }, []);\r\n\r\n    function updateCount(vanDatum, totDatum) {\r\n        setVanDatum(vanDatum);\r\n        setTotDatum(totDatum);\r\n\r\n        if (vanDatum == '' || totDatum == '') {\r\n            let newStatInfo = {};\r\n            filteredSpeelgoed.forEach(item => {\r\n                let count = reservaties.filter(res => res['speelgoedId'] === item['id']).length\r\n                newStatInfo[item['id']] = {'count': count};\r\n            })\r\n            setStatInfo(newStatInfo);\r\n            return;\r\n        };\r\n\r\n        let newStatInfo = {};\r\n        filteredSpeelgoed.forEach(item => {\r\n            let count = reservaties.filter(res => (res['speelgoedId'] === item['id'] && periodes.filter(p => (p['startDatum'] >= vanDatum && p['startDatum'] < totDatum)).map(p => p['id']).includes(res['periodeId']))).length\r\n            newStatInfo[item['id']] = {'count': count};\r\n        })\r\n        setStatInfo(newStatInfo);\r\n    }\r\n    \r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container-fluid\">\r\n                <h1>Admin Speelgoed</h1>\r\n                <Filters\r\n                    filters={filters}\r\n                    updateFilters={updateFilters}\r\n                    categorieen={categorieen}\r\n                    leeftijd={leeftijd}\r\n                    userData={userData}\r\n                    removeCategorieFromFilters={removeCategorieFromFilters}\r\n                />\r\n\r\n                <Row className=\"jt-no-print\">\r\n                    {/*Filter periodes*/}\r\n                    <Form.Group className=\"px-3 py-2\">\r\n                        <Col xs=\"auto\">\r\n                            <Form.Label htmlFor=\"vanDatum\">Van: </Form.Label>\r\n                            <Form.Control\r\n                                id=\"vanDatum\"\r\n                                type=\"date\"\r\n                                value={vanDatum}\r\n                                onChange={(e) => updateCount(e.target.value, totDatum)}\r\n                            />\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group className=\"px-3 py-2\">\r\n                        <Col xs=\"auto\">\r\n                            <Form.Label htmlFor=\"totDatum\">Tot: </Form.Label>\r\n                            <Form.Control\r\n                                id=\"totDatum\"\r\n                                type=\"date\"\r\n                                value={totDatum}\r\n                                onChange={(e) => updateCount(vanDatum, e.target.value)}\r\n                            />\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group className=\"px-3 py-2\">\r\n                        <Col xs=\"auto\" className=\"d-flex flex-row align-items-center\">\r\n                            <Form.Check\r\n                                type=\"switch\"\r\n                                id=\"switch\"\r\n                                value={toonNullen}\r\n                                onChange={() => setToonNullen(!toonNullen)}\r\n                                label=\"Toon speelgoed zonder reservaties\"\r\n                            />\r\n                        </Col>\r\n                    </Form.Group>\r\n                </Row>\r\n\r\n\r\n                <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th className=\"jt-table-center jt-table-id-container\"># \r\n                            <div className=\"d-flex flex-row\">\r\n                                <FaCaretUp \r\n                                    onClick={() => sortSpeelgoed(\"oudCode\", \"asc\")}\r\n                                    color={(sortParam[\"param\"] === \"oudCode\" && sortParam[\"type\"] === \"asc\") ? \"blue\": \"black\"}\r\n                                />\r\n                                <FaCaretDown \r\n                                    onClick={() => sortSpeelgoed(\"oudCode\", \"desc\")}\r\n                                    color={(sortParam[\"param\"] === \"oudCode\" && sortParam[\"type\"] === \"desc\") ? \"blue\": \"black\"}\r\n                                />\r\n                            </div>\r\n                        </th>\r\n                        <th>Naam \r\n                            <div className=\"d-flex flex-row\">\r\n                                <FaCaretUp \r\n                                    onClick={() => sortSpeelgoed(\"naam\", \"asc\")}\r\n                                    color={(sortParam[\"param\"] === \"naam\" && sortParam[\"type\"] === \"asc\") ? \"blue\": \"black\"}\r\n                                />\r\n                                <FaCaretDown \r\n                                    onClick={() => sortSpeelgoed(\"naam\", \"desc\")}\r\n                                    color={(sortParam[\"param\"] === \"naam\" && sortParam[\"type\"] === \"desc\") ? \"blue\": \"black\"}\r\n                                />\r\n                            </div>\r\n                        </th>\r\n                        <th className=\"text-right\">Aantal reservaties\r\n                            <div className=\"d-flex flex-row justify-content-end\">\r\n                                <FaCaretUp \r\n                                    onClick={() => setSortLocal(\"asc\")}\r\n                                    color={sortLocal === \"asc\" ? \"blue\": \"black\"}\r\n                                />\r\n                                <FaCaretDown \r\n                                    onClick={() => setSortLocal(\"desc\")}\r\n                                    color={sortLocal === \"desc\" ? \"blue\": \"black\"}\r\n                                />\r\n                            </div>\r\n                        </th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {filteredSpeelgoed\r\n                        .filter(speelgoed => toonNullen || (statInfo[speelgoed['id']] != undefined ? statInfo[speelgoed['id']]['count'] : 0) != 0)\r\n                        .sort((a, b) => {\r\n                            if (sortLocal === \"\") return 0;\r\n                            let countA = statInfo[a['id']] != undefined ? statInfo[a['id']]['count'] : 0;\r\n                            let countB = statInfo[b['id']] != undefined ? statInfo[b['id']]['count'] : 0;\r\n                            if (countA < countB) return sortLocal === \"asc\" ? -1: 1;\r\n                            if (countA > countB) return sortLocal === \"asc\" ? 1: -1;\r\n                            return 0;\r\n                        })\r\n                        .map((speelgoed) => (\r\n                        <tr>\r\n                            <td className=\"jt-table-id\">{speelgoed['oudCode']}</td>\r\n                            <td>\r\n                                <Link to={\"/speelgoedfiche?id=\" + speelgoed['id']} id={speelgoed['id'] + \"-naam\"}>\r\n                                    <img src={speelgoed['foto'] ? speelgoed['foto'] : \"/images/placeholder.jpg\"} className=\"jt-table-img\"/>\r\n                                    <span className=\"jt-table-naam\">{speelgoed['naam']}</span>\r\n                                </Link>\r\n                            </td>\r\n                            <td className=\"text-right\">{statInfo[speelgoed['id']] != undefined ? statInfo[speelgoed['id']]['count'] : 0}</td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                </Table>\r\n            </main>\r\n        </>\r\n    )\r\n}","import {useEffect, useState} from \"react\";\r\nimport {Redirect, useLocation, useHistory} from \"react-router-dom\";\r\nimport {Form, Button, Row, Col, Spinner} from 'react-bootstrap';\r\n\r\nexport default function AdminSpeelgoedFichePage({isLoggedIn, doelgroepen, userData, leeftijd, categorieen, speelgoed, onAddSpeelgoed, onUpdateSpeelgoed, onDeleteSpeelgoed}) {\r\n    const location = useLocation();\r\n    const [action, setAction] = useState('');\r\n\r\n    const[id ,setId] = useState(-1);\r\n    const [foto, setFoto] = useState({\"url\": \"/images/placeholder.jpg\", \"bestand\": undefined});\r\n    const [titel, setTitel] = useState('');\r\n    const [oudCode, setOudCode] = useState('');\r\n    const [doelgroep, setDoelgroep] = useState(userData['sessDoelgroep']);\r\n    const [selectLeeftijd, setSelectLeeftijd] = useState([]);\r\n    const [selectSubCategorieen, setSelectSubCategorieen] = useState([]);\r\n    const [merk, setMerk] = useState('');\r\n    const [leverancier, setLeverancier] = useState('');\r\n    const [aankoopDatum, setAankoopDatum] = useState('');\r\n    const [inhoudItems, setInhoudItems] = useState([{\"id\": 1, \"text\": '', \"aantal\": 0, \"kapot\": 0, \"tekort\": 0}]);\r\n    const [tipItems, setTipItems] = useState([{\"id\": 1, \"text\": ''}]);\r\n    const [korteInhoud, setKorteInhoud] = useState('');\r\n    const [bijlages, setBijlages] = useState([{\"id\": 1, \"naam\": \"\", \"bestand\": undefined}]);\r\n    const [beschikbaar, setBeschikbaar] = useState(true);\r\n    const [specialeAanvraag, setSpecialeAanvraag] = useState(false);\r\n\r\n    const [actionInProgress, setActionInProgress] = useState('');\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        let query = location.search;\r\n        let variables = {};\r\n        if (query) {\r\n            query = query.slice(1,query.length); // Remove questionmark\r\n            let variableStrings = query.split('&'); // Split variables\r\n            variableStrings.forEach((variable)=>{\r\n                variables[variable.split('=')[0]] = variable.split('=')[1]; // Split key and value and store in array\r\n            })\r\n            setAction(variables['action']); // Set action if in variables array\r\n            if (variables['action'] == \"bewerken\") {\r\n                if (speelgoed.filter(item => item['id'] == variables['id']).length > 0) {\r\n                    let speelgoedItem = speelgoed.filter(item => item['id'] == variables['id'])[0];\r\n                    setId(speelgoedItem['id']);\r\n                    setFoto({\"url\": speelgoedItem['foto'] ? speelgoedItem['foto'] : \"/images/placeholder.jpg\", \"bestand\": undefined});\r\n                    setTitel(speelgoedItem['naam']);\r\n                    setOudCode(speelgoedItem['oudCode']);\r\n                    setSelectLeeftijd(speelgoedItem['leeftijden']);\r\n                    setSelectSubCategorieen(speelgoedItem['subCategorieen']);\r\n                    setMerk(speelgoedItem['merk']);\r\n                    setLeverancier(speelgoedItem['leverancier']);\r\n                    setAankoopDatum(speelgoedItem['aankoopDatum']);\r\n                    setInhoudItems([...speelgoedItem['inhoud'].map(item => ({...item, \"original\": 1, \"removed\": 0})), {\"id\": 0, \"text\": '', \"aantal\": 0, \"kapot\": 0, \"tekort\": 0}]);\r\n                    setTipItems([...speelgoedItem['tips'].map(item => ({...item, \"original\": 1, \"removed\": 0})), {\"id\": 0, \"text\": ''}]);\r\n                    setKorteInhoud(speelgoedItem['korteInhoud']);\r\n                    setBijlages([...speelgoedItem['bijlages'].map(item => ({\"id\": item['id'], \"naam\": item['type'], \"path\": item['path'], \"bestand\": undefined, \"original\": 1, \"removed\": 0})), {\"id\": 0, \"naam\": \"\", \"bestand\": undefined}]);\r\n                    setBeschikbaar(speelgoedItem['beschikbaar']);\r\n                    setSpecialeAanvraag(speelgoedItem['specialeAanvraag']);\r\n                }\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    function jsonEscape(str)  {\r\n        return str.replace(/\\n/g, \"\\\\\\\\n\").replace(/\\r/g, \"\\\\\\\\r\").replace(/\\t/g, \"\\\\\\\\t\").replace(/\"/g, \"\\\\\\\"\");\r\n    }\r\n\r\n    async function addSpeelgoedRemote(e) {\r\n        e.preventDefault();\r\n        setActionInProgress(\"Upload\");\r\n\r\n        const formData = new FormData();\r\n        formData.append('foto', foto['bestand']);\r\n        formData.append('titel', jsonEscape(titel));\r\n        formData.append('oudCode', jsonEscape(oudCode));\r\n        formData.append('doelgroep', \"\"+doelgroep);\r\n        selectSubCategorieen.forEach(item => {\r\n            formData.append('subCategorieen[]', item);\r\n        })\r\n        selectLeeftijd.forEach(item => {\r\n            formData.append('leeftijd[]', item);\r\n        })\r\n        formData.append('merk', jsonEscape(merk));\r\n        formData.append('leverancier', jsonEscape(leverancier));\r\n        formData.append('aankoopDatum', aankoopDatum);\r\n        inhoudItems.forEach(item => {\r\n            if (item['text'] && !item['removed']) {\r\n                formData.append('inhoud[]', JSON.stringify({...item, \"text\": jsonEscape(item['text'])}));\r\n            }\r\n        })\r\n        tipItems.forEach(item => {\r\n            if (item['text'] && !item['removed']) {\r\n                formData.append('tips[]', JSON.stringify({...item, \"text\": jsonEscape(item['text'])}));\r\n            }\r\n        })\r\n        formData.append('korteInhoud', jsonEscape(korteInhoud));\r\n        bijlages.forEach(item => {\r\n            if (item['naam'] && item['bestand'] && !item['removed']) {\r\n                formData.append('bijlagesBestand[]', item['bestand']);\r\n                formData.append('bijlagesNaam[]', jsonEscape(item['naam']));\r\n            }\r\n        })\r\n        formData.append('beschikbaar', beschikbaar ? \"1\" : \"0\");\r\n        formData.append('specialeAanvraag', specialeAanvraag ? \"1\" : \"0\");\r\n\r\n        const res = await fetch('../php/admin/speelgoedInsert.php', {\r\n            method: 'POST',\r\n            body: formData\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            // Send update to state\r\n            if (data['doelgroep'] == userData['sessDoelgroep'])\r\n                onAddSpeelgoed(data['speelgoed']);\r\n\r\n            // Redirect to speelgoedPage\r\n            history.push(\"/admin/speelgoed?action=toegevoegd\");\r\n        } else {\r\n            alert(\"Speelgoed aanmaken mislukt\");\r\n        }\r\n        setActionInProgress(\"\")\r\n    }\r\n\r\n    async function updateSpeelgoedRemote(e) {\r\n        e.preventDefault();\r\n        setActionInProgress(\"Upload\");\r\n\r\n        const formData = new FormData();\r\n        formData.append('id', \"\"+id);\r\n        formData.append('foto', foto['bestand']);\r\n        formData.append('titel', jsonEscape(titel));\r\n        formData.append('oudCode', jsonEscape(oudCode));\r\n        formData.append('doelgroep', \"\"+doelgroep);\r\n        selectSubCategorieen.forEach(item => {\r\n            formData.append('subCategorieen[]', item);\r\n        })\r\n        selectLeeftijd.forEach(item => {\r\n            formData.append('leeftijd[]', item);\r\n        })\r\n        formData.append('merk', jsonEscape(merk));\r\n        formData.append('leverancier', jsonEscape(leverancier));\r\n        formData.append('aankoopDatum', aankoopDatum);\r\n        inhoudItems.forEach(item => {\r\n            if (item['text'] || (item['removed'] && item['original'])) {\r\n                formData.append('inhoud[]', JSON.stringify({...item, \"text\": jsonEscape(item['text'])}));\r\n            }\r\n        })\r\n        tipItems.forEach(item => {\r\n            if (item['text'] || (item['removed'] && item['original'])) {\r\n                formData.append('tips[]', JSON.stringify({...item, \"text\": jsonEscape(item['text'])}));\r\n            }\r\n        })\r\n        formData.append('korteInhoud', jsonEscape(korteInhoud));\r\n        bijlages.forEach(item => {\r\n            if ((item['naam'] && item['bestand'])  || item['original']) {\r\n                formData.append('bijlagesBestand[]', item['bestand']);\r\n                formData.append('bijlagesNaam[]', JSON.stringify({\"id\": item['id'], \"naam\": jsonEscape(item['naam']), \"original\": item['original'], \"removed\": item['removed']}));\r\n            }\r\n        })\r\n        formData.append('beschikbaar', beschikbaar ? \"1\" : \"0\");\r\n        formData.append('specialeAanvraag', specialeAanvraag ? \"1\" : \"0\");\r\n\r\n        const res = await fetch('../php/admin/speelgoedUpdate.php', {\r\n            method: 'POST',\r\n            body: formData\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            // Send update to state\r\n            if (data['doelgroep'] == userData['sessDoelgroep'])\r\n                onUpdateSpeelgoed(data['speelgoed']);\r\n            else\r\n                onDeleteSpeelgoed(data['speelgoed']['id']);\r\n\r\n            // Redirect to speelgoedPage\r\n            history.push(\"/admin/speelgoed?action=bewerkt\");\r\n        } else {\r\n            alert(\"Speelgoed bewerken mislukt\");\r\n        }\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    function changeItems(type, value, inhoudItem) {\r\n        let newInhoudItems= [];\r\n        inhoudItems.forEach((item) => {\r\n            if (item['id'] == inhoudItem['id'] && type != \"lostFocus\") {\r\n                let newInhoudItem = {};\r\n                switch (type){\r\n                    case \"text\":\r\n                        newInhoudItem = {...inhoudItem, \"text\": value};\r\n                        break;\r\n                    case \"aantal\":\r\n                        newInhoudItem = {...inhoudItem, \"aantal\": value};\r\n                        break;\r\n                    case \"kapot\":\r\n                        newInhoudItem = {...inhoudItem, \"kapot\": value};\r\n                        break;\r\n                    case \"tekort\":\r\n                        newInhoudItem = {...inhoudItem, \"tekort\": value};\r\n                        break;\r\n                    default:\r\n                        newInhoudItem = inhoudItem;\r\n                }\r\n                newInhoudItems.push(newInhoudItem);\r\n            } else {\r\n                if (item['text'] !== \"\"){\r\n                    newInhoudItems.push(item);\r\n                } else {\r\n                    newInhoudItems.push({...item, \"removed\": 1});\r\n                }\r\n            }\r\n        })\r\n        if (newInhoudItems[newInhoudItems.length-1]['text'] !== \"\") {\r\n            newInhoudItems.push({\"id\": newInhoudItems[newInhoudItems.length-1]['id']-1, \"text\": \"\", \"aantal\": 0, \"kapot\": 0, \"tekort\": 0});\r\n        }\r\n        newInhoudItems[newInhoudItems.length-1]['removed'] = 0;\r\n        setInhoudItems(newInhoudItems);\r\n    }\r\n\r\n    function changeTips(type, value, tipItem) {\r\n        let newTipItems= [];\r\n        tipItems.forEach((item) => {\r\n            if (item['id'] == tipItem['id'] && type != \"lostFocus\") {\r\n                let newTipItem = {};\r\n                newTipItem = {...tipItem, \"text\": value};\r\n                newTipItems.push(newTipItem);\r\n            } else {\r\n                if (item['text'] !== \"\"){\r\n                    newTipItems.push(item);\r\n                } else {\r\n                    newTipItems.push({...item, \"removed\": 1});\r\n                }\r\n            }\r\n        })\r\n        if (newTipItems[newTipItems.length-1]['text'] !== \"\") {\r\n            newTipItems.push({\"id\": newTipItems[newTipItems.length-1]['id']-1, \"text\": \"\"});\r\n        }\r\n        newTipItems[newTipItems.length-1]['removed'] = 0;\r\n        setTipItems(newTipItems);\r\n    }\r\n\r\n    function changeFoto(e) {\r\n        setFoto({\"bestand\": e.target.files[0], \"url\": URL.createObjectURL(e.target.files[0])});\r\n    }\r\n\r\n    function changeBijlage(type, e, bijlage) {\r\n        let newBijlages= [];\r\n        bijlages.forEach((item) => {\r\n            if (item['id'] == bijlage['id'] && type != \"lostFocus\") {\r\n                let newBijlage = {};\r\n                switch (type){\r\n                    case \"bestand\":\r\n                        newBijlage = {...bijlage, \"bestand\": e.target.files[0]};\r\n                        break;\r\n                    case \"naam\":\r\n                        newBijlage = {...bijlage, \"naam\": e.target.value};\r\n                        break;\r\n                    default:\r\n                        newBijlage = bijlage;\r\n                }\r\n                newBijlages.push(newBijlage);\r\n            } else {\r\n                if (item['naam'] !== \"\"){\r\n                    newBijlages.push(item);\r\n                } else {\r\n                    newBijlages.push({...item, \"removed\": 1});\r\n                }\r\n            }\r\n        })\r\n        if (newBijlages[newBijlages.length-1]['naam'] !== \"\") {\r\n            newBijlages.push({\"id\": newBijlages[newBijlages.length-1]['id']-1, \"naam\": \"\", \"bestand\": \"\"});\r\n        }\r\n        newBijlages[newBijlages.length-1]['removed'] = 0;\r\n        setBijlages(newBijlages);\r\n    }\r\n\r\n    function toggleSelect(type, id) {\r\n        switch (type) {\r\n            case \"subCategorie\":\r\n                if (selectSubCategorieen.includes(id)) {\r\n                    setSelectSubCategorieen(selectSubCategorieen.filter(item => item != id));\r\n                    break;\r\n                }\r\n                setSelectSubCategorieen([...selectSubCategorieen, id]);\r\n                break;\r\n            case \"leeftijd\":\r\n                if (selectLeeftijd.includes(id)) {\r\n                    setSelectLeeftijd(selectLeeftijd.filter(item => item != id));\r\n                    break;\r\n                }\r\n                setSelectLeeftijd([...selectLeeftijd, id]);\r\n                break;\r\n        }\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <main className=\"container\">\r\n            {action == \"toevoegen\" ? <h1>Admin speelgoed aanmaken</h1> : <h1>Admin speelgoed bewerken</h1>}\r\n            <Form className=\"row\" onSubmit={action == \"toevoegen\" ? addSpeelgoedRemote : updateSpeelgoedRemote}>\r\n                <div className=\"col-12 col-md-4\">\r\n                    <Form.Group>\r\n                        <img id=\"foto\" src={foto['url']} alt=\"\" className=\"m-auto\"/>\r\n                        <input id=\"foto-\" type=\"file\" className=\"form-control-file mt-2\" onChange={(e) => changeFoto(e)}/>\r\n                    </Form.Group>\r\n                </div>\r\n                <div className=\"col\">\r\n\r\n                    {/*Titel*/}\r\n                    <Form.Group controlId=\"title\">\r\n                        <Form.Label>Titel:</Form.Label>\r\n                        <Form.Control\r\n                            type=\"text\"\r\n                            placeholder=\"Titel\"\r\n                            value={titel}\r\n                            onChange={(e) => setTitel(e.target.value)}\r\n                            required\r\n                        />\r\n                    </Form.Group>\r\n\r\n                    {/*Oude code, leeftijd en categorieen*/}\r\n                    <Form.Group as={Row} className=\"mb-0\">\r\n                        <Col lg={6}>\r\n                            <Form.Group>\r\n                                <Form.Label>Oude code:</Form.Label>\r\n                                <Form.Control\r\n                                    id=\"oudeCode\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"Oude code\"\r\n                                    value={oudCode}\r\n                                    onChange={(e) => setOudCode(e.target.value)}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group>\r\n                                <Form.Label>Leeftijd:</Form.Label>\r\n                                <Form.Control\r\n                                    id=\"leeftijd\"\r\n                                    as=\"select\"\r\n                                    htmlSize={3}\r\n                                    custom\r\n                                    value={selectLeeftijd}\r\n                                    multiple\r\n                                >\r\n                                    {leeftijd['subCategorieen'].length > 0 ? leeftijd['subCategorieen'].map((sc) => (\r\n                                            <option\r\n                                                value={sc['id']}\r\n                                                selected={selectLeeftijd.includes(sc['id'])}\r\n                                                onClick={() => toggleSelect('leeftijd', sc['id'])}\r\n                                            >{sc['naam']}</option>\r\n                                        )\r\n                                    ) : <option value=\"-1\">Geen leeftijden</option>}\r\n                                </Form.Control>\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col lg={6}>\r\n                            <Form.Group>\r\n                                <Form.Label>Categorieën:</Form.Label>\r\n                                <Form.Control\r\n                                    id=\"categorieen\"\r\n                                    as=\"select\"\r\n                                    htmlSize={7}\r\n                                    custom\r\n                                    value={selectSubCategorieen}\r\n                                    multiple\r\n                                >\r\n                                    {categorieen.length > 0\r\n                                        ?\r\n                                        categorieen.map((c) => (\r\n                                            c['subCategorieen'].length > 0\r\n                                                ?\r\n                                                <optgroup label={c['naam']}>\r\n                                                    {c['subCategorieen'].map(sc => (\r\n                                                        <option\r\n                                                            value={sc['id']}\r\n                                                            selected={selectSubCategorieen.includes(sc['id'])}\r\n                                                            onClick={() => toggleSelect('subCategorie', sc['id'])}\r\n                                                        >{sc['naam']}</option>\r\n                                                    ))}\r\n                                                </optgroup>\r\n                                                :\r\n                                                <></>\r\n                                        ))\r\n                                        :\r\n                                        <option value=\"-1\">Geen doelgroepen</option>\r\n                                    }\r\n                                </Form.Control>\r\n                            </Form.Group>\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    {/*Merk, leverancier en aankoopdatum*/}\r\n                    <Form.Group as={Row} className=\"mb-0\">\r\n                        <Col lg={4}>\r\n                            <Form.Group>\r\n                                <Form.Label>Merk:</Form.Label>\r\n                                <Form.Control\r\n                                    id=\"merk\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"Merk\"\r\n                                    value={merk}\r\n                                    onChange={(e) => setMerk(e.target.value)}\r\n                                />\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col lg={4}>\r\n                            <Form.Group>\r\n                                <Form.Label>Leverancier:</Form.Label>\r\n                                <Form.Control\r\n                                    id=\"leverancier\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"Leverancier\"\r\n                                    value={leverancier}\r\n                                    onChange={(e) => setLeverancier(e.target.value)}\r\n                                />\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col lg={4}>\r\n                            <Form.Group>\r\n                                <Form.Label>Aankoopdatum:</Form.Label>\r\n                                <Form.Control\r\n                                    id=\"aankoopDatum\"\r\n                                    type=\"date\"\r\n                                    value={aankoopDatum}\r\n                                    onChange={(e) => setAankoopDatum(e.target.value)}\r\n                                />\r\n                            </Form.Group>\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    {/*Inhoud*/}\r\n                    <Form.Group as={Row} className=\"mb-0\">\r\n                        <Col xs={6}>\r\n                            <Form.Group>\r\n                                <Form.Label>Inhoud:</Form.Label>\r\n                                {inhoudItems.filter(inhoudItem => (!inhoudItem['removed'])).map(inhoudItem => (\r\n                                    <Form.Control\r\n                                        id={\"inhoudItem-\" + inhoudItem['id']}\r\n                                        type=\"text\"\r\n                                        placeholder=\"Inhoud\"\r\n                                        value={inhoudItem['text']}\r\n                                        onChange={(e) => changeItems(\"text\", e.target.value, inhoudItem)}\r\n                                        onBlur={(e) => changeItems(\"lostFocus\", e.target.value, inhoudItem)}\r\n                                        className=\"mb-1\"\r\n                                    />\r\n                                ))}\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col xs={2}>\r\n                            <Form.Group>\r\n                                <Form.Label>Aantal:</Form.Label>\r\n                                {inhoudItems.filter(inhoudItem => (!inhoudItem['removed'])).map(inhoudItem => (\r\n                                    <Form.Control\r\n                                        id={\"inhoudAantal-\" + inhoudItem['id']}\r\n                                        type=\"number\"\r\n                                        value={inhoudItem['aantal']}\r\n                                        onChange={(e) => changeItems(\"aantal\", e.target.value, inhoudItem)}\r\n                                        className=\"mb-1\"\r\n                                    />\r\n                                ))}\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col xs={2}>\r\n                            <Form.Group>\r\n                                <Form.Label>Kapot:</Form.Label>\r\n                                {inhoudItems.filter(inhoudItem => (!inhoudItem['removed'])).map(inhoudItem => (\r\n                                    <Form.Control\r\n                                        id={\"inhoudKapot-\" + inhoudItem['id']}\r\n                                        type=\"number\"\r\n                                        value={inhoudItem['kapot']}\r\n                                        onChange={(e) => changeItems(\"kapot\", e.target.value, inhoudItem)}\r\n                                        className=\"mb-1\"\r\n                                    />\r\n                                ))}\r\n                            </Form.Group>\r\n                        </Col>\r\n                        <Col xs={2}>\r\n                            <Form.Group>\r\n                                <Form.Label>Tekort:</Form.Label>\r\n                                {inhoudItems.filter(inhoudItem => (!inhoudItem['removed'])).map(inhoudItem => (\r\n                                    <Form.Control\r\n                                        id={\"inhoudTekort-\" + inhoudItem['id']}\r\n                                        type=\"number\"\r\n                                        value={inhoudItem['tekort']}\r\n                                        onChange={(e) => changeItems(\"tekort\", e.target.value, inhoudItem)}\r\n                                        className=\"mb-1\"\r\n                                    />\r\n                                ))}\r\n                            </Form.Group>\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    {/*Tips*/}\r\n                    <Form.Group>\r\n                        <Form.Label>Tips:</Form.Label>\r\n                        {tipItems.filter(tipItem => (!tipItem['removed'])).map(tipItem => (\r\n                            <Form.Control\r\n                                id={\"tipItem-\" + tipItem['id']}\r\n                                as=\"textarea\"\r\n                                placeholder=\"Geef een tip...\"\r\n                                value={tipItem['text']}\r\n                                onChange={(e) => changeTips(\"text\", e.target.value, tipItem)}\r\n                                onBlur={(e) => changeTips(\"lostFocus\", e.target.value, tipItem)}\r\n                                rows={1}\r\n                                className=\"mb-1\"\r\n                            />\r\n                        ))}\r\n                    </Form.Group>\r\n\r\n                    {/*Korte inhoud*/}\r\n                    <Form.Group controlId=\"korteInhoud\">\r\n                        <Form.Label>Korte beschrijving:</Form.Label>\r\n                        <Form.Control\r\n                            as=\"textarea\"\r\n                            placeholder=\"Korte beschrijving\"\r\n                            value={korteInhoud}\r\n                            onChange={(e) => setKorteInhoud(e.target.value)}\r\n                        />\r\n                    </Form.Group>\r\n\r\n                    {/*Bijlages*/}\r\n                    <Form.Group as={Row}>\r\n                        <Col xs={12}>\r\n                            <Form.Label>Bijlages:</Form.Label>\r\n                        </Col>\r\n                        {bijlages.filter(bijlage => (!bijlage['removed'])).map(bijlage => (\r\n                            <>\r\n                                <Col xs={6}>\r\n                                    <Form.Control\r\n                                        id={\"bijlage-\" + bijlage['id']}\r\n                                        type=\"text\"\r\n                                        placeholder=\"Naam bijlage\"\r\n                                        value={bijlage['naam']}\r\n                                        onChange={(e) => changeBijlage(\"naam\", e, bijlage)}\r\n                                        onBlur={(e) => changeBijlage(\"lostFocus\", e.target.value, bijlage)}\r\n                                        className=\"mb-1\"\r\n                                        required={bijlage['bestand']}\r\n                                    />\r\n                                </Col>\r\n                                <Col xs={6} className=\"d-flex align-items-center\">\r\n                                    {bijlage['path']\r\n                                    ?\r\n                                        <a href={bijlage['path']} target=\"_blank\">{bijlage['naam']}</a>\r\n                                    :\r\n                                        <input\r\n                                            id={\"file-\" + bijlage['id']}\r\n                                            type=\"file\"\r\n                                            onChange={(e) => changeBijlage(\"bestand\", e, bijlage)}\r\n                                            className=\"form-control-file mb-1\"\r\n                                        />\r\n                                    }\r\n                                </Col>\r\n                            </>\r\n                        ))}\r\n                    </Form.Group>\r\n\r\n                    {/*Beschikbaar*/}\r\n                    <Form.Group>\r\n                        <Form.Check\r\n                            id=\"beschikbaar\"\r\n                            type=\"checkbox\"\r\n                            label=\"Beschikbaar\"\r\n                            onChange={(e) => setBeschikbaar(!beschikbaar)}\r\n                            checked={beschikbaar}\r\n                        />\r\n                    </Form.Group>\r\n\r\n                    {/*Speciale aanvraag*/}\r\n                    <Form.Group>\r\n                        <Form.Check\r\n                            id=\"specialeAanvraag\"\r\n                            type=\"checkbox\"\r\n                            label=\"Speciale Aanvraag\"\r\n                            onChange={(e) => setSpecialeAanvraag(!specialeAanvraag)}\r\n                            checked={specialeAanvraag}\r\n                        />\r\n                    </Form.Group>\r\n\r\n                    {actionInProgress === \"Upload\"\r\n                        ?\r\n                        <Button variant=\"primary\" disabled>\r\n                            <Spinner\r\n                                as=\"span\"\r\n                                animation=\"border\"\r\n                                size=\"sm\"\r\n                                role=\"status\"\r\n                                aria-hidden=\"true\"\r\n                            /> Laden...\r\n                        </Button>\r\n                        :\r\n                        action === \"toevoegen\"\r\n                            ?\r\n                            <Button variant=\"primary\" type=\"submit\">\r\n                                Speelgoed aanmaken\r\n                            </Button>\r\n                            :\r\n                            <Button variant=\"primary\" type=\"submit\">\r\n                                Speelgoed bewerken\r\n                            </Button>\r\n                    }\r\n                </div>\r\n            </Form>\r\n        </main>\r\n    )\r\n}","import {Button, Col, Form, Row, Spinner, Table} from \"react-bootstrap\";\r\nimport {FaArchive, FaPen, FaPlus, FaTimes, FaTrashAlt} from \"react-icons/fa\";\r\nimport {useEffect, useState} from \"react\";\r\n\r\nexport default function CategorieTable ({ categorie, onAddSubCategorie, onEditCategorie, onEditSubCategorie, onShowDeleteModal, removeChecked, resetRemoveChecked }) {\r\n    const [subCategorieInEditMode, setSubCategorieInEditMode] = useState();\r\n    const [categorieInEditMode, setCategorieInEditMode] = useState(false);\r\n    const [showBody, setShowBody] = useState(false);\r\n\r\n    const [subCategorieNaam, setSubCategorieNaam] = useState();\r\n    const [checked, setChecked] = useState([]);\r\n    const [categorieChecked, setCategorieChecked] = useState(false);\r\n\r\n    const [editedCategorieNaam, setEditedCategorieNaam] = useState(categorie['naam']);\r\n    const [editedSubCategorieNaam, setEditedSubCategorieNaam] = useState();\r\n\r\n    const [actionInProgress, setActionInProgress] = useState('');\r\n    const [actionOnId, setActionOnId] = useState(-1);\r\n\r\n    useEffect(() => {\r\n        if (removeChecked === categorie['id']){\r\n            setChecked([]);\r\n            resetRemoveChecked();\r\n        }\r\n    }, [removeChecked]);\r\n\r\n    function jsonEscape(str)  {\r\n        return str.replace(/\\n/g, \"\\\\\\\\n\").replace(/\\r/g, \"\\\\\\\\r\").replace(/\\t/g, \"\\\\\\\\t\").replace(/\"/g, \"\\\\\\\"\");\r\n    }\r\n\r\n    function toggleBody() {\r\n        setShowBody(!showBody);\r\n    }\r\n\r\n    function toggleCategorieEditMode() {\r\n        setCategorieInEditMode(!categorieInEditMode);\r\n        setSubCategorieInEditMode(0);\r\n    }\r\n\r\n    function toggleSubCategorieEditMode(subCategorieId) {\r\n        if (subCategorieInEditMode == subCategorieId)\r\n            return setSubCategorieInEditMode(0);\r\n        setSubCategorieInEditMode(subCategorieId);\r\n        setEditedSubCategorieNaam(categorie['subCategorieen'].filter((sc) => (sc['id'] == subCategorieId))[0]['naam']);\r\n        setCategorieInEditMode(false);\r\n    }\r\n\r\n    function toggleCategorieChecked() {\r\n        if (categorieChecked) {\r\n            setChecked([]);\r\n            setCategorieChecked(false);\r\n        } else {\r\n            setChecked(categorie['subCategorieen'].map((sc) => (sc['id'])));\r\n            setCategorieChecked(true);\r\n        }\r\n    }\r\n\r\n    function toggleSubCategorieChecked(scId) {\r\n        setCategorieChecked(false);\r\n        if (checked.includes(scId)) {\r\n            setChecked(checked.filter((id) => (id != scId)))\r\n        } else {\r\n            setChecked([...checked, scId]);\r\n        }\r\n    }\r\n\r\n    async function addSubCategorieRemote(e) {\r\n        e.preventDefault();\r\n        setActionInProgress(\"Maak aan\");\r\n\r\n        const res = await fetch('/php/admin/addSubCategorie.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\"categorieId\": categorie['id'], \"subCategorieNaam\": jsonEscape(subCategorieNaam)})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onAddSubCategorie(data['subCategorie'], categorie);\r\n            setSubCategorieNaam('');\r\n        } else {\r\n            alert('Het aanmaken van een nieuwe subcategorie is mislukt');\r\n        }\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    async function editCategorieRemote(e) {\r\n        e.preventDefault();\r\n        setActionInProgress(\"Bewerk\");\r\n\r\n        const res = await fetch('/php/admin/editCategorie.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\"categorieId\": categorie['id'], \"editedCategorieNaam\": jsonEscape(editedCategorieNaam)})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onEditCategorie(data['newCategorieNaam'], categorie);\r\n            setCategorieInEditMode(false);\r\n        } else {\r\n            alert('Het bewerken van de categorie is mislukt');\r\n        }\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    async function editSubCategorieRemote(e) {\r\n        e.preventDefault();\r\n        setActionInProgress(\"Bewerk\");\r\n        setActionOnId(subCategorieInEditMode);\r\n\r\n        const res = await fetch('/php/admin/editSubCategorie.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\"subCategorieId\": subCategorieInEditMode, \"editedSubCategorieNaam\": jsonEscape(editedSubCategorieNaam)})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onEditSubCategorie(data['newSubCategorieNaam'], categorie, subCategorieInEditMode);\r\n            setSubCategorieInEditMode(0);\r\n        } else {\r\n            alert('Het bewerken van de subcategorie is mislukt');\r\n        }\r\n\r\n        setActionOnId(-1);\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    function removeSubCategorieLocal(subCategorieId) {\r\n        let subCategorieIds = [];\r\n        let removeCategorie = false\r\n        if (subCategorieId === -1) {\r\n            if (categorie['naam'] === \"Leeftijd\") {\r\n                subCategorieIds = checked;\r\n            } else {\r\n                if (checked.length === 0) {\r\n                    removeCategorie = true;\r\n                    subCategorieIds = categorie['subCategorieen'].map((sc) => (sc['id']));\r\n                } else {\r\n                    removeCategorie = categorieChecked;\r\n                    subCategorieIds = checked;\r\n                }\r\n            }\r\n        } else {\r\n            subCategorieIds.push(subCategorieId);\r\n        }\r\n        onShowDeleteModal(subCategorieIds, removeCategorie, categorie);\r\n    }\r\n\r\n    return (\r\n        <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n            <thead>\r\n            <tr>\r\n                <th className=\"jt-table-vertical-center\">\r\n                    {categorieInEditMode\r\n                    ?\r\n                        <div>\r\n                            <Form onSubmit={editCategorieRemote}>\r\n                                <Form.Group className=\"d-flex flex-row my-2\">\r\n                                    <Col xs={10}>\r\n                                        <Form.Control\r\n                                            type=\"text\"\r\n                                            placeholder=\"Categorie naam\"\r\n                                            value={editedCategorieNaam}\r\n                                            onChange={(e) => setEditedCategorieNaam(e.target.value)}\r\n                                            required\r\n                                        />\r\n                                    </Col>\r\n                                    <Col xs={2}>\r\n                                        {actionInProgress === \"Bewerk\" && actionOnId === -1\r\n                                            ?\r\n                                            <Button variant=\"primary\" disabled>\r\n                                                <Spinner\r\n                                                    as=\"span\"\r\n                                                    animation=\"border\"\r\n                                                    size=\"sm\"\r\n                                                    role=\"status\"\r\n                                                    aria-hidden=\"true\"\r\n                                                /> Laden...\r\n                                            </Button>\r\n                                            :\r\n                                            <Button variant=\"primary\" type=\"submit\" className=\"form-control\">\r\n                                                Bewerk\r\n                                            </Button>\r\n                                        }\r\n                                    </Col>\r\n                                </Form.Group>\r\n                            </Form>\r\n                        </div>\r\n                    :\r\n                        <div className=\"d-flex flex-row\">\r\n                            <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                <Form.Check\r\n                                    type=\"checkbox\"\r\n                                    className=\"jt-table-check\"\r\n                                    onChange={(e) => toggleCategorieChecked()}\r\n                                    checked={categorieChecked}\r\n                                />\r\n                            </Form>\r\n                            <div className=\"d-flex align-items-center\">{categorie['naam']}</div>\r\n                            <Button\r\n                                variant=\"outline-info\"\r\n                                size=\"sm\"\r\n                                onClick={toggleBody}\r\n                                className=\"ml-3\"\r\n                            >\r\n                                {showBody ? \"Verberg\" : \"Toon\"}\r\n                            </Button>\r\n                        </div>\r\n                    }\r\n                </th>\r\n                <th className=\"jt-table-actions\">\r\n                    {categorie['naam'] != \"Leeftijd\"\r\n                        ?\r\n                        <>\r\n                            <Button variant=\"info\" className=\"rounded-circle\" onClick={toggleCategorieEditMode}>{categorieInEditMode ? <FaTimes/> : <FaPen/>}</Button>\r\n                        </>\r\n                        :\r\n                        <>\r\n                        </>\r\n                    }\r\n                    {actionInProgress === \"Delete\" && actionOnId === -1\r\n                        ?\r\n                        <Button variant=\"danger\" className=\"rounded-circle\" disabled>\r\n                            <Spinner\r\n                                as=\"span\"\r\n                                animation=\"border\"\r\n                                size=\"sm\"\r\n                                role=\"status\"\r\n                                aria-hidden=\"true\"\r\n                            />\r\n                        </Button>\r\n                        :\r\n                        <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => removeSubCategorieLocal(-1)}><FaTrashAlt/></Button>\r\n                    }\r\n                </th>\r\n            </tr>\r\n            </thead>\r\n            <tbody className={showBody ? \"\" : \"d-none\"}>\r\n                <tr>\r\n                    <td colSpan={2} className=\"jt-table-vertical-center\">\r\n                        <div>\r\n                            <Form onSubmit={addSubCategorieRemote}>\r\n                                <Form.Group className=\"d-flex flex-row my-2\">\r\n                                    <Form.Label column lg={3}>Nieuwe subcategorie: </Form.Label>\r\n                                    <Col xs={10} lg={7}>\r\n                                        <Form.Control\r\n                                            type=\"text\"\r\n                                            placeholder=\"Subcategorie naam\"\r\n                                            value={subCategorieNaam}\r\n                                            onChange={(e) => setSubCategorieNaam(e.target.value)}\r\n                                            required\r\n                                        />\r\n                                    </Col>\r\n                                    <Col xs={2}>\r\n                                        {actionInProgress === \"Maak aan\" && actionOnId === -1\r\n                                            ?\r\n                                            <Button variant=\"primary\" disabled>\r\n                                                <Spinner\r\n                                                    as=\"span\"\r\n                                                    animation=\"border\"\r\n                                                    size=\"sm\"\r\n                                                    role=\"status\"\r\n                                                    aria-hidden=\"true\"\r\n                                                /> Laden...\r\n                                            </Button>\r\n                                            :\r\n                                            <Button variant=\"primary\" type=\"submit\" className=\"form-control\">\r\n                                                Maak aan\r\n                                            </Button>\r\n                                        }\r\n                                    </Col>\r\n                                </Form.Group>\r\n                            </Form>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            {categorie['subCategorieen'].map(subCategorie => (\r\n                <tr>\r\n                    <td className=\"jt-table-vertical-center\">\r\n                        {subCategorie['id'] == subCategorieInEditMode\r\n                        ?\r\n                            <div>\r\n                                <Form onSubmit={editSubCategorieRemote}>\r\n                                    <Form.Group className=\"d-flex flex-row my-2\">\r\n                                        <Col xs={10}>\r\n                                            <Form.Control\r\n                                                type=\"text\"\r\n                                                placeholder=\"Subcategorie naam\"\r\n                                                value={editedSubCategorieNaam}\r\n                                                onChange={(e) => setEditedSubCategorieNaam(e.target.value)}\r\n                                                required\r\n                                            />\r\n                                        </Col>\r\n                                        <Col xs={2}>\r\n                                            {actionInProgress === \"Bewerk\" && actionOnId === subCategorie['id']\r\n                                                ?\r\n                                                <Button variant=\"primary\" disabled>\r\n                                                    <Spinner\r\n                                                        as=\"span\"\r\n                                                        animation=\"border\"\r\n                                                        size=\"sm\"\r\n                                                        role=\"status\"\r\n                                                        aria-hidden=\"true\"\r\n                                                    /> Laden...\r\n                                                </Button>\r\n                                                :\r\n                                                <Button variant=\"primary\" type=\"submit\" className=\"form-control\">\r\n                                                    Bewerk\r\n                                                </Button>\r\n                                            }\r\n                                        </Col>\r\n                                    </Form.Group>\r\n                                </Form>\r\n                            </div>\r\n                        :\r\n                            <div className=\"d-flex flex-row\">\r\n                                <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                    <Form.Check\r\n                                        type=\"checkbox\"\r\n                                        className=\"jt-table-check\"\r\n                                        onChange={(e) => toggleSubCategorieChecked(subCategorie['id'])}\r\n                                        checked={checked.includes(subCategorie['id'])}\r\n                                    />\r\n                                </Form>\r\n                                <div>{subCategorie['naam']}</div>\r\n                            </div>\r\n                        }\r\n                    </td>\r\n                    <td className=\"jt-table-actions\">\r\n                        <Button variant=\"info\" className=\"rounded-circle\" onClick={() => toggleSubCategorieEditMode(subCategorie['id'])}>{subCategorie['id'] == subCategorieInEditMode ? <FaTimes/> : <FaPen/>}</Button>\r\n                        {actionInProgress === \"Delete\" && actionOnId === subCategorie['id']\r\n                            ?\r\n                            <Button variant=\"danger\" className=\"rounded-circle\" disabled>\r\n                                <Spinner\r\n                                    as=\"span\"\r\n                                    animation=\"border\"\r\n                                    size=\"sm\"\r\n                                    role=\"status\"\r\n                                    aria-hidden=\"true\"\r\n                                />\r\n                            </Button>\r\n                            :\r\n                            <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => removeSubCategorieLocal(subCategorie['id'])}><FaTrashAlt/></Button>\r\n                        }\r\n                    </td>\r\n                </tr>\r\n            ))}\r\n            </tbody>\r\n        </Table>\r\n    )\r\n}","import {Redirect} from \"react-router-dom\";\r\nimport CategorieTable from \"../../components/CategorieTable\";\r\nimport {Alert, Button, Col, Form, Modal, Row, Spinner} from \"react-bootstrap\";\r\nimport {useState} from \"react\";\r\n\r\nexport default function AdminCategorieenPage({ isLoggedIn, categorieen, leeftijd, onAddCategorie, onAddSubCategorie, onRemoveSubCategorie, onEditCategorie, onEditSubCategorie }) {\r\n    const [categorieNaam, setCategorieNaam] = useState();\r\n    const [actionInProgress, setActionInProgress] = useState('');\r\n\r\n    const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n    const [toDelete, setToDelete] = useState([]);\r\n    const [removeCategorie, setRemoveCategorie] = useState(false);\r\n    const [toRemoveCategorie, setToRemoveCategorie] = useState({\"id\": -1});\r\n\r\n    const [removeChecked, setRemoveChecked] = useState(-1);\r\n\r\n    function jsonEscape(str)  {\r\n        return str.replace(/\\n/g, \"\\\\\\\\n\").replace(/\\r/g, \"\\\\\\\\r\").replace(/\\t/g, \"\\\\\\\\t\").replace(/\"/g, \"\\\\\\\"\");\r\n    }\r\n\r\n    function onHideModalDelete() {\r\n        setShowDeleteModal(false);\r\n        setToDelete([]);\r\n        setRemoveCategorie(false);\r\n        setToRemoveCategorie({\"id\": -1});\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    async function addCategorieRemote(e) {\r\n        e.preventDefault();\r\n        setActionInProgress(\"Categorie\");\r\n\r\n        const res = await fetch('/php/admin/addCategorie.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\"categorieNaam\": jsonEscape(categorieNaam)})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onAddCategorie(data['categorie']);\r\n        } else {\r\n            alert('Het aanmaken van een nieuwe categorie is mislukt');\r\n        }\r\n\r\n        setCategorieNaam('');\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    function onShowDeleteModal(ids, removeCategorie, categorie) {\r\n        setToDelete(ids);\r\n        setRemoveCategorie(removeCategorie);\r\n        setToRemoveCategorie(categorie);\r\n        setShowDeleteModal(true);\r\n    }\r\n\r\n    async function deleteSubCategorieRemote() {\r\n        if (!removeCategorie && toDelete.length === 0) {\r\n            onHideModalDelete();\r\n            setRemoveChecked(toRemoveCategorie['id']);\r\n            return;\r\n        }\r\n        setActionInProgress(\"Delete\");\r\n        const res = await fetch('/php/admin/removeSubCategories.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\"subCategorieIds\": toDelete, removeCategorie, \"categorieId\": toRemoveCategorie['id']})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onRemoveSubCategorie(data['removedSubCategorieIds'], toRemoveCategorie, data['categorieRemoved']);\r\n        } else {\r\n            alert('Het verwijderen van de subcategorie is mislukt');\r\n        }\r\n        onHideModalDelete();\r\n        setRemoveChecked(toRemoveCategorie['id']);\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container\">\r\n                <h1>Admin Categorieën</h1>\r\n                <Form onSubmit={addCategorieRemote}>\r\n                    <Form.Group as={Row} controlId=\"formBasicUser\">\r\n                        <Form.Label column lg={3}>Nieuwe categorie: </Form.Label>\r\n                        <Col xs={10} lg={7}>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                placeholder=\"Categorie naam\"\r\n                                value={categorieNaam}\r\n                                onChange={(e) => setCategorieNaam(e.target.value)}\r\n                                required\r\n                            />\r\n                        </Col>\r\n                        <Col xs={2}>\r\n                            {actionInProgress === \"Categorie\"\r\n                                ?\r\n                                <Button variant=\"primary\" disabled>\r\n                                    <Spinner\r\n                                        as=\"span\"\r\n                                        animation=\"border\"\r\n                                        size=\"sm\"\r\n                                        role=\"status\"\r\n                                        aria-hidden=\"true\"\r\n                                    /> Laden...\r\n                                </Button>\r\n                                :\r\n                                <Button variant=\"primary\" type=\"submit\" className=\"form-control\">\r\n                                    Maak aan\r\n                                </Button>\r\n                            }\r\n                        </Col>\r\n                    </Form.Group>\r\n                </Form>\r\n                {leeftijd['id'] != -1\r\n                    ?\r\n                    <CategorieTable\r\n                        categorie={leeftijd}\r\n                        onAddSubCategorie={onAddSubCategorie}\r\n                        onRemoveSubCategorie={onRemoveSubCategorie}\r\n                        onEditCategorie={onEditCategorie}\r\n                        onEditSubCategorie={onEditSubCategorie}\r\n                        onShowDeleteModal={onShowDeleteModal}\r\n                        removeChecked={removeChecked}\r\n                        resetRemoveChecked={() => setRemoveChecked(-1)}\r\n                    />\r\n                    :\r\n                    <Alert variant=\"danger\">\r\n                        <Alert.Heading>\r\n                            Categorie leeftijd ontbreekt!!!\r\n                        </Alert.Heading>\r\n                        <p className=\"mb-0\">\r\n                            Gelieve een categorie aan te maken met de naam 'Leeftijd'.\r\n                        </p>\r\n                    </Alert>\r\n                }\r\n                {categorieen.map(categorie => (\r\n                    <CategorieTable\r\n                        categorie={categorie}\r\n                        onAddSubCategorie={onAddSubCategorie}\r\n                        onRemoveSubCategorie={onRemoveSubCategorie}\r\n                        onEditCategorie={onEditCategorie}\r\n                        onEditSubCategorie={onEditSubCategorie}\r\n                        onShowDeleteModal={onShowDeleteModal}\r\n                        removeChecked={removeChecked}\r\n                        resetRemoveChecked={() => setRemoveChecked(-1)}\r\n                    />\r\n                ))}\r\n            </main>\r\n\r\n            <Modal show={showDeleteModal} onHide={() => onHideModalDelete()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Verwijder reservatie</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    {removeCategorie ? \"Weet u zeker dat u de volledige categorie wilt verwijderen?\" : \"Weet u zeker dat u \" + toDelete.length + \" subcategorie\" + (toDelete.length > 1 ? \"ën\" : \"\") + \" wilt verwijderen?\"}\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={() => onHideModalDelete()}>\r\n                        Sluiten\r\n                    </Button>\r\n                    {actionInProgress === \"Delete\"\r\n                        ?\r\n                        <Button variant=\"danger\" disabled>\r\n                            <Spinner\r\n                                as=\"span\"\r\n                                animation=\"border\"\r\n                                size=\"sm\"\r\n                                role=\"status\"\r\n                                aria-hidden=\"true\"\r\n                            /> Laden...\r\n                        </Button>\r\n                        :\r\n                        <Button variant=\"danger\" onClick={() => deleteSubCategorieRemote()}>\r\n                            Verwijder\r\n                        </Button>\r\n                    }\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    )\r\n}","import ReactStars from \"react-rating-stars-component/dist/react-stars\";\r\n\r\nexport default function waarderingsSterren({waardering}) {\r\n    return (\r\n        <ReactStars\r\n            count={5}\r\n            size={24}\r\n            value={waardering}\r\n            edit={false}\r\n            activeColor=\"#ffd700\"\r\n        />\r\n    )\r\n}","import {Card} from \"react-bootstrap\";\r\nimport WaarderingsSterren from \"../components/WaarderingsSterren\"\r\n\r\nexport default function Review({review, gebruiker}) {\r\n    return (\r\n        <Card className=\"mb-2\">\r\n            <Card.Header>\r\n                <div className=\"d-flex flex-row align-items-center mb-2\">\r\n                    <Card.Title className=\"mb-0 mr-2\">\r\n                        {gebruiker['naam']}\r\n                    </Card.Title>\r\n                    <WaarderingsSterren\r\n                        waardering={review['waardering']}\r\n                    />\r\n                </div>\r\n                <Card.Subtitle>\r\n                    {review['datum']}\r\n                </Card.Subtitle>\r\n                {/*TODO Bewerken als gebruiker is review['gebruikerId']*/}\r\n            </Card.Header>\r\n            <Card.Body>\r\n                {review['inhoud']}\r\n            </Card.Body>\r\n        </Card>\r\n    )\r\n}","import {useEffect, useState} from \"react\";\r\nimport {Link, Redirect, useLocation} from \"react-router-dom\";\r\nimport {Button, Row, Col, ListGroup, NavLink, Navbar, Form, Card, Spinner} from 'react-bootstrap';\r\nimport Loading from \"../components/Loading\";\r\nimport {FaPen} from \"react-icons/fa\";\r\nimport Review from \"../components/Review\";\r\nimport ReactStars from \"react-rating-stars-component\";\r\nimport SpeelgoedToegevoegd from \"../components/SpeelgoedToegevoegd\";\r\n\r\nexport default function SpeelgoedFichePage({isLoggedIn, speelgoed, leeftijd, categorieen, userData, reviews,\r\n                                               gebruikers, periodes, onAddReview, reservaties, onWinkelWagenAdd,\r\n                                               winkelWagen, formatDate}) {\r\n    const location = useLocation();\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const [speelgoedItem, setSpeelgoedItem] = useState({});\r\n\r\n    const [reservatiePeriode, setReservatiePeriode] = useState(-1);\r\n\r\n    const [reviewToAdd, setReviewToAdd] = useState({\"waardering\": 0});\r\n\r\n    const [showToegevoegd, setShowToegevoegd] = useState(false);\r\n    const [toegevoedSpeelgoed, setToegevoegdSpeelgoed] = useState({});\r\n    const [toegevoegdPeriode, setToegevoegdPeriode] = useState({\"startDatum\": \"1995-07-13\", \"eindDatum\": \"1995-07-13\"});\r\n\r\n    const [actionInProgress, setActionInProgress] = useState('');\r\n\r\n    useEffect(() => {\r\n        let query = location.search;\r\n        let variables = {};\r\n        if (query) {\r\n            query = query.slice(1,query.length); // Remove questionmark\r\n            let variableStrings = query.split('&'); // Split variables\r\n            variableStrings.forEach((variable)=>{\r\n                variables[variable.split('=')[0]] = variable.split('=')[1]; // Split key and value and store in array\r\n            })\r\n            setSpeelgoedItem(speelgoed.find(item => (item['id'] == variables['id'])));\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    function ratingChanged(newRating) {\r\n        setReviewToAdd({...reviewToAdd, \"waardering\": newRating});\r\n    }\r\n\r\n    function onShowModalToegevoegd(speelgoedId, periodeId) {\r\n        setToegevoegdSpeelgoed(speelgoed.find(item => (item['id'] === speelgoedId)));\r\n        setToegevoegdPeriode(periodes.find(item => (item['id'] === periodeId)));\r\n        setShowToegevoegd(true);\r\n    }\r\n\r\n    function onHideModalToegevoegd() {\r\n        setShowToegevoegd(false);\r\n    }\r\n\r\n    function onWinkelWagenAddLocal(e) {\r\n        e.preventDefault();\r\n        if (reservatiePeriode === -1) return alert(\"Selecteer een periode\");\r\n        if (winkelWagen.map(item => item['speelgoedId']).includes(speelgoedItem['id']) && winkelWagen.filter(item => (item['speelgoedId'] === speelgoedItem['speelgoedId'])).map(item => item['periodeId']).includes(reservatiePeriode))\r\n            return alert(\"Deze reservatie zit reeds in uw winkelwagen\");\r\n\r\n        setActionInProgress(\"Reserveren\");\r\n        onWinkelWagenAdd(speelgoedItem['id'], reservatiePeriode);\r\n        onShowModalToegevoegd(speelgoedItem['id'], reservatiePeriode);\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    function jsonEscape(str)  {\r\n        return str.replace(/\\n/g, \"\\\\\\\\n\").replace(/\\r/g, \"\\\\\\\\r\").replace(/\\t/g, \"\\\\\\\\t\").replace(/\"/g, \"\\\\\\\"\");\r\n    }\r\n\r\n    async function addReviewRemote(e) {\r\n        e.preventDefault();\r\n        setActionInProgress(\"Review\");\r\n\r\n        let today = new Date();\r\n        let todayString = today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate();\r\n        const res = await fetch('/php/reviewAdd.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({...reviewToAdd, \"inhoud\": jsonEscape(reviewToAdd['inhoud']), \"gebruikerId\": userData['id'], \"speelgoedId\": speelgoedItem['id'], \"datum\": todayString})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onAddReview(data['review']);\r\n            setReviewToAdd({\"waardering\": 0, \"inhoud\": \"\"});\r\n            ratingChanged(0);\r\n        } else {\r\n            alert('Het aanmaken van een review is mislukt');\r\n        }\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    if (loading) {\r\n        return (\r\n            <Loading/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container position-relative\">\r\n                {userData['role'] == \"Admin\"\r\n                    ?\r\n                    <Navbar className=\"jt-edit-btn jt-no-print\">\r\n                        <NavLink as={Link} to={\"/admin/speelgoedfiche?action=bewerken&id=\" + speelgoedItem['id']}><FaPen/></NavLink>\r\n                    </Navbar>\r\n                    :\r\n                    <></>\r\n                }\r\n                {/*Titel*/}\r\n                <h1>\r\n                    <span className=\"mr-2\">{speelgoedItem['naam']}</span>\r\n                    <span className=\"jt-subtitle\">\r\n                {\r\n                    (speelgoedItem['oudCode']\r\n                        ? speelgoedItem['oudCode']\r\n                        : \"\")\r\n                    +\r\n                    (speelgoedItem['merk']\r\n                        ?\r\n                        (speelgoedItem['oudCode']\r\n                            ? \", \"\r\n                            : \"\")\r\n                        +\r\n                        speelgoedItem['merk']\r\n                        : \"\")\r\n                    +\r\n                    (speelgoedItem['leverancier']\r\n                        ?\r\n                        (speelgoedItem['oudCode'] || speelgoedItem['merk']\r\n                            ? \", \"\r\n                            : \"\")\r\n                        +\r\n                        speelgoedItem['leverancier']\r\n                        : \"\")\r\n                    +\r\n                    (speelgoedItem['aankoopDatum']\r\n                        ?\r\n                        (speelgoedItem['oudCode'] || speelgoedItem['merk'] || speelgoedItem['leverancier']\r\n                            ? \", \"\r\n                            : \"\")\r\n                        +\r\n                        formatDate(speelgoedItem['aankoopDatum'])\r\n                        : \"\")\r\n\r\n                }\r\n                </span>\r\n                </h1>\r\n                <Row>\r\n                    <Col xs={12} md={4}>\r\n                        <img id=\"foto\" src={speelgoedItem['foto'] ? speelgoedItem['foto'] : \"/images/placeholder.jpg\"} alt=\"\" className=\"m-auto\"/>\r\n                    </Col>\r\n                    <Col className=\"col\">\r\n                        <Row>\r\n                            {/*Leeftijd*/}\r\n                            <Col xl={6}>\r\n                                <h3>Leeftijd</h3>\r\n                                {speelgoedItem['leeftijden'].length > 0\r\n                                    ?\r\n                                    <ListGroup className=\"mb-3\">\r\n                                        {speelgoedItem['leeftijden'].map(item => (\r\n                                            <ListGroup.Item>{leeftijd['subCategorieen'].find(lt => (lt['id'] == item))['naam']}</ListGroup.Item>\r\n                                        ))}\r\n                                    </ListGroup>\r\n                                    :\r\n                                    <p>Geen leeftijden beschikbaar</p>\r\n                                }\r\n                            </Col>\r\n\r\n                            {/*Categorieen*/}\r\n                            <Col xl={6}>\r\n                                <h3>Categorieen</h3>\r\n                                {speelgoedItem['subCategorieen'].length > 0\r\n                                    ?\r\n                                    <ListGroup className=\"mb-3\">\r\n                                        {speelgoedItem['subCategorieen'].map(item => (\r\n                                            <ListGroup.Item>\r\n                                                {categorieen.find(c => (\r\n                                                    c['subCategorieen'].map(sc => sc['id']).includes(item)\r\n                                                ))['subCategorieen'].find(sc => (sc['id'] == item))['naam']}\r\n                                            </ListGroup.Item>\r\n                                        ))}\r\n                                    </ListGroup>\r\n                                    :\r\n                                    <p>Geen categorieen beschikbaar</p>\r\n                                }\r\n                            </Col>\r\n                        </Row>\r\n\r\n                        <Row>\r\n                            {/*Inhoud*/}\r\n                            <Col xl={6}>\r\n                                <h3>Inhoud</h3>\r\n                                {speelgoedItem['inhoud'].length > 0\r\n                                    ?\r\n                                    <ListGroup className=\"mb-3\">\r\n                                        {speelgoedItem['inhoud'].map(item => (\r\n                                            <ListGroup.Item>\r\n                                                {item['aantal'] + \" \" + item['text'] + \" (\" + item['tekort'] + \" tekort, \" + item['kapot'] + \" kapot)\"}\r\n                                            </ListGroup.Item>\r\n                                        ))}\r\n                                    </ListGroup>\r\n                                    :\r\n                                    <p>Geen inhoud beschikbaar</p>\r\n                                }\r\n                            </Col>\r\n\r\n                            {/*Tips*/}\r\n                            <Col xl={6}>\r\n                                <h3>Tips</h3>\r\n                                {speelgoedItem['tips'].length > 0\r\n                                    ?\r\n                                    <ListGroup className=\"mb-3\">\r\n                                        {speelgoedItem['tips'].map(item => (\r\n                                            <ListGroup.Item>\r\n                                                {item['text']}\r\n                                            </ListGroup.Item>\r\n                                        ))}\r\n                                    </ListGroup>\r\n                                    :\r\n                                    <p>Geen tips beschikbaar</p>\r\n                                }\r\n                            </Col>\r\n                        </Row>\r\n\r\n                        <Row>\r\n                            {/*Korte inhoud*/}\r\n                            <Col xs={12}>\r\n                                <h3>Korte inhoud</h3>\r\n                                <p>\r\n                                    {speelgoedItem['korteInhoud']}\r\n                                </p>\r\n                            </Col>\r\n                        </Row>\r\n\r\n                        <Row>\r\n                            {/*Bijlages*/}\r\n                            <Col xs={12}>\r\n                                <h3>Bijlages</h3>\r\n                                {speelgoedItem['bijlages'].length > 0\r\n                                    ?\r\n                                    <ul className=\"list-unstyled\">\r\n                                        {speelgoedItem['bijlages'].map(item => (\r\n                                            <li>\r\n                                                <a href={item['path']} target=\"_blank\">{item['type']}</a>\r\n                                            </li>\r\n                                        ))}\r\n                                    </ul>\r\n                                    :\r\n                                    <p>Geen bijlages beschikbaar</p>\r\n                                }\r\n                            </Col>\r\n                        </Row>\r\n\r\n                        <Form onSubmit={onWinkelWagenAddLocal} className=\"jt-no-print\">\r\n                            <Form.Row className=\"align-items-center\">\r\n                                {speelgoedItem['beschikbaar'] && !speelgoedItem['specialeAanvraag']\r\n                                    ?\r\n                                    <Col xs=\"auto\" className=\"my-1\">\r\n                                        <Form.Label htmlFor=\"periode\" srOnly>\r\n                                            Periode\r\n                                        </Form.Label>\r\n                                        <Form.Control\r\n                                            id=\"periode\"\r\n                                            as=\"select\"\r\n                                            value={reservatiePeriode}\r\n                                            onChange={e => setReservatiePeriode(parseInt(e.target.value))}\r\n                                        >\r\n                                            <option value=\"-1\">Kies...</option>\r\n                                            {periodes.filter(item => !(\r\n                                                item['isArchief'] || reservaties\r\n                                                    .filter(res => (!res['isArchief'] && res['speelgoedId'] === speelgoedItem['id']))\r\n                                                    .map(res => res['periodeId'])\r\n                                                    .includes(item['id']) ||\r\n                                                winkelWagen.filter(wwItem => (wwItem['speelgoedId'] === speelgoedItem['id']))\r\n                                                    .map(wwItem => wwItem['periodeId'])\r\n                                                    .includes(item['id'])\r\n                                            )).length > 0 ? periodes\r\n                                                .filter(item => !(\r\n                                                    item['isArchief'] || reservaties\r\n                                                        .filter(res => (!res['isArchief'] && res['speelgoedId'] === speelgoedItem['id']))\r\n                                                        .map(res => res['periodeId'])\r\n                                                        .includes(item['id']) ||\r\n                                                    winkelWagen.filter(wwItem => (wwItem['speelgoedId'] === speelgoedItem['id']))\r\n                                                        .map(wwItem => wwItem['periodeId'])\r\n                                                        .includes(item['id'])\r\n                                                ))\r\n                                                .map((periode) => (\r\n                                                        <option\r\n                                                            value={periode['id']}\r\n                                                        >{\"Van \" + formatDate(periode['startDatum']) + \" tot \" + formatDate(periode['eindDatum'])}</option>\r\n                                                    )\r\n                                                ) : <option value=\"-1\">Geen periodes beschikbaar</option>}\r\n                                        </Form.Control>\r\n                                    </Col>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                                <Col xs=\"auto\" className=\"my-1\">\r\n                                    {actionInProgress === \"Reserveren\"\r\n                                        ?\r\n                                        <Button variant=\"success\" disabled>\r\n                                            <Spinner\r\n                                                as=\"span\"\r\n                                                animation=\"border\"\r\n                                                size=\"sm\"\r\n                                                role=\"status\"\r\n                                                aria-hidden=\"true\"\r\n                                            /> Laden...\r\n                                        </Button>\r\n                                        :\r\n                                        <Button\r\n                                            type=\"submit\"\r\n                                            variant={\r\n                                                !speelgoedItem['beschikbaar'] ||\r\n                                                speelgoedItem['specialeAanvraag'] ||\r\n                                                speelgoedItem['isArchief'] ||\r\n                                                periodes\r\n                                                    .filter(item => !(\r\n                                                        item['isArchief'] ||\r\n                                                        reservaties\r\n                                                            .filter(res => (!res['isArchief'] && res['speelgoedId'] === speelgoedItem['id']))\r\n                                                            .map(res => res['periodeId'])\r\n                                                            .includes(item['id']) ||\r\n                                                        winkelWagen.filter(wwItem => (wwItem['speelgoedId'] === speelgoedItem['id']))\r\n                                                            .map(wwItem => wwItem['periodeId'])\r\n                                                            .includes(item['id'])\r\n                                                    )).length === 0\r\n                                                    ? \"danger\"\r\n                                                    : \"success\"}\r\n                                            disabled={\r\n                                                !speelgoedItem['beschikbaar'] ||\r\n                                                speelgoedItem['specialeAanvraag'] ||\r\n                                                speelgoedItem['isArchief'] ||\r\n                                                periodes\r\n                                                    .filter(item => !(\r\n                                                        item['isArchief'] ||\r\n                                                        reservaties\r\n                                                            .filter(res => (!res['isArchief'] && res['speelgoedId'] === speelgoedItem['id']))\r\n                                                            .map(res => res['periodeId'])\r\n                                                            .includes(item['id']) ||\r\n                                                        winkelWagen.filter(wwItem => (wwItem['speelgoedId'] === speelgoedItem['id']))\r\n                                                            .map(wwItem => wwItem['periodeId'])\r\n                                                            .includes(item['id'])\r\n                                                    )).length === 0\r\n                                            }\r\n                                        >\r\n                                            {speelgoedItem['specialeAanvraag'] ? \"Speciale aanvraag\" : \"Reserveren\"}\r\n                                        </Button>\r\n                                    }\r\n                                </Col>\r\n                            </Form.Row>\r\n                        </Form>\r\n                    </Col>\r\n                </Row>\r\n\r\n                <section id=\"reviews\" className=\"jt-no-print\">\r\n                    <h2>Reviews</h2>\r\n                    <Card className=\"mb-4\">\r\n                        <Form onSubmit={addReviewRemote}>\r\n                            <Card.Header>\r\n                                <Card.Title className=\"mr-4\">\r\n                                    Voeg een review toe\r\n                                </Card.Title>\r\n                                <ReactStars\r\n                                    count={5}\r\n                                    size={24}\r\n                                    value={reviewToAdd['waardering']}\r\n                                    onChange={ratingChanged}\r\n                                    activeColor=\"#ffd700\"\r\n                                />\r\n                            </Card.Header>\r\n                            <Card.Body>\r\n                                <Form.Control\r\n                                    as=\"textarea\"\r\n                                    rows={5}\r\n                                    placeholder=\"Schrijf uw review...\"\r\n                                    value={reviewToAdd['inhoud']}\r\n                                    onChange={e => setReviewToAdd({...reviewToAdd, \"inhoud\": e.target.value})}\r\n                                    required\r\n                                />\r\n                            </Card.Body>\r\n                            <Card.Footer>\r\n                                {actionInProgress === \"Review\"\r\n                                    ?\r\n                                    <Button variant=\"success\" disabled>\r\n                                        <Spinner\r\n                                            as=\"span\"\r\n                                            animation=\"border\"\r\n                                            size=\"sm\"\r\n                                            role=\"status\"\r\n                                            aria-hidden=\"true\"\r\n                                        /> Laden...\r\n                                    </Button>\r\n                                    :\r\n                                    <Button variant=\"success\" type=\"submit\">Maak aan</Button>\r\n                                }\r\n                            </Card.Footer>\r\n                        </Form>\r\n                    </Card>\r\n                    {reviews\r\n                        .filter(item => (\r\n                            item['speelgoedId'] === speelgoedItem['id']\r\n                            && (item['gebruikerId'] === userData['id'] || userData['role'] === \"Admin\")\r\n                            )\r\n                        )\r\n                        .map(review => (\r\n                            <Review\r\n                                review={review}\r\n                                gebruiker={gebruikers.find(item => (item['id'] === review['gebruikerId']))}\r\n                            />\r\n                        ))}\r\n                </section>\r\n            </main>\r\n\r\n            <SpeelgoedToegevoegd\r\n                show={showToegevoegd}\r\n                onHide={() => onHideModalToegevoegd()}\r\n                item={toegevoedSpeelgoed}\r\n                periode={toegevoegdPeriode}\r\n                formatDate={formatDate}\r\n            />\r\n        </>\r\n    )\r\n}","import {Redirect} from \"react-router-dom\";\r\nimport {Badge, Button, Col, Form, Row, Spinner, Table} from \"react-bootstrap\";\r\nimport {FaArchive, FaPen, FaPlus, FaTimes} from \"react-icons/fa\";\r\nimport {useState} from \"react\";\r\n\r\nexport default function AdminDoelgroepenPage({isLoggedIn, doelgroepen, onAddDoelgroep, onEditDoelgroep, onArchiveDoelgroep}){\r\n    const [showArchief, setShowArchief] = useState(0);\r\n    const [addDoelgroep, setAddDoelgroep] = useState(false);\r\n    const [doelgroepNaam, setDoelgroepNaam] = useState('');\r\n    const [editDoelgroepNaam, setEditDoelgroepNaam] = useState('');\r\n    const [editDoelgroep, setEditDoelgroep] = useState(-1);\r\n\r\n    const [actionInProgress, setActionInProgress] = useState('');\r\n    const [actionId, setActionId] = useState(-1);\r\n\r\n    function jsonEscape(str)  {\r\n        return str.replace(/\\n/g, \"\\\\\\\\n\").replace(/\\r/g, \"\\\\\\\\r\").replace(/\\t/g, \"\\\\\\\\t\").replace(/\"/g, \"\\\\\\\"\");\r\n    }\r\n\r\n    function toggleEditDoelgroep(id) {\r\n        if (editDoelgroep === id) {\r\n            setEditDoelgroep(-1);\r\n        } else {\r\n            setEditDoelgroep(id);\r\n            setEditDoelgroepNaam(doelgroepen.find(item => item['id'] === id)['naam']);\r\n        }\r\n    }\r\n\r\n    async function addDoelgroepRemote(e) {\r\n        e.preventDefault();\r\n        setActionInProgress(\"Maak aan\");\r\n\r\n        const res = await fetch('/php/admin/doelgroepAdd.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\"doelgroepNaam\": jsonEscape(doelgroepNaam)})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onAddDoelgroep(data['doelgroep']);\r\n        } else {\r\n            alert('Het aanmaken van een doelgroep is mislukt');\r\n        }\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    async function editDoelgroepRemote(e) {\r\n        e.preventDefault();\r\n        setActionInProgress(\"Bewerk\");\r\n\r\n        const res = await fetch('/php/admin/doelgroepEdit.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({editDoelgroep, \"editDoelgroepNaam\": jsonEscape(editDoelgroepNaam)})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onEditDoelgroep(data['doelgroep']);\r\n            setEditDoelgroep(-1);\r\n        } else {\r\n            alert('Het bewerken van de doelgroep is mislukt');\r\n        }\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    async function toggleArchiveDoelgroepRemote(id) {\r\n        setActionId(id);\r\n        setActionInProgress(\"Archiveren\");\r\n        const res = await fetch('/php/admin/doelgroepArchive.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({id, \"isArchief\": !(doelgroepen.find(item => (item['id'] === id))['isArchief'])})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onArchiveDoelgroep(data['id'], data['isArchief']);\r\n        } else {\r\n            alert('Het arciveren van de doelgroep is mislukt');\r\n        }\r\n        setActionInProgress(\"\");\r\n        setActionId(-1);\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <main className=\"container\">\r\n            <h1>Admin Doelgroepen</h1>\r\n            <Row>\r\n                <Form.Group className=\"mb-2\">\r\n                    <Col xs=\"auto\" className=\"d-flex flex-row align-items-center\">\r\n                        <Form.Label className=\"mb-0\">Archief:</Form.Label>\r\n                    </Col>\r\n                    <Col xs=\"auto\">\r\n                        <Form.Control\r\n                            as=\"select\"\r\n                            value={showArchief}\r\n                            onChange={e => setShowArchief(parseInt(e.target.value))}\r\n                        >\r\n                            <option value=\"-1\">Toon alles</option>\r\n                            <option value=\"0\">Verberg archief</option>\r\n                            <option value=\"1\">Toon archief</option>\r\n                        </Form.Control>\r\n                    </Col>\r\n                </Form.Group>\r\n            </Row>\r\n            <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                <thead>\r\n                <tr>\r\n                    <th className=\"pl-4\">Naam</th>\r\n                    <th/>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr>\r\n                    <td/>\r\n                    <td className=\"jt-table-actions\">\r\n                        <Button variant=\"success\" className=\"rounded-circle\" onClick={() => setAddDoelgroep(!addDoelgroep)}>{addDoelgroep ? <FaTimes/> : <FaPlus/>}</Button>\r\n                    </td>\r\n                </tr>\r\n                {addDoelgroep\r\n                    ?\r\n                    <tr>\r\n                        <td colSpan={2} className=\"jt-table-vertical-center\">\r\n                            <div>\r\n                                <Form onSubmit={addDoelgroepRemote}>\r\n                                    <Form.Group className=\"d-flex flex-row my-2\">\r\n                                        <Form.Label column lg={3}>Nieuwe doelgroep: </Form.Label>\r\n                                        <Col xs={10} lg={7}>\r\n                                            <Form.Control\r\n                                                type=\"text\"\r\n                                                placeholder=\"Doelgroep naam\"\r\n                                                value={doelgroepNaam}\r\n                                                onChange={(e) => setDoelgroepNaam(e.target.value)}\r\n                                                required\r\n                                            />\r\n                                        </Col>\r\n                                        <Col xs={2}>\r\n                                            {actionInProgress === \"Maak aan\"\r\n                                                ?\r\n                                                <Button variant=\"primary\" disabled>\r\n                                                    <Spinner\r\n                                                        as=\"span\"\r\n                                                        animation=\"border\"\r\n                                                        size=\"sm\"\r\n                                                        role=\"status\"\r\n                                                        aria-hidden=\"true\"\r\n                                                    /> Laden...\r\n                                                </Button>\r\n                                                :\r\n                                                <Button variant=\"primary\" type=\"submit\" className=\"form-control\">\r\n                                                    Maak aan\r\n                                                </Button>\r\n                                            }\r\n                                        </Col>\r\n                                    </Form.Group>\r\n                                </Form>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                    :\r\n                    <></>\r\n                }\r\n                {doelgroepen\r\n                    .filter(item => (showArchief === -1) || (showArchief === 0 && !item['isArchief']) || (showArchief === 1 && item['isArchief']))\r\n                    .map(doelgroep => (\r\n                    <tr>\r\n                        {doelgroep['id'] === editDoelgroep\r\n                            ?\r\n                            <td>\r\n                                <div>\r\n                                    <Form onSubmit={e => editDoelgroepRemote(e)}>\r\n                                        <Form.Group className=\"d-flex flex-row my-2\">\r\n                                            <Col xs={10}>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Doelgroep naam\"\r\n                                                    value={editDoelgroepNaam}\r\n                                                    onChange={(e) => setEditDoelgroepNaam(e.target.value)}\r\n                                                    required\r\n                                                />\r\n                                            </Col>\r\n                                            <Col xs={2}>\r\n                                                {actionInProgress === \"Bewerk\"\r\n                                                    ?\r\n                                                    <Button variant=\"primary\" disabled>\r\n                                                        <Spinner\r\n                                                            as=\"span\"\r\n                                                            animation=\"border\"\r\n                                                            size=\"sm\"\r\n                                                            role=\"status\"\r\n                                                            aria-hidden=\"true\"\r\n                                                        /> Laden...\r\n                                                    </Button>\r\n                                                    :\r\n                                                    <Button variant=\"primary\" type=\"submit\" className=\"form-control\">\r\n                                                        Bewerk\r\n                                                    </Button>\r\n                                                }\r\n                                            </Col>\r\n                                        </Form.Group>\r\n                                    </Form>\r\n                                </div>\r\n                            </td>\r\n                            :\r\n                            <td className=\"pl-4\">\r\n                                <span className=\"mr-2\">\r\n                                    {doelgroep['naam']}\r\n                                </span>\r\n                                {doelgroep['isArchief']\r\n                                    ?\r\n                                    <Badge pill variant=\"archive\" className=\"mr-2\">\r\n                                    <span className=\"mr-2\">\r\n                                        Gearchiveerd\r\n                                    </span>\r\n                                        <FaTimes as={Button}\r\n                                                 onClick={() => toggleArchiveDoelgroepRemote(doelgroep['id'])}\r\n                                                 className=\"jt-clickable\"\r\n                                        />\r\n                                    </Badge>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                            </td>\r\n                        }\r\n                        <td className=\"jt-table-actions\">\r\n                            <Button variant=\"info\" className=\"rounded-circle\" onClick={() => toggleEditDoelgroep(doelgroep['id'])}>{doelgroep['id'] === editDoelgroep ? <FaTimes/> : <FaPen/>}</Button>\r\n                            {actionInProgress === \"Archiveren\" && actionId === doelgroep['id']\r\n                                ?\r\n                                <Button variant=\"archive\" className=\"rounded-circle\" disabled>\r\n                                    <Spinner\r\n                                        as=\"span\"\r\n                                        animation=\"border\"\r\n                                        size=\"sm\"\r\n                                        role=\"status\"\r\n                                        aria-hidden=\"true\"\r\n                                    />\r\n                                </Button>\r\n                                :\r\n                                <Button variant=\"archive\" className=\"rounded-circle\" onClick={() => toggleArchiveDoelgroepRemote(doelgroep['id'])}><FaArchive/></Button>\r\n                            }\r\n                        </td>\r\n                    </tr>\r\n                ))}\r\n                </tbody>\r\n            </Table>\r\n        </main>\r\n    )\r\n}","import Loading from \"../../components/Loading\";\r\nimport {Badge, Button, Col, Form, Modal, Row, Spinner, Table} from \"react-bootstrap\";\r\nimport {FaArchive, FaPen, FaPlus, FaTimes, FaTrashAlt} from \"react-icons/fa\";\r\nimport {useState} from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nexport default function AdminPeriodesPage({isLoggedIn, periodes, onAddPeriode, onEditPeriode, formatDate, onDeletePeriodes}) {\r\n    const [showArchief, setShowArchief] = useState(0);\r\n    const [addPeriode, setAddPeriode] = useState(false);\r\n    const [currentEditPeriode, setCurrentEditPeriode] = useState(-1);\r\n    const [editedPeriodeStart, setEditedPeriodeStart] = useState('');\r\n    const [editedPeriodeEind, setEditedPeriodeEind] = useState('');\r\n    const [allChecked, setAllChecked] = useState(false);\r\n    const [periodesChecked, setPeriodesChecked] = useState([]);\r\n    const [nieuwePeriodeStart, setNieuwePeriodeStart] = useState('');\r\n    const [nieuwePeriodeEind, setNieuwePeriodeEind] = useState('');\r\n\r\n    const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n    const [toDelete, setToDelete] = useState([]);\r\n\r\n    const [actionInProgress, setActionInProgress] = useState('');\r\n    const [actionId, setActionId] = useState(-1);\r\n\r\n    function onHideModal() {\r\n        setAddPeriode(false);\r\n    }\r\n\r\n    function onHideModalDelete() {\r\n        setShowDeleteModal(false);\r\n        setToDelete([]);\r\n    }\r\n\r\n    function toggleAllChecked() {\r\n        if (allChecked) {\r\n            setPeriodesChecked([]);\r\n            setAllChecked(false);\r\n        } else {\r\n            setPeriodesChecked(periodes\r\n                .filter(item => (showArchief === -1) || (showArchief === 0 && !item['isArchief']) || (showArchief === 1 && item['isArchief']))\r\n                .map(item => item['id'])\r\n            );\r\n            setAllChecked(true);\r\n        }\r\n    }\r\n\r\n    function togglePeriodeChecked(periodeId) {\r\n        setAllChecked(false);\r\n        if (periodesChecked.includes(periodeId)) {\r\n            setPeriodesChecked(periodesChecked.filter((id) => (id != periodeId)))\r\n        } else {\r\n            setPeriodesChecked([...periodesChecked, periodeId]);\r\n        }\r\n    }\r\n\r\n    function toggleEditedPeriode(periodeId) {\r\n        if (currentEditPeriode == periodeId) {\r\n            setCurrentEditPeriode(-1);\r\n        } else {\r\n            setCurrentEditPeriode(periodeId);\r\n            setEditedPeriodeStart(periodes.find(item => (item['id'] == periodeId))['startDatum']);\r\n            setEditedPeriodeEind(periodes.find(item => (item['id'] == periodeId))['eindDatum']);\r\n        }\r\n    }\r\n\r\n    async function addPeriodeRemote(e) {\r\n        e.preventDefault();\r\n        setActionInProgress(\"Maak aan\");\r\n\r\n        const res = await fetch('/php/admin/periodeAdd.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({nieuwePeriodeStart, nieuwePeriodeEind})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onAddPeriode(data['periode']);\r\n        } else {\r\n            alert('Het aanmaken van een periode is mislukt');\r\n        }\r\n        onHideModal();\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    async function editPeriodeRemote(e) {\r\n        e.preventDefault();\r\n        setActionInProgress(\"Bewerk\");\r\n\r\n        const res = await fetch('/php/admin/periodeEdit.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\"periodeId\": currentEditPeriode, editedPeriodeStart, editedPeriodeEind, \"isArchief\": periodes.find(item => (item['id'] == currentEditPeriode))['isArchief']})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onEditPeriode(data['periode']);\r\n        } else {\r\n            alert('Het bewerken van een periode is mislukt');\r\n        }\r\n        setCurrentEditPeriode(-1);\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    async function toggleArchivePeriodeRemote(periodeId) {\r\n        setActionId(periodeId);\r\n        setActionInProgress(\"Archiveren\");\r\n        let periode = periodes.find(item => (item['id'] == periodeId));\r\n        const res = await fetch('/php/admin/periodeArchive.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({periodeId, \"startDatum\": periode['startDatum'], \"eindDatum\": periode['eindDatum'], \"isArchief\": !periode['isArchief']})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onEditPeriode(data['periode']);\r\n        } else {\r\n            alert('Het bewerken van een periode is mislukt');\r\n        }\r\n        setActionInProgress(\"\");\r\n        setActionId(-1);\r\n    }\r\n\r\n    function deletePeriodeLocal(id) {\r\n        setShowDeleteModal(true);\r\n        let ids = [];\r\n        if (id === -1) {\r\n            ids = periodesChecked;\r\n        } else {\r\n            ids.push(id);\r\n        }\r\n        setToDelete(ids);\r\n    }\r\n\r\n    async function deletePeriodeRemote() {\r\n        setActionInProgress(\"Delete\");\r\n        const res = await fetch('/php/admin/periodeDelete.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({toDelete})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onDeletePeriodes(data['ids']);\r\n        } else {\r\n            alert('Het verwijderen van een periode is mislukt');\r\n        }\r\n        onHideModalDelete();\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container\">\r\n                <h1>Admin Periodes</h1>\r\n                <Row>\r\n                    <Form.Group className=\"mb-2\">\r\n                        <Col xs=\"auto\" className=\"d-flex flex-row align-items-center\">\r\n                            <Form.Label className=\"mb-0\">Archief:</Form.Label>\r\n                        </Col>\r\n                        <Col xs=\"auto\">\r\n                            <Form.Control\r\n                                as=\"select\"\r\n                                value={showArchief}\r\n                                onChange={e => setShowArchief(parseInt(e.target.value))}\r\n                            >\r\n                                <option value=\"-1\">Toon alles</option>\r\n                                <option value=\"0\">Verberg archief</option>\r\n                                <option value=\"1\">Toon archief</option>\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n                </Row>\r\n                <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th>Start</th>\r\n                        <th>Einde</th>\r\n                        <th>Gearchiveerd</th>\r\n                        <th></th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr>\r\n                        <td className=\"jt-table-id\">\r\n                            <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                    <Form.Check\r\n                                        type=\"checkbox\"\r\n                                        className=\"jt-table-check\"\r\n                                        onChange={(e) => toggleAllChecked()}\r\n                                        checked={allChecked}\r\n                                    />\r\n                                </Form>\r\n                            </div>\r\n                        </td>\r\n                        <td colSpan={3}></td>\r\n                        <td className=\"jt-table-actions\">\r\n                            <Button variant=\"success\" className=\"rounded-circle\" onClick={() => setAddPeriode(!addPeriode)}>{addPeriode ? <FaTimes/> : <FaPlus/>}</Button>\r\n                            <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deletePeriodeLocal(-1)}><FaTrashAlt/></Button>\r\n                        </td>\r\n                    </tr>\r\n                    {periodes\r\n                        .filter(item => (showArchief === -1) || (showArchief === 0 && !item['isArchief']) || (showArchief === 1 && item['isArchief']))\r\n                        .map(periode => (\r\n                        <tr>\r\n                            {periode['id'] == currentEditPeriode\r\n                                ?\r\n                                <td colSpan={4}>\r\n                                    <div>\r\n                                        <Form onSubmit={e => editPeriodeRemote(e)}>\r\n                                            <Form.Group className=\"d-flex flex-row my-2\">\r\n                                                <Col xs={5}>\r\n                                                    <Form.Control\r\n                                                        type=\"date\"\r\n                                                        placeholder=\"Start\"\r\n                                                        value={editedPeriodeStart}\r\n                                                        onChange={(e) => setEditedPeriodeStart(e.target.value)}\r\n                                                        required\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col xs={5}>\r\n                                                    <Form.Control\r\n                                                        type=\"date\"\r\n                                                        placeholder=\"Einde\"\r\n                                                        value={editedPeriodeEind}\r\n                                                        onChange={(e) => setEditedPeriodeEind(e.target.value)}\r\n                                                        required\r\n                                                    />\r\n                                                </Col>\r\n                                                <Col xs={2}>\r\n                                                    {actionInProgress === \"Bewerk\"\r\n                                                        ?\r\n                                                        <Button variant=\"primary\" disabled>\r\n                                                            <Spinner\r\n                                                                as=\"span\"\r\n                                                                animation=\"border\"\r\n                                                                size=\"sm\"\r\n                                                                role=\"status\"\r\n                                                                aria-hidden=\"true\"\r\n                                                            /> Laden...\r\n                                                        </Button>\r\n                                                        :\r\n                                                        <Button variant=\"primary\" type=\"submit\" className=\"form-control\">\r\n                                                            Bewerk\r\n                                                        </Button>\r\n                                                    }\r\n                                                </Col>\r\n                                            </Form.Group>\r\n                                        </Form>\r\n                                    </div>\r\n                                </td>\r\n                                :\r\n                                <>\r\n                                    <td className=\"jt-table-id\">\r\n                                        <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                            <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                                <Form.Check\r\n                                                    type=\"checkbox\"\r\n                                                    className=\"jt-table-check\"\r\n                                                    onChange={(e) => togglePeriodeChecked(periode['id'])}\r\n                                                    checked={periodesChecked.includes(periode['id'])}\r\n                                                />\r\n                                            </Form>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td>\r\n                                        {formatDate(periode['startDatum'])}\r\n                                    </td>\r\n                                    <td>\r\n                                        {formatDate(periode['eindDatum'])}\r\n                                    </td>\r\n                                    <td>\r\n                                        {periode['isArchief']\r\n                                            ?\r\n                                            <Badge pill variant=\"archive\" className=\"mr-2\">\r\n                                                <span className=\"mr-2\">\r\n                                                    Gearchiveerd\r\n                                                </span>\r\n                                                <FaTimes as={Button}\r\n                                                         onClick={() => toggleArchivePeriodeRemote(periode['id'])}\r\n                                                         className=\"jt-clickable\"\r\n                                                />\r\n                                            </Badge>\r\n                                            :\r\n                                            <></>\r\n                                        }\r\n                                    </td>\r\n                                </>\r\n                            }\r\n                            <td className=\"jt-table-actions\">\r\n                                <Button variant=\"info\" className=\"rounded-circle\" onClick={() => toggleEditedPeriode(periode['id'])}>{periode['id'] == currentEditPeriode ? <FaTimes/> : <FaPen/>}</Button>\r\n                                {actionInProgress === \"Archiveren\" && actionId === periode['id']\r\n                                    ?\r\n                                    <Button variant=\"archive\" className=\"rounded-circle\" disabled>\r\n                                        <Spinner\r\n                                            as=\"span\"\r\n                                            animation=\"border\"\r\n                                            size=\"sm\"\r\n                                            role=\"status\"\r\n                                            aria-hidden=\"true\"\r\n                                        />\r\n                                    </Button>\r\n                                    :\r\n                                    <Button variant=\"archive\" className=\"rounded-circle\" onClick={() => toggleArchivePeriodeRemote(periode['id'])}><FaArchive/></Button>\r\n                                }\r\n                                <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deletePeriodeLocal(periode['id'])}><FaTrashAlt/></Button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                </Table>\r\n            </main>\r\n\r\n            <Modal show={addPeriode} onHide={() => onHideModal()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Nieuwe periode</Modal.Title>\r\n                </Modal.Header>\r\n                <Form onSubmit={addPeriodeRemote}>\r\n                    <Modal.Body>\r\n                        <Form.Group>\r\n                            <Form.Label>Startdatum: </Form.Label>\r\n                            <Form.Control\r\n                                type=\"date\"\r\n                                placeholder=\"Startdatum\"\r\n                                value={nieuwePeriodeStart}\r\n                                onChange={(e) => setNieuwePeriodeStart(e.target.value)}\r\n                                required\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group>\r\n                            <Form.Label>Einddatum: </Form.Label>\r\n                            <Form.Control\r\n                                type=\"date\"\r\n                                placeholder=\"Einddatum\"\r\n                                value={nieuwePeriodeEind}\r\n                                onChange={(e) => setNieuwePeriodeEind(e.target.value)}\r\n                                required\r\n                            />\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={() => onHideModal()}>\r\n                            Sluiten\r\n                        </Button>\r\n                        {actionInProgress === \"Maak aan\"\r\n                            ?\r\n                            <Button variant=\"success\" disabled>\r\n                                <Spinner\r\n                                    as=\"span\"\r\n                                    animation=\"border\"\r\n                                    size=\"sm\"\r\n                                    role=\"status\"\r\n                                    aria-hidden=\"true\"\r\n                                /> Laden...\r\n                            </Button>\r\n                            :\r\n                            <Button variant=\"success\" type=\"submit\">\r\n                                Maak aan\r\n                            </Button>\r\n                        }\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n\r\n            <Modal show={showDeleteModal} onHide={() => onHideModalDelete()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Verwijder reservatie</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Weet u zeker dat u {toDelete.length} periode{toDelete.length === 1 ? \"s\" : \"\"} wilt verwijderen?\r\n                    <br/>\r\n                    De bijbehorende reservaties worden ook verwijderd!\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={() => onHideModalDelete()}>\r\n                        Sluiten\r\n                    </Button>\r\n                    {actionInProgress === \"Delete\"\r\n                        ?\r\n                        <Button variant=\"danger\" disabled>\r\n                            <Spinner\r\n                                as=\"span\"\r\n                                animation=\"border\"\r\n                                size=\"sm\"\r\n                                role=\"status\"\r\n                                aria-hidden=\"true\"\r\n                            /> Laden...\r\n                        </Button>\r\n                        :\r\n                        <Button variant=\"danger\" onClick={() => deletePeriodeRemote()}>\r\n                            Verwijder\r\n                        </Button>\r\n                    }\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    )\r\n}","import {Badge, Button, Col, Form, Modal, Row, Spinner, Table} from \"react-bootstrap\";\r\nimport {FaArchive, FaPen, FaPlus, FaTimes, FaTrashAlt} from \"react-icons/fa\";\r\nimport {useState} from \"react\";\r\nimport {sha256} from \"js-sha256\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nexport default function AdminGebruikersPage({isLoggedIn, gebruikers, onAddGebruiker, onEditGebruiker, onDeleteGebruiker, userData}) {\r\n    const [showArchief, setShowArchief] = useState(0);\r\n    const [addGebruiker, setAddGebruiker] = useState(false);\r\n    const [allChecked, setAllChecked] = useState(false);\r\n    const [gebruikersChecked, setGebruikersChecked] = useState([]);\r\n\r\n    const [currentEditedGebruiker, setCurrentEditedGebruiker] = useState({\"id\": -1});\r\n    const [changePassword, setChangePassword] = useState(false);\r\n\r\n    const [nieuweGebruiker, setNieuweGebruiker] = useState({\"naam\": \"\", \"email\": \"\", \"wachtwoord\": \"\"});\r\n\r\n    const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n    const [toDelete, setToDelete] = useState([]);\r\n\r\n    const [actionInProgress, setActionInProgress] = useState('');\r\n    const [actionId, setActionId] = useState(-1);\r\n\r\n    function jsonEscape(str)  {\r\n        return str.replace(/\\n/g, \"\\\\\\\\n\").replace(/\\r/g, \"\\\\\\\\r\").replace(/\\t/g, \"\\\\\\\\t\").replace(/\"/g, \"\\\\\\\"\");\r\n    }\r\n\r\n    function onHideModalAdd() {\r\n        setAddGebruiker(false);\r\n        setNieuweGebruiker({\"naam\": \"\", \"email\": \"\", \"wachtwoord\": \"\"});\r\n    }\r\n\r\n    function onHideModalEdit() {\r\n        setCurrentEditedGebruiker({\"id\": -1});\r\n        setChangePassword(false);\r\n    }\r\n\r\n    function onHideModalDelete() {\r\n        setShowDeleteConfirm(false);\r\n        setActionInProgress(\"\");\r\n        setActionId(-1);\r\n    }\r\n\r\n    function toggleAllChecked() {\r\n        if (allChecked) {\r\n            setGebruikersChecked([]);\r\n            setAllChecked(false);\r\n        } else {\r\n            setGebruikersChecked(gebruikers\r\n                .filter(item => (showArchief === -1) || (showArchief === 0 && !item['isArchief']) || (showArchief === 1 && item['isArchief']))\r\n                .filter(item => (item['doelgroepId'] === userData['sessDoelgroep']))\r\n                .map(item => item['id'])\r\n            );\r\n            setAllChecked(true);\r\n        }\r\n    }\r\n\r\n    function togglePeriodeChecked(periodeId) {\r\n        setAllChecked(false);\r\n        if (gebruikersChecked.includes(periodeId)) {\r\n            setGebruikersChecked(gebruikersChecked.filter((id) => (id !== periodeId)))\r\n        } else {\r\n            setGebruikersChecked([...gebruikersChecked, periodeId]);\r\n        }\r\n    }\r\n\r\n    function toggleEditedGebruiker(gebruikerId) {\r\n        if (currentEditedGebruiker['id'] === gebruikerId) {\r\n            onHideModalEdit();\r\n        } else {\r\n            setCurrentEditedGebruiker(gebruikers.find(item => (item['id'] === gebruikerId)));\r\n        }\r\n    }\r\n\r\n    async function addGebruikerRemote(e) {\r\n        e.preventDefault();\r\n        setActionInProgress(\"Maak aan\");\r\n\r\n        let gebruiker = {\"naam\": jsonEscape(nieuweGebruiker['naam']), \"email\": jsonEscape(nieuweGebruiker['email']), \"wachtwoord\": sha256(nieuweGebruiker['wachtwoord'])};\r\n\r\n        const res = await fetch('/php/admin/gebruikerAdd.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify(gebruiker)\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onAddGebruiker(data['gebruiker']);\r\n        } else {\r\n            alert('Het aanmaken van een gebruiker is mislukt');\r\n        }\r\n        onHideModalAdd();\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    async function editGebruikerRemote(e) {\r\n        e.preventDefault();\r\n        setActionInProgress(\"Bewerk\");\r\n\r\n        let gebruiker = {...currentEditedGebruiker, \"naam\": jsonEscape(currentEditedGebruiker['naam']), \"email\": jsonEscape(currentEditedGebruiker['email']), \"wachtwoord\": (changePassword ? sha256(currentEditedGebruiker['wachtwoord']) : 0)};\r\n\r\n        const res = await fetch('/php/admin/gebruikerEdit.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify(gebruiker)\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onEditGebruiker(data['gebruiker']);\r\n        } else {\r\n            alert('Het bewerken van een gebruiker is mislukt');\r\n        }\r\n        onHideModalEdit();\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    async function editRoleRemote(gebruikerId, newRole) {\r\n        const res = await fetch('/php/admin/gebruikerEditRole.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                gebruikerId,\r\n                \"role\": newRole\r\n            })\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            let gebruiker = {...gebruikers.find(item => (item['id'] === data['id'])), \"role\": data['role']}\r\n            onEditGebruiker(gebruiker);\r\n        } else {\r\n            alert('Het veranderen van de rol van de gebruiker is mislukt');\r\n        }\r\n    }\r\n\r\n    async function toggleArchiveGebruikerRemote(gebruikerId) {\r\n        setActionId(gebruikerId);\r\n        setActionInProgress(\"Archiveren\");\r\n        const res = await fetch('/php/admin/gebruikerArchive.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                gebruikerId,\r\n                \"isArchief\": !(gebruikers.find(item => (item['id'] === gebruikerId))['isArchief'])\r\n            })\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            let gebruiker = {...gebruikers.find(item => (item['id'] === data['id'])), \"isArchief\": data['isArchief']}\r\n            onEditGebruiker(gebruiker);\r\n        } else {\r\n            alert('Het archiveren van een gebruiker is mislukt');\r\n        }\r\n        setActionInProgress(\"\");\r\n        setActionId(-1);\r\n    }\r\n\r\n    function deleteGebruikerLocal(id) {\r\n        setActionId(id);\r\n        setShowDeleteConfirm(true);\r\n        let ids = [];\r\n        if (id === -1) {\r\n            ids = gebruikersChecked;\r\n        } else {\r\n            ids.push(id);\r\n        }\r\n        setToDelete(ids);\r\n    }\r\n\r\n    async function deleteGebruikerRemote() {\r\n        setActionInProgress(\"Delete\");\r\n        const res = await fetch('/php/admin/gebruikerDelete.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({toDelete})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onDeleteGebruiker(data['ids']);\r\n        } else {\r\n            alert('Het verwijderen is mislukt');\r\n        }\r\n        onHideModalDelete();\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container\">\r\n                <h1>Admin Gebruikers</h1>\r\n                <Row>\r\n                    <Form.Group className=\"mb-2\">\r\n                        <Col xs=\"auto\" className=\"d-flex flex-row align-items-center\">\r\n                            <Form.Label className=\"mb-0\">Archief:</Form.Label>\r\n                        </Col>\r\n                        <Col xs=\"auto\">\r\n                            <Form.Control\r\n                                as=\"select\"\r\n                                value={showArchief}\r\n                                onChange={e => setShowArchief(parseInt(e.target.value))}\r\n                            >\r\n                                <option value=\"-1\">Toon alles</option>\r\n                                <option value=\"0\">Verberg archief</option>\r\n                                <option value=\"1\">Toon archief</option>\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n                </Row>\r\n                <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th/>\r\n                        <th>Naam</th>\r\n                        <th>Email</th>\r\n                        <th>Rol</th>\r\n                        <th/>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr>\r\n                        <td className=\"jt-table-id\">\r\n                            <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                    <Form.Check\r\n                                        type=\"checkbox\"\r\n                                        className=\"jt-table-check\"\r\n                                        onChange={() => toggleAllChecked()}\r\n                                        checked={allChecked}\r\n                                    />\r\n                                </Form>\r\n                            </div>\r\n                        </td>\r\n                        <td colSpan={3}/>\r\n                        <td className=\"jt-table-actions\">\r\n                            <Button variant=\"success\" className=\"rounded-circle\" onClick={() => setAddGebruiker(!addGebruiker)}>{addGebruiker ? <FaTimes/> : <FaPlus/>}</Button>\r\n                            <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteGebruikerLocal(-1)}><FaTrashAlt/></Button>\r\n                        </td>\r\n                    </tr>\r\n                    {gebruikers\r\n                        .filter(item => (showArchief === -1) || (showArchief === 0 && !item['isArchief']) || (showArchief === 1 && item['isArchief']))\r\n                        .filter(item => ((item['doelgroepId'] === userData['sessDoelgroep'])))\r\n                        .map(gebruiker => (\r\n                        <tr>\r\n                            <td className=\"jt-table-id\">\r\n                                <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                    <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                        <Form.Check\r\n                                            type=\"checkbox\"\r\n                                            className=\"jt-table-check\"\r\n                                            onChange={() => togglePeriodeChecked(gebruiker['id'])}\r\n                                            checked={gebruikersChecked.includes(gebruiker['id'])}\r\n                                        />\r\n                                    </Form>\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <span className=\"mr-2\">\r\n                                    {gebruiker['naam']}\r\n                                </span>\r\n                                {gebruiker['isArchief']\r\n                                    ?\r\n                                    <Badge pill variant=\"archive\" className=\"mr-2\">\r\n                                                <span className=\"mr-2\">\r\n                                                    Gearchiveerd\r\n                                                </span>\r\n                                        <FaTimes as={Button}\r\n                                                 onClick={() => toggleArchiveGebruikerRemote(gebruiker['id'])}\r\n                                                 className=\"jt-clickable\"\r\n                                        />\r\n                                    </Badge>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                            </td>\r\n                            <td>\r\n                                {gebruiker['email']}\r\n                            </td>\r\n                            <td>\r\n                                <Form.Control\r\n                                    as=\"select\"\r\n                                    value={gebruiker['role']}\r\n                                    onChange={(e) => editRoleRemote(gebruiker['id'], e.target.value)}\r\n                                >\r\n                                    <option value=\"Admin\">Admin</option>\r\n                                    <option value=\"Gebruiker\">Gebruiker</option>\r\n                                    <option value=\"Niet bevestigd\">Niet bevestigd</option>\r\n                                </Form.Control>\r\n                            </td>\r\n                            <td className=\"jt-table-actions\">\r\n                                <Button variant=\"info\" className=\"rounded-circle\" onClick={() => toggleEditedGebruiker(gebruiker['id'])}>{gebruiker['id'] === currentEditedGebruiker ? <FaTimes/> : <FaPen/>}</Button>\r\n                                {actionInProgress === \"Archiveren\" && actionId === gebruiker['id']\r\n                                    ?\r\n                                    <Button variant=\"archive\" className=\"rounded-circle\" disabled>\r\n                                        <Spinner\r\n                                            as=\"span\"\r\n                                            animation=\"border\"\r\n                                            size=\"sm\"\r\n                                            role=\"status\"\r\n                                            aria-hidden=\"true\"\r\n                                        />\r\n                                    </Button>\r\n                                    :\r\n                                    <Button variant=\"archive\" className=\"rounded-circle\" onClick={() => toggleArchiveGebruikerRemote(gebruiker['id'])}><FaArchive/></Button>\r\n                                }\r\n                                <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteGebruikerLocal(gebruiker['id'])}><FaTrashAlt/></Button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                </Table>\r\n            </main>\r\n\r\n            <Modal show={addGebruiker} onHide={() => onHideModalAdd()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Nieuwe gebruiker:</Modal.Title>\r\n                </Modal.Header>\r\n                <Form onSubmit={addGebruikerRemote}>\r\n                    <Modal.Body>\r\n                        <Form.Group>\r\n                            <Form.Label>Naam:</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                placeholder=\"Gebruikersnaam\"\r\n                                value={nieuweGebruiker['naam']}\r\n                                onChange={(e) => setNieuweGebruiker({...nieuweGebruiker, \"naam\": e.target.value})}\r\n                                required\r\n                            >\r\n\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>Email:</Form.Label>\r\n                            <Form.Control\r\n                                type=\"email\"\r\n                                placeholder=\"Emailadres\"\r\n                                value={nieuweGebruiker['email']}\r\n                                onChange={(e) => setNieuweGebruiker({...nieuweGebruiker, \"email\": e.target.value})}\r\n                                required\r\n                            >\r\n\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>Wachtwoord:</Form.Label>\r\n                            <Form.Control\r\n                                type=\"password\"\r\n                                placeholder=\"Wachtwoord\"\r\n                                value={nieuweGebruiker['wachtwoord']}\r\n                                onChange={(e) => setNieuweGebruiker({...nieuweGebruiker, \"wachtwoord\": e.target.value})}\r\n                                required\r\n                            >\r\n\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={() => onHideModalAdd()}>\r\n                            Sluiten\r\n                        </Button>\r\n                        {actionInProgress === \"Maak aan\"\r\n                            ?\r\n                            <Button variant=\"success\" disabled>\r\n                                <Spinner\r\n                                    as=\"span\"\r\n                                    animation=\"border\"\r\n                                    size=\"sm\"\r\n                                    role=\"status\"\r\n                                    aria-hidden=\"true\"\r\n                                /> Laden...\r\n                            </Button>\r\n                            :\r\n                            <Button variant=\"success\" type=\"submit\">\r\n                                Maak aan\r\n                            </Button>\r\n                        }\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n\r\n            <Modal show={currentEditedGebruiker['id'] !== -1} onHide={() => onHideModalEdit()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Bewerk gebruiker:</Modal.Title>\r\n                </Modal.Header>\r\n                <Form onSubmit={editGebruikerRemote}>\r\n                    <Modal.Body>\r\n                        <Form.Group>\r\n                            <Form.Label>Naam:</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                placeholder=\"Gebruikersnaam\"\r\n                                value={currentEditedGebruiker['naam']}\r\n                                onChange={(e) => setCurrentEditedGebruiker({...currentEditedGebruiker, \"naam\": e.target.value})}\r\n                                required\r\n                            >\r\n\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>Email:</Form.Label>\r\n                            <Form.Control\r\n                                type=\"email\"\r\n                                placeholder=\"Emailadres\"\r\n                                value={currentEditedGebruiker['email']}\r\n                                onChange={(e) => setCurrentEditedGebruiker({...currentEditedGebruiker, \"email\": e.target.value})}\r\n                                required\r\n                            >\r\n\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n\r\n                        <Form.Check\r\n                            type=\"switch\"\r\n                            id=\"switch\"\r\n                            value={changePassword}\r\n                            onChange={() => setChangePassword(!changePassword)}\r\n                            label=\"Wachtwoord veranderen\"\r\n                        />\r\n\r\n                        {changePassword\r\n                            ?\r\n                            <Form.Group>\r\n                                <Form.Label>Wachtwoord:</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"password\"\r\n                                    placeholder=\"Wachtwoord\"\r\n                                    value={currentEditedGebruiker['wachtwoord']}\r\n                                    onChange={(e) => setCurrentEditedGebruiker({...currentEditedGebruiker, \"wachtwoord\": e.target.value})}\r\n                                    required\r\n                                >\r\n\r\n                                </Form.Control>\r\n                            </Form.Group>\r\n                            :\r\n                            <></>\r\n                        }\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={() => onHideModalEdit()}>\r\n                            Sluiten\r\n                        </Button>\r\n                        {actionInProgress === \"Bewerk\"\r\n                            ?\r\n                            <Button variant=\"success\" disabled>\r\n                                <Spinner\r\n                                    as=\"span\"\r\n                                    animation=\"border\"\r\n                                    size=\"sm\"\r\n                                    role=\"status\"\r\n                                    aria-hidden=\"true\"\r\n                                /> Laden...\r\n                            </Button>\r\n                            :\r\n                            <Button variant=\"success\" type=\"submit\">\r\n                                Bewerk\r\n                            </Button>\r\n                        }\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n\r\n            <Modal show={showDeleteConfirm} onHide={() => onHideModalDelete()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Verwijder gebruiker</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Weet u zeker dat u {toDelete.length} gebruiker{toDelete.length > 1 ? \"s\" : \"\"} wilt verwijderen?\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={() => onHideModalDelete()}>\r\n                        Sluiten\r\n                    </Button>\r\n                    {actionInProgress === \"Delete\"\r\n                        ?\r\n                        <Button variant=\"danger\" disabled>\r\n                            <Spinner\r\n                                as=\"span\"\r\n                                animation=\"border\"\r\n                                size=\"sm\"\r\n                                role=\"status\"\r\n                                aria-hidden=\"true\"\r\n                            /> Laden...\r\n                        </Button>\r\n                        :\r\n                        <Button variant=\"danger\" onClick={() => deleteGebruikerRemote()}>\r\n                            Verwijder\r\n                        </Button>\r\n                    }\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    )\r\n}","import {Link, Redirect} from \"react-router-dom\";\r\nimport {Button, Form, Modal, Spinner, Table} from \"react-bootstrap\";\r\nimport {FaAngleDoubleDown, FaTimes, FaTrashAlt} from \"react-icons/fa\";\r\nimport {useState} from \"react\";\r\nimport Filters from \"../../components/Filters\";\r\nimport WaarderingsSterren from \"../../components/WaarderingsSterren\"\r\n\r\nexport default function AdminReviewPage({isLoggedIn, filters, updateFilters, categorieen,\r\n                                            leeftijd, userData, removeCategorieFromFilters,\r\n                                            filteredSpeelgoed, reviews, onDeleteReview, gebruikers\r\n                                        }) {\r\n    const [allChecked, setAllChecked] = useState(false);\r\n    const [reviewsChecked, setReviewsChecked] = useState([]);\r\n\r\n    const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n    const [toDelete, setToDelete] = useState([]);\r\n\r\n    const [showInhoud, setShowInhoud] = useState([]);\r\n\r\n    const [actionInProgress, setActionInProgress] = useState(\"\");\r\n\r\n    function toggleAllChecked() {\r\n        if (allChecked) {\r\n            setReviewsChecked([]);\r\n            setAllChecked(false);\r\n        } else {\r\n            setReviewsChecked(reviews.map((item) => (item['id'])));\r\n            setAllChecked(true);\r\n        }\r\n    }\r\n\r\n    function toggleReviewsChecked(reviewId) {\r\n        setAllChecked(false);\r\n        if (reviewsChecked.includes(reviewId)) {\r\n            setReviewsChecked(reviewsChecked.filter((id) => (id !== reviewId)))\r\n        } else {\r\n            setReviewsChecked([...reviewsChecked, reviewId]);\r\n        }\r\n    }\r\n\r\n    function toggleReviewInhoud(reviewId) {\r\n        if (showInhoud.includes(reviewId)) {\r\n            setShowInhoud(showInhoud.filter((id) => (id !== reviewId)))\r\n        } else {\r\n            setShowInhoud([...showInhoud, reviewId]);\r\n        }\r\n    }\r\n\r\n    function onHideModalDelete() {\r\n        setShowDeleteConfirm(false);\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    function deleteReviewLocal(id) {\r\n        setShowDeleteConfirm(true);\r\n        let ids = [];\r\n        if (id === -1) {\r\n            ids = reviewsChecked;\r\n        } else {\r\n            ids.push(id);\r\n        }\r\n        setToDelete(ids);\r\n    }\r\n\r\n    async function deleteReviewRemote() {\r\n        setActionInProgress(\"Delete\");\r\n        const res = await fetch('/php/admin/reviewDelete.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({toDelete})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onDeleteReview(data['ids']);\r\n        } else {\r\n            alert('Het verwijderen is mislukt');\r\n        }\r\n        onHideModalDelete();\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container\">\r\n                <h1>Admin Reviews</h1>\r\n                <Filters\r\n                    filters={filters}\r\n                    updateFilters={updateFilters}\r\n                    categorieen={categorieen}\r\n                    leeftijd={leeftijd}\r\n                    userData={userData}\r\n                    removeCategorieFromFilters={removeCategorieFromFilters}\r\n                />\r\n                <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th/>\r\n                        <th>Speelgoed</th>\r\n                        <th>Gebruiker</th>\r\n                        <th>Waardering</th>\r\n                        <th/>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr>\r\n                        <td className=\"jt-table-id\">\r\n                            <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                    <Form.Check\r\n                                        type=\"checkbox\"\r\n                                        className=\"jt-table-check\"\r\n                                        onChange={() => toggleAllChecked()}\r\n                                        checked={allChecked}\r\n                                    />\r\n                                </Form>\r\n                            </div>\r\n                        </td>\r\n                        <td colSpan={3}/>\r\n                        <td className=\"jt-table-actions\">\r\n                            <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteReviewLocal(-1)}><FaTrashAlt/></Button>\r\n                        </td>\r\n                    </tr>\r\n                    {reviews.filter(item => (filteredSpeelgoed.map(speelgoed => speelgoed['id']).includes(item['speelgoedId']))).map(review => (\r\n                        <>\r\n                            <tr>\r\n                                <td className=\"jt-table-id\">\r\n                                    <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                        <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                            <Form.Check\r\n                                                type=\"checkbox\"\r\n                                                className=\"jt-table-check\"\r\n                                                onChange={() => toggleReviewsChecked(review['id'])}\r\n                                                checked={reviewsChecked.includes(review['id'])}\r\n                                            />\r\n                                        </Form>\r\n                                    </div>\r\n                                </td>\r\n                                <td>\r\n                                    <Link to={\"/speelgoedfiche?id=\" + filteredSpeelgoed.find(item => (item['id'] === review['speelgoedId']))['id']}>\r\n                                        {filteredSpeelgoed.find(item => (item['id'] === review['speelgoedId']))['naam']}\r\n                                    </Link>\r\n                                </td>\r\n                                <td>\r\n                                    {gebruikers.find(item => (item['id'] === review['gebruikerId']))['naam']}\r\n                                </td>\r\n                                <td>\r\n                                    <WaarderingsSterren\r\n                                        waardering={review['waardering']}\r\n                                    />\r\n                                </td>\r\n                                <td className=\"jt-table-actions\">\r\n                                    <Button variant=\"info\" className=\"rounded-circle\" onClick={() => toggleReviewInhoud(review['id'])}>{showInhoud.includes(review['id']) ? <FaTimes/> : <FaAngleDoubleDown/>}</Button>\r\n                                    <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteReviewLocal(review['id'])}><FaTrashAlt/></Button>\r\n                                </td>\r\n                            </tr>\r\n                            {showInhoud.includes(review['id'])\r\n                                ?\r\n                                <tr>\r\n                                    <td colSpan={5} className=\"bg-filter\">\r\n                                        <div className=\"mx-3 mt-2 mb-1\">Inhoud:</div>\r\n                                        <p className=\"mx-3 mb-2 p-2 bg-achtergrondkleur rounded\">\r\n                                            {review['inhoud']}\r\n                                        </p>\r\n                                    </td>\r\n                                </tr>\r\n                                :\r\n                                <></>\r\n                            }\r\n                        </>\r\n                    ))}\r\n                    </tbody>\r\n                </Table>\r\n            </main>\r\n\r\n            <Modal show={showDeleteConfirm} onHide={() => onHideModalDelete()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Verwijder review</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Weet u zeker dat u {toDelete.length} review{toDelete.length === 1 ? \"s\" : \"\"} wilt verwijderen?\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={() => onHideModalDelete()}>\r\n                        Sluiten\r\n                    </Button>\r\n                    {actionInProgress === \"Delete\"\r\n                        ?\r\n                        <Button variant=\"danger\" disabled>\r\n                            <Spinner\r\n                                as=\"span\"\r\n                                animation=\"border\"\r\n                                size=\"sm\"\r\n                                role=\"status\"\r\n                                aria-hidden=\"true\"\r\n                            /> Laden...\r\n                        </Button>\r\n                        :\r\n                        <Button variant=\"danger\" onClick={() => deleteReviewRemote()}>\r\n                            Verwijder\r\n                        </Button>\r\n                    }\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    )\r\n}","import {Badge, Button, Col, Form, Row} from \"react-bootstrap\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {FaTimes} from \"react-icons/fa\";\r\n\r\nexport default function SearchSelect({selectList, onSelect, placeholder, initialValue}) {\r\n    const [focus, setFocus] = useState(false);\r\n    const [text, setText] = useState(\"\");\r\n    const [filteredList, setFilteredList] = useState([]);\r\n\r\n    useEffect(() => {\r\n        onChangeInput(initialValue);\r\n    }, []);\r\n\r\n    function onChangeInput(value) {\r\n        setText(value);\r\n        setFilteredList(selectList.filter(item => (item['naam'].toLowerCase().includes(value.toLowerCase()))));\r\n    }\r\n\r\n    function selectSpeelgoed(id, naam) {\r\n        onChangeInput(naam);\r\n        setFocus(false);\r\n        onSelect(id);\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className=\"position-relative\"\r\n            onFocus={() => setFocus(true)}\r\n        >\r\n            <Form.Control\r\n                type=\"text\"\r\n                placeholder={placeholder}\r\n                value={text}\r\n                onChange={e => onChangeInput(e.target.value)}\r\n                required\r\n            />\r\n            {/*Options*/}\r\n            <div\r\n                className={focus ? \"d-flex flex-column position-absolute p-2 bg-achtergrondkleur jt-front w-100 shadow\" : \"d-none\"}\r\n            >\r\n                {filteredList\r\n                    .slice(0, 6)\r\n                    .map(item => (\r\n                    placeholder === \"Speelgoed\"\r\n                    ?\r\n                        <div\r\n                            onClick={() => selectSpeelgoed(item['id'], item['naam'])}\r\n                            className=\"jt-clickable my-2 p-2 bg-filter\"\r\n                        >\r\n                            <Row>\r\n                                <Col xs=\"2\">\r\n                                    <img\r\n                                        src={item['foto'] ? item['foto'] : \"/images/placeholder.jpg\"}\r\n                                        alt=\"\"\r\n                                        className=\"img-fluid\"\r\n                                    />\r\n                                </Col>\r\n                                <Col xs=\"10\" className=\"d-flex flex-row align-items-center\">\r\n                                    {item['naam']}\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col xs=\"12\" className=\"d-flex flex-row align-items-center pt-2\">\r\n                                    {!item['beschikbaar']\r\n                                        ?\r\n                                        <Badge pill variant=\"danger\" className=\"mr-2\">\r\n                                        <span className=\"mr-2\">\r\n                                            Niet beschikbaar\r\n                                        </span>\r\n                                        </Badge>\r\n                                        :\r\n                                        <></>\r\n                                    }\r\n                                    {item['specialeAanvraag']\r\n                                        ?\r\n                                        <Badge pill variant=\"primary\" className=\"mr-2\">\r\n                                        <span className=\"mr-2\">\r\n                                            Speciale aanvraag\r\n                                        </span>\r\n                                        </Badge>\r\n                                        :\r\n                                        <></>\r\n                                    }\r\n                                </Col>\r\n                            </Row>\r\n                        </div>\r\n                    :\r\n                        <div\r\n                            onClick={() => selectSpeelgoed(item['id'], item['naam'])}\r\n                            className=\"jt-clickable my-2 p-2 bg-filter\"\r\n                        >\r\n                            <Row>\r\n                                <Col xs=\"12\" className=\"d-flex flex-row align-items-center\">\r\n                                    {item['naam']}\r\n                                </Col>\r\n                            </Row>\r\n                        </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nSearchSelect.defaultProps = {\r\n    initialValue: \"\"\r\n}","import {Link, Redirect} from \"react-router-dom\";\r\nimport {Badge, Button, Col, Form, Modal, Row, Spinner, Table} from \"react-bootstrap\";\r\nimport Filters from \"../../components/Filters\";\r\nimport {FaArchive, FaCheck, FaPen, FaPlus, FaTimes, FaTrashAlt, FaCaretUp, FaCaretDown} from \"react-icons/fa\";\r\nimport {useState} from \"react\";\r\nimport SearchSelect from \"../../components/SearchSelect\";\r\n\r\nexport default function AdminReservatiePage({isLoggedIn, filters, updateFilters, categorieen, leeftijd, userData, removeCategorieFromFilters,\r\n                                            filteredReservaties, speelgoed, gebruikers, periodes, onAddReservatie, onEditReservatie,\r\n                                            onDeleteReservaties, reservaties, onArchiveReservaties, onConfirmReservaties, formatDate, sortReservaties, sortParamRes}) {\r\n    const [allChecked, setAllChecked] = useState(false);\r\n    const [reservatiesChecked, setReservatiesChecked] = useState([]);\r\n    const [filterPeriode, setFilterPeriode] = useState(-1);\r\n    const [filterGebruiker, setFilterGebruiker] = useState(-1);\r\n    const [filterBevestigd, setFilterBevestigd] = useState(-1);\r\n    const [returnList, setReturnList] = useState(false);\r\n    const [returnPeriode, setReturnPeriode] = useState(-1);\r\n\r\n    const [showAddModal, setShowAddModal] = useState(false);\r\n    const [showEditModal, setShowEditModal] = useState(false);\r\n    const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n\r\n    const [toAddReservatie, setToAddReservatie] = useState({\"periodeId\": -1});\r\n    const [toEditReservatie, setToEditReservatie] = useState({\"speelgoedId\": -1, \"gebruikerId\": -1, \"periodeId\": -1});\r\n    const [toDelete, setToDelete] = useState([]);\r\n\r\n    const [actionInProgress, setActionInProgress] = useState('');\r\n    const [actionId, setActionId] = useState(-1);\r\n    const [terugDatum, setTerugDatum] = useState('');\r\n\r\n    function onHideModalAdd() {\r\n        setShowAddModal(false);\r\n        setToAddReservatie({\"periodeId\": -1});\r\n    }\r\n\r\n    function onHideModalEdit() {\r\n        setShowEditModal(false);\r\n        setToEditReservatie({\"speelgoedId\": -1, \"gebruikerId\": -1, \"periodeId\": -1});\r\n    }\r\n\r\n    function onHideModalDelete() {\r\n        setShowDeleteModal(false);\r\n        setToDelete([]);\r\n        setActionId(-1);\r\n    }\r\n\r\n    function toggleAllChecked() {\r\n        if (allChecked) {\r\n            setReservatiesChecked([]);\r\n            setAllChecked(false);\r\n        } else {\r\n            setReservatiesChecked(filteredReservaties\r\n                .filter(item => (\r\n                    (filterPeriode === -1 || item['periodeId'] === filterPeriode)\r\n                    && (filterGebruiker === -1 || item['gebruikerId'] === filterGebruiker)\r\n                    && (filterBevestigd === -1 || item['bevestigd'] === filterBevestigd)\r\n                    && (!returnList || !filteredReservaties\r\n                            .filter(res => (res['speelgoedId'] === item['speelgoedId'] && res['gebruikerId'] === item['gebruikerId']))\r\n                            .map(res => res['periodeId'])\r\n                            .includes(returnPeriode)\r\n                    )\r\n                ))\r\n                .map((reservatie) => (reservatie['id']))\r\n            );\r\n            setAllChecked(true);\r\n        }\r\n    }\r\n\r\n    function toggleReservatieChecked(speelgoedId) {\r\n        setAllChecked(false);\r\n        if (reservatiesChecked.includes(speelgoedId)) {\r\n            setReservatiesChecked(reservatiesChecked.filter((id) => (id !== speelgoedId)))\r\n        } else {\r\n            setReservatiesChecked([...reservatiesChecked, speelgoedId]);\r\n        }\r\n    }\r\n\r\n    function addReservatieLocal() {\r\n        setShowAddModal(true);\r\n    }\r\n\r\n    function editReservatieLocal(id) {\r\n        let reservatie = reservaties.find(item => (item['id'] === id));\r\n        setToEditReservatie({\r\n            id,\r\n            \"speelgoedId\": reservatie['speelgoedId'],\r\n            \"gebruikerId\": reservatie['gebruikerId'],\r\n            \"periodeId\": reservatie['periodeId']\r\n        })\r\n        setShowEditModal(true);\r\n    }\r\n\r\n    function deleteReservatieLocal(id) {\r\n        setShowDeleteModal(true);\r\n        setActionId(id);\r\n        let ids = [];\r\n        if (id === -1) {\r\n            ids = reservatiesChecked;\r\n        } else {\r\n            ids.push(id);\r\n        }\r\n        setToDelete(ids);\r\n    }\r\n\r\n    async function addReservatieRemote(e) {\r\n        e.preventDefault();\r\n        setActionInProgress(\"Maak aan\");\r\n\r\n        if (toAddReservatie[\"periodeId\"] === -1) return alert(\"Selecteer een periode\");\r\n        const res = await fetch('/php/admin/reservatieAdd.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify(toAddReservatie)\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onAddReservatie(data['reservatie']);\r\n        } else {\r\n            alert('Het aanmaken van een reservatie is mislukt');\r\n        }\r\n        onHideModalAdd();\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    async function editReservatieRemote(e) {\r\n        e.preventDefault();\r\n        setActionInProgress(\"Bewerk\");\r\n\r\n        const res = await fetch('/php/admin/reservatieEdit.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify(toEditReservatie)\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onEditReservatie(data['id'], data['speelgoedId'], data['gebruikerId'], data['periodeId']);\r\n        } else {\r\n            alert('Het bewerken van een reservatie is mislukt');\r\n        }\r\n\r\n        onHideModalEdit();\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    async function archiveReservatieRemote(id, isArchief) {\r\n        setActionId(id);\r\n        setActionInProgress(\"Archiveren\");\r\n        let ids = [];\r\n        if (id === -1) {\r\n            ids = reservatiesChecked;\r\n        } else {\r\n            ids.push(id);\r\n        }\r\n        let today = new Date();\r\n        let todayString = today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate();\r\n        const res = await fetch('/php/admin/reservatieArchive.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                ids,\r\n                \"isArchief\" : isArchief ? 1 : 0,\r\n                \"archiefDatum\": todayString\r\n            })\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onArchiveReservaties(data['ids'], data['isArchief'], data['archiefDatum']);\r\n        } else {\r\n            alert('Het archiveren van een reservatie is mislukt');\r\n        }\r\n        setActionInProgress(\"\");\r\n        setActionId(-1);\r\n    }\r\n\r\n    async function confirmReservatieRemote(id, bevestigd) {\r\n        setActionId(id);\r\n        setActionInProgress(\"Bevestigen\");\r\n        let ids = [];\r\n        if (id === -1) {\r\n            ids = reservatiesChecked;\r\n        } else {\r\n            ids.push(id);\r\n        }\r\n        const res = await fetch('/php/admin/reservatieConfirm.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                ids,\r\n                \"bevestigd\": bevestigd ? 1 : 0\r\n            })\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onConfirmReservaties(data['ids'], data['bevestigd']);\r\n        } else {\r\n            alert('Het bevestigen van een reservatie is mislukt');\r\n        }\r\n        setActionInProgress(\"\");\r\n        setActionId(-1);\r\n    }\r\n\r\n    async function deleteReservatieRemote() {\r\n        setActionInProgress(\"Delete\");\r\n        const res = await fetch('/php/admin/reservatieDelete.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({toDelete})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onDeleteReservaties(data['ids']);\r\n        } else {\r\n            alert('Het verwijderen van een reservatie is mislukt');\r\n        }\r\n        onHideModalDelete();\r\n        setActionInProgress(\"\");\r\n        setActionId(-1);\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container-fluid\">\r\n                <h1 className=\"jt-no-print\">Admin Reservaties</h1>\r\n                {returnList\r\n                    ?\r\n                    <h1 className=\"jt-print\">\r\n                        <span className=\"mr-2\">Lijst binnen brengen</span>\r\n                        {terugDatum !== '' ? <span className=\"jt-subtitle\">Deadline: {formatDate(terugDatum)}</span> : <></>}\r\n                    </h1>\r\n                    :\r\n                    <></>\r\n                }\r\n                <Filters\r\n                    filters={filters}\r\n                    updateFilters={updateFilters}\r\n                    categorieen={categorieen}\r\n                    leeftijd={leeftijd}\r\n                    userData={userData}\r\n                    removeCategorieFromFilters={removeCategorieFromFilters}\r\n                />\r\n\r\n                <Row className=\"jt-no-print\">\r\n                    {/*Filter periodes*/}\r\n                    <Form.Group className=\"px-3 py-2\">\r\n                        <Col xs=\"auto\" className=\"d-flex flex-row align-items-center\">\r\n                            <Form.Label className=\"mb-0\">Periode:</Form.Label>\r\n                        </Col>\r\n                        <Col xs=\"auto\">\r\n                            <Form.Control\r\n                                as=\"select\"\r\n                                value={filterPeriode}\r\n                                onChange={e => setFilterPeriode(parseInt(e.target.value))}\r\n                                required\r\n                            >\r\n                                <option value=\"-1\">Alle periodes</option>\r\n                                {periodes.filter(item => (!item['isArchief'] || filters['showArchief'])).length > 0 ? periodes.filter(item => (!item['isArchief'] || filters['showArchief'])).map((periode) => (\r\n                                        <option\r\n                                            value={periode['id']}\r\n                                        >{\"Van \" + formatDate(periode['startDatum']) + \" tot \" + formatDate(periode['eindDatum'])}</option>\r\n                                    )\r\n                                ) : <option value=\"-1\">Geen periodes beschikbaar</option>}\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    {/*Filter Gebruikers*/}\r\n                    <Form.Group className=\"px-3 py-2\">\r\n                        <Col xs=\"auto\" className=\"d-flex flex-row align-items-center\">\r\n                            <Form.Label className=\"mb-0\">Gebruiker:</Form.Label>\r\n                        </Col>\r\n                        <Col xs=\"auto\">\r\n                            <Form.Control\r\n                                as=\"select\"\r\n                                value={filterGebruiker}\r\n                                onChange={e => setFilterGebruiker(parseInt(e.target.value))}\r\n                                required\r\n                            >\r\n                                <option value=\"-1\">Alle gebruikers</option>\r\n                                {gebruikers\r\n                                    .filter(item => ((item['doelgroepId'] === userData['sessDoelgroep']) && (!item['isArchief'])))\r\n                                    .length > 0 ?\r\n                                    gebruikers\r\n                                        .filter(item => ((item['doelgroepId'] === userData['sessDoelgroep']) && (!item['isArchief'])))\r\n                                    .map((gebruiker) => (\r\n                                        <option\r\n                                            value={gebruiker['id']}\r\n                                        >{gebruiker['naam']}</option>\r\n                                    )\r\n                                ) : <option value=\"-1\">Geen gebruikers beschikbaar</option>}\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    {/*Filter Bevestigd*/}\r\n                    <Form.Group className=\"px-3 py-2\">\r\n                        <Col xs=\"auto\" className=\"d-flex flex-row align-items-center\">\r\n                            <Form.Label className=\"mb-0\">Bevestigd:</Form.Label>\r\n                        </Col>\r\n                        <Col xs=\"auto\">\r\n                            <Form.Control\r\n                                as=\"select\"\r\n                                value={filterBevestigd}\r\n                                onChange={e => setFilterBevestigd(parseInt(e.target.value))}\r\n                                required\r\n                            >\r\n                                <option value=\"-1\">Toon alles</option>\r\n                                <option value=\"0\">Niet bevestigd</option>\r\n                                <option value=\"1\">Bevestigd</option>\r\n                            </Form.Control>\r\n                        </Col>\r\n                    </Form.Group>\r\n\r\n                    {/*Lijst binnenbrengen*/}\r\n                    <Form.Group className=\"px-3 py-2\">\r\n                        <Col xs=\"auto\" className=\"d-flex flex-row align-items-center\">\r\n                            <Form.Check\r\n                                type=\"switch\"\r\n                                id=\"switch\"\r\n                                value={returnList}\r\n                                onChange={() => setReturnList(!returnList)}\r\n                                label=\"Binnenbrengen lijst\"\r\n                            />\r\n                        </Col>\r\n                        {returnList\r\n                            ?\r\n                            <>\r\n                                <Col xs=\"auto\">\r\n                                    <Form.Control\r\n                                        as=\"select\"\r\n                                        value={returnPeriode}\r\n                                        onChange={e => setReturnPeriode(parseInt(e.target.value))}\r\n                                        required\r\n                                    >\r\n                                        <option value=\"-1\">Alle periodes</option>\r\n                                        {periodes.filter(item => (!item['isArchief'] || filters['showArchief'])).length > 0 ? periodes.filter(item => (!item['isArchief'] || filters['showArchief'])).map((periode) => (\r\n                                                <option\r\n                                                    value={periode['id']}\r\n                                                >{\"Van \" + formatDate(periode['startDatum']) + \" tot \" + formatDate(periode['eindDatum'])}</option>\r\n                                            )\r\n                                        ) : <option value=\"-1\">Geen periodes beschikbaar</option>}\r\n                                    </Form.Control>\r\n                                </Col>\r\n                                <Col xs=\"auto\">\r\n                                    <Form.Label htmlFor=\"binnenbrengenDatum\">Deadline: </Form.Label>\r\n                                    <Form.Control\r\n                                        id=\"binnenbrengenDatum\"\r\n                                        type=\"date\"\r\n                                        value={terugDatum}\r\n                                        onChange={(e) => setTerugDatum(e.target.value)}\r\n                                    />\r\n                                </Col>\r\n                            </>\r\n                            :\r\n                            <></>\r\n                        }\r\n                    </Form.Group>\r\n                </Row>\r\n\r\n                <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th className=\"jt-table-check-container jt-no-print\"/>\r\n                        <th className=\"jt-table-center jt-table-id-container\"># \r\n                            <div className=\"d-flex flex-row\">\r\n                                <FaCaretUp \r\n                                    onClick={() => sortReservaties(\"oudCode\", \"asc\")}\r\n                                    color={(sortParamRes[\"param\"] === \"oudCode\" && sortParamRes[\"type\"] === \"asc\") ? \"blue\": \"black\"}\r\n                                />\r\n                                <FaCaretDown \r\n                                    onClick={() => sortReservaties(\"oudCode\", \"desc\")}\r\n                                    color={(sortParamRes[\"param\"] === \"oudCode\" && sortParamRes[\"type\"] === \"desc\") ? \"blue\": \"black\"}\r\n                                />\r\n                            </div>\r\n                        </th>\r\n                        <th>Speelgoed \r\n                            <div className=\"d-flex flex-row\">\r\n                                <FaCaretUp \r\n                                    onClick={() => sortReservaties(\"naam\", \"asc\")}\r\n                                    color={(sortParamRes[\"param\"] === \"naam\" && sortParamRes[\"type\"] === \"asc\") ? \"blue\": \"black\"}\r\n                                />\r\n                                <FaCaretDown \r\n                                    onClick={() => sortReservaties(\"naam\", \"desc\")}\r\n                                    color={(sortParamRes[\"param\"] === \"naam\" && sortParamRes[\"type\"] === \"desc\") ? \"blue\": \"black\"}\r\n                                />\r\n                            </div>\r\n                        </th>\r\n                        <th className={returnList ? \"jt-no-print\" : \"\"}>Gebruiker \r\n                            <div className=\"d-flex flex-row\">\r\n                                <FaCaretUp \r\n                                    onClick={() => sortReservaties(\"gebruiker\", \"asc\")}\r\n                                    color={(sortParamRes[\"param\"] === \"gebruiker\" && sortParamRes[\"type\"] === \"asc\") ? \"blue\": \"black\"}\r\n                                />\r\n                                <FaCaretDown \r\n                                    onClick={() => sortReservaties(\"gebruiker\", \"desc\")}\r\n                                    color={(sortParamRes[\"param\"] === \"gebruiker\" && sortParamRes[\"type\"] === \"desc\") ? \"blue\": \"black\"}\r\n                                />\r\n                            </div>\r\n                        </th>\r\n                        <th className={returnList ? \"jt-no-print\" : \"\"}>Periode</th>\r\n                        <th className={returnList ? \"jt-no-print\" : \"\"}>Bevestigd</th>\r\n                        <th className={returnList ? \"jt-no-print\" : \"\"}>Archief</th>\r\n                        <th className=\"jt-no-print\"/>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr className=\"jt-no-print\">\r\n                        <td className=\"jt-table-id\">\r\n                            <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                    <Form.Check\r\n                                        type=\"checkbox\"\r\n                                        className=\"jt-table-check\"\r\n                                        onChange={() => toggleAllChecked()}\r\n                                        checked={allChecked}\r\n                                    />\r\n                                </Form>\r\n                            </div>\r\n                        </td>\r\n                        <td colSpan={6}/>\r\n                        <td className=\"jt-table-actions\">\r\n                            <Button variant=\"success\" className=\"rounded-circle\" onClick={() => addReservatieLocal()}><FaPlus/></Button>\r\n                            {actionInProgress === \"Bevestigen\" && actionId === -1\r\n                                ?\r\n                                <Button variant=\"primary\" className=\"rounded-circle\" disabled>\r\n                                    <Spinner\r\n                                        as=\"span\"\r\n                                        animation=\"border\"\r\n                                        size=\"sm\"\r\n                                        role=\"status\"\r\n                                        aria-hidden=\"true\"\r\n                                    />\r\n                                </Button>\r\n                                :\r\n                                <Button variant=\"primary\" className=\"rounded-circle\" onClick={() => confirmReservatieRemote(-1, 1)}><FaCheck/></Button>\r\n                            }\r\n                            {actionInProgress === \"Archiveren\" && actionId === -1\r\n                                ?\r\n                                <Button variant=\"archive\" className=\"rounded-circle\" disabled>\r\n                                    <Spinner\r\n                                        as=\"span\"\r\n                                        animation=\"border\"\r\n                                        size=\"sm\"\r\n                                        role=\"status\"\r\n                                        aria-hidden=\"true\"\r\n                                    />\r\n                                </Button>\r\n                                :\r\n                                <Button variant=\"archive\" className=\"rounded-circle\" onClick={() => archiveReservatieRemote(-1, 1)}><FaArchive/></Button>\r\n                            }\r\n                            <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteReservatieLocal(-1)}><FaTrashAlt/></Button>\r\n                        </td>\r\n                    </tr>\r\n                    {filteredReservaties\r\n                        .filter(item => (\r\n                            (filterPeriode === -1 || item['periodeId'] === filterPeriode)\r\n                            && (filterGebruiker === -1 || item['gebruikerId'] === filterGebruiker)\r\n                            && (filterBevestigd === -1 || item['bevestigd'] === filterBevestigd)\r\n                            && (!returnList || !filteredReservaties\r\n                                .filter(res => (res['speelgoedId'] === item['speelgoedId'] && res['gebruikerId'] === item['gebruikerId']))\r\n                                    .map(res => res['periodeId'])\r\n                                    .includes(returnPeriode)\r\n                            )\r\n                        ))\r\n                        .map((reservatie) => (\r\n                        <tr>\r\n                            <td className=\"jt-table-id jt-no-print\">\r\n                                <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                    <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                        <Form.Check\r\n                                            type=\"checkbox\"\r\n                                            className=\"jt-table-check\"\r\n                                            onChange={() => toggleReservatieChecked(reservatie['id'])}\r\n                                            checked={reservatiesChecked.includes(reservatie['id'])}\r\n                                        />\r\n                                    </Form>\r\n                                </div>\r\n                            </td>\r\n                            <td className=\"jt-table-id\">\r\n                                {speelgoed.find(spg => (reservatie['speelgoedId'] === spg['id']))['oudCode']}\r\n                            </td>\r\n                            <td>\r\n                                <Link to={\"/speelgoedfiche?id=\" + reservatie['speelgoedId']}>\r\n                                    <img\r\n                                        src={speelgoed.find(spg => (reservatie['speelgoedId'] === spg['id']))['foto']\r\n                                        ? speelgoed.find(spg => (reservatie['speelgoedId'] === spg['id']))['foto']\r\n                                        : \"/images/placeholder.jpg\"}\r\n                                        className=\"jt-table-img\"\r\n                                        alt=\"\"\r\n                                    />\r\n                                    <span className=\"jt-table-naam\">\r\n                                        {speelgoed.find(spg => (reservatie['speelgoedId'] === spg['id']))['naam']}\r\n                                    </span>\r\n                                </Link>\r\n                                {speelgoed.find(spg => (reservatie['speelgoedId'] === spg['id']))['isArchief']\r\n                                    ?\r\n                                    <Badge pill variant=\"archive\" className=\"mr-2\">\r\n                                        <span>\r\n                                            Gearchiveerd\r\n                                        </span>\r\n                                    </Badge>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                            </td>\r\n                            <td className={returnList ? \"jt-no-print\" : \"\"}>\r\n                                {gebruikers.find(gebruiker => gebruiker['id'] === reservatie['gebruikerId'])['naam']}\r\n                            </td>\r\n                            <td className={returnList ? \"jt-no-print\" : \"\"}>\r\n                                {periodes.find(periode => (periode['id'] === reservatie['periodeId']))\r\n                                    ?\r\n                                    <>\r\n                                        <div>\r\n                                            {\"Van \" + formatDate(periodes.find(periode => (periode['id'] === reservatie['periodeId']))['startDatum'])}\r\n                                        </div>\r\n                                        <div>\r\n                                            {\"Tot \" + formatDate(periodes.find(periode => (periode['id'] === reservatie['periodeId']))['eindDatum'])}\r\n                                        </div>\r\n                                    </>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                            </td>\r\n                            <td className={returnList ? \"jt-no-print\" : \"\"}>\r\n                                {reservatie['bevestigd']\r\n                                    ?\r\n                                    <Badge pill variant=\"primary\">\r\n                                        <span className=\"mr-2\">\r\n                                            Bevestigd\r\n                                        </span>\r\n                                        <FaTimes as={Button}\r\n                                                 onClick={() => confirmReservatieRemote(reservatie['id'], 0)}\r\n                                                 className=\"jt-clickable\"\r\n                                        />\r\n                                    </Badge>\r\n                                    :\r\n                                    <Badge pill variant=\"danger\">\r\n                                        <span className=\"mr-2\">\r\n                                            Niet bevestigd\r\n                                        </span>\r\n                                        <FaTimes as={Button}\r\n                                                 onClick={() => confirmReservatieRemote(reservatie['id'], 1)}\r\n                                                 className=\"jt-clickable\"\r\n                                        />\r\n                                    </Badge>\r\n                                }\r\n                            </td>\r\n                            <td className={returnList ? \"jt-no-print\" : \"\"}>\r\n                                {reservatie['isArchief']\r\n                                    ?\r\n                                    <Badge pill variant=\"archive\" className=\"mr-2\">\r\n                                        <span className=\"mr-2\">\r\n                                            {reservatie['archiefDatum']}\r\n                                        </span>\r\n                                        <FaTimes as={Button}\r\n                                                 onClick={() => archiveReservatieRemote(reservatie['id'], 0)}\r\n                                                 className=\"jt-clickable\"\r\n                                        />\r\n                                    </Badge>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                            </td>\r\n                            <td className=\"jt-table-actions jt-no-print\">\r\n                                <Button variant=\"info\" className=\"rounded-circle\" onClick={() => editReservatieLocal(reservatie['id'], 1)}><FaPen/></Button>\r\n                                {actionInProgress === \"Bevestigen\" && actionId === reservatie['id']\r\n                                    ?\r\n                                    <Button variant=\"primary\" className=\"rounded-circle\" disabled>\r\n                                        <Spinner\r\n                                            as=\"span\"\r\n                                            animation=\"border\"\r\n                                            size=\"sm\"\r\n                                            role=\"status\"\r\n                                            aria-hidden=\"true\"\r\n                                        />\r\n                                    </Button>\r\n                                    :\r\n                                    <Button variant=\"primary\" className=\"rounded-circle\" onClick={() => confirmReservatieRemote(reservatie['id'], !reservatie['bevestigd'])}><FaCheck/></Button>\r\n                                }\r\n                                {actionInProgress === \"Archiveren\" && actionId === reservatie['id']\r\n                                    ?\r\n                                    <Button variant=\"archive\" className=\"rounded-circle\" disabled>\r\n                                        <Spinner\r\n                                            as=\"span\"\r\n                                            animation=\"border\"\r\n                                            size=\"sm\"\r\n                                            role=\"status\"\r\n                                            aria-hidden=\"true\"\r\n                                        />\r\n                                    </Button>\r\n                                    :\r\n                                    <Button variant=\"archive\" className=\"rounded-circle\" onClick={() => archiveReservatieRemote(reservatie['id'], !reservatie['isArchief'])}><FaArchive/></Button>\r\n                                }\r\n                                <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteReservatieLocal(reservatie['id'])}><FaTrashAlt/></Button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                </Table>\r\n            </main>\r\n\r\n            <Modal show={showAddModal} onHide={() => onHideModalAdd()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Nieuwe reservatie:</Modal.Title>\r\n                </Modal.Header>\r\n                <Form onSubmit={addReservatieRemote}>\r\n                    <Modal.Body>\r\n                        <Form.Group>\r\n                            <Form.Label>Speelgoed:</Form.Label>\r\n                            <SearchSelect\r\n                                selectList={speelgoed.filter(item => !item['isArchief'])}\r\n                                onSelect={(id) => setToAddReservatie({...toAddReservatie, \"speelgoedId\": id})}\r\n                                placeholder={\"Speelgoed\"}\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>Gebruiker:</Form.Label>\r\n                            <SearchSelect\r\n                                selectList={gebruikers.filter(item => (item['doelgroepId'] === userData['sessDoelgroep'] && !item['isArchief']))}\r\n                                onSelect={(id) => setToAddReservatie({...toAddReservatie, \"gebruikerId\": id})}\r\n                                placeholder={\"Gebruiker\"}\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>Periode:</Form.Label>\r\n                            <Form.Control\r\n                                id=\"periode\"\r\n                                as=\"select\"\r\n                                value={toAddReservatie['periodeId']}\r\n                                onChange={e => setToAddReservatie({...toAddReservatie, \"periodeId\": parseInt(e.target.value)})}\r\n                                required\r\n                            >\r\n                                <option value=\"-1\">Kies...</option>\r\n                                {periodes\r\n                                    .filter(item => (!item['isArchief']) || filters['showArchief']).length > 0\r\n                                    ? periodes\r\n                                        .filter(item => (!item['isArchief'] || filters['showArchief']))\r\n                                        .map((periode) => (\r\n                                                <option\r\n                                                    value={periode['id']}\r\n                                                >{\"Van \" + formatDate(periode['startDatum']) + \" tot \" + formatDate(periode['eindDatum'])}</option>\r\n                                            )\r\n                                        )\r\n                                    : <option value=\"-1\">Geen periodes beschikbaar</option>\r\n                                }\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={() => onHideModalAdd()}>\r\n                            Sluiten\r\n                        </Button>\r\n                        {actionInProgress === \"Maak aan\"\r\n                            ?\r\n                            <Button variant=\"success\" disabled>\r\n                                <Spinner\r\n                                    as=\"span\"\r\n                                    animation=\"border\"\r\n                                    size=\"sm\"\r\n                                    role=\"status\"\r\n                                    aria-hidden=\"true\"\r\n                                /> Laden...\r\n                            </Button>\r\n                            :\r\n                            <Button variant=\"success\" type=\"submit\">\r\n                                Maak aan\r\n                            </Button>\r\n                        }\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n\r\n            <Modal show={showEditModal} onHide={() => onHideModalEdit()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Bewerk reservatie:</Modal.Title>\r\n                </Modal.Header>\r\n                <Form onSubmit={editReservatieRemote}>\r\n                    <Modal.Body>\r\n                        <Form.Group>\r\n                            <Form.Label>Speelgoed:</Form.Label>\r\n                            <SearchSelect\r\n                                selectList={speelgoed.filter(item => !item['isArchief'])}\r\n                                onSelect={(id) => setToEditReservatie({...toEditReservatie, \"speelgoedId\": id})}\r\n                                placeholder={\"Speelgoed\"}\r\n                                initialValue={\r\n                                    speelgoed.find(item => (toEditReservatie['speelgoedId'] == item['id']))\r\n                                        ? speelgoed.find(item => (toEditReservatie['speelgoedId'] == item['id']))['naam']\r\n                                        : \"\"\r\n                                }\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>Gebruiker:</Form.Label>\r\n                            <SearchSelect\r\n                                selectList={gebruikers.filter(item => (item['doelgroepId'] == userData['sessDoelgroep'] && !item['isArchief']))}\r\n                                onSelect={(id) => setToEditReservatie({...toEditReservatie, \"gebruikerId\": id})}\r\n                                placeholder={\"Gebruiker\"}\r\n                                initialValue={\r\n                                    gebruikers.find(item => (toEditReservatie['gebruikerId'] == item['id']))\r\n                                        ? gebruikers.find(item => (toEditReservatie['gebruikerId'] == item['id']))['naam']\r\n                                        : \"\"\r\n                                }\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group>\r\n                            <Form.Label>Periode:</Form.Label>\r\n                            <Form.Control\r\n                                as=\"select\"\r\n                                value={toEditReservatie['periodeId']}\r\n                                onChange={e => setToEditReservatie({...toEditReservatie, \"periodeId\": parseInt(e.target.value)})}\r\n                                defaultValue={toEditReservatie['periodeId']}\r\n                                required\r\n                            >\r\n                                {periodes\r\n                                    .filter(item => (!item['isArchief']) || filters['showArchief']).length > 0\r\n                                    ? periodes\r\n                                        .filter(item => (!item['isArchief'] || filters['showArchief']))\r\n                                        .map((periode) => (\r\n                                                <option\r\n                                                    value={periode['id']}\r\n                                                >{\"Van \" + formatDate(periode['startDatum']) + \" tot \" + formatDate(periode['eindDatum'])}</option>\r\n                                            )\r\n                                        )\r\n                                    : <option value=\"-1\">Geen periodes beschikbaar</option>\r\n                                }\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={() => onHideModalEdit()}>\r\n                            Sluiten\r\n                        </Button>\r\n                        {actionInProgress === \"Bewerk\"\r\n                            ?\r\n                            <Button variant=\"success\" disabled>\r\n                                <Spinner\r\n                                    as=\"span\"\r\n                                    animation=\"border\"\r\n                                    size=\"sm\"\r\n                                    role=\"status\"\r\n                                    aria-hidden=\"true\"\r\n                                /> Laden...\r\n                            </Button>\r\n                            :\r\n                            <Button variant=\"success\" type=\"submit\">\r\n                                Bewerk\r\n                            </Button>\r\n                        }\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n\r\n            <Modal show={showDeleteModal} onHide={() => onHideModalDelete()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Verwijder reservatie</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Weet u zeker dat u {toDelete.length} reservatie{toDelete.length > 1 ? \"s\" : \"\"} wilt verwijderen?\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={() => onHideModalDelete()}>\r\n                        Sluiten\r\n                    </Button>\r\n                    {actionInProgress === \"Delete\"\r\n                        ?\r\n                        <Button variant=\"danger\" disabled>\r\n                            <Spinner\r\n                                as=\"span\"\r\n                                animation=\"border\"\r\n                                size=\"sm\"\r\n                                role=\"status\"\r\n                                aria-hidden=\"true\"\r\n                            /> Laden...\r\n                        </Button>\r\n                        :\r\n                        <Button variant=\"danger\" onClick={() => deleteReservatieRemote()}>\r\n                            Verwijder\r\n                        </Button>\r\n                    }\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </>\r\n    )\r\n}","import {Button, Form, Spinner, Table} from \"react-bootstrap\";\r\nimport {FaTrash, FaTrashAlt} from \"react-icons/fa\";\r\nimport {useState} from \"react\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\n\r\nexport default function WinkelWagenPage({isLoggedIn, periodes, winkelWagen, onWinkelWagenDelete, speelgoed,\r\n                                            onWinkelWagenEdit, onWinkelWagenCommit, reservaties, formatDate}) {\r\n    const [allChecked, setAllChecked] = useState(false);\r\n    const [itemsChecked, setItemsChecked] = useState([]);\r\n\r\n    const [committing, setCommitting] = useState(false);\r\n\r\n    function toggleAllChecked() {\r\n        if (allChecked) {\r\n            setItemsChecked([]);\r\n            setAllChecked(false);\r\n        } else {\r\n            setItemsChecked(winkelWagen.map(item => item['id']));\r\n            setAllChecked(true);\r\n        }\r\n    }\r\n\r\n    function toggleItemsChecked(itemId) {\r\n        setAllChecked(false);\r\n        if (itemsChecked.includes(itemId)) {\r\n            setItemsChecked(itemsChecked.filter((id) => (id !== itemId)))\r\n        } else {\r\n            setItemsChecked([...itemsChecked, itemId]);\r\n        }\r\n    }\r\n\r\n    function onWinkelWagenDeleteLocal(id) {\r\n        if(id === -1) {\r\n            onWinkelWagenDelete(itemsChecked);\r\n            setItemsChecked([]);\r\n            setAllChecked(false);\r\n        } else {\r\n            onWinkelWagenDelete([id]);\r\n            setItemsChecked(itemsChecked.filter(item => !(item['id'] === id)));\r\n        }\r\n    }\r\n\r\n    async function onWinkelWagenCommitLocal() {\r\n        setCommitting(true);\r\n        const res = await fetch('/php/confirmShoppingCart.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({winkelWagen})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onWinkelWagenCommit(data);\r\n            setCommitting(false);\r\n        } else {\r\n            alert(\"Er was een error bij het uploaden van de reservaties\");\r\n            setCommitting(false);\r\n        }\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container\">\r\n                <h1>Winkelwagen</h1>\r\n                <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th/>\r\n                        <th>Speelgoed</th>\r\n                        <th>Periode</th>\r\n                        <th/>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr>\r\n                        <td className=\"jt-table-id\">\r\n                            <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                    <Form.Check\r\n                                        type=\"checkbox\"\r\n                                        className=\"jt-table-check\"\r\n                                        onChange={() => toggleAllChecked()}\r\n                                        checked={allChecked}\r\n                                    />\r\n                                </Form>\r\n                            </div>\r\n                        </td>\r\n                        <td colSpan={2}/>\r\n                        <td className=\"jt-table-actions\">\r\n                            <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => onWinkelWagenDeleteLocal(-1)}><FaTrashAlt/></Button>\r\n                        </td>\r\n                    </tr>\r\n                    {winkelWagen.map(item => (\r\n                        <tr>\r\n                            <td className=\"jt-table-id\">\r\n                                <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                    <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                        <Form.Check\r\n                                            type=\"checkbox\"\r\n                                            className=\"jt-table-check\"\r\n                                            onChange={() => toggleItemsChecked(item['id'])}\r\n                                            checked={itemsChecked.includes(item['id'])}\r\n                                        />\r\n                                    </Form>\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                {speelgoed.filter(spg => (item['speelgoedId'] === spg['id'])).map(item => (\r\n                                    <Link to={\"/speelgoedfiche?id=\" + item['id']} id={item['id'] + \"-naam\"}>\r\n                                        <img src={item['foto'] ? item['foto'] : \"/images/placeholder.jpg\"} className=\"jt-table-img\" alt=\"\"/>\r\n                                        <span className=\"jt-table-naam\">{item['naam']}</span>\r\n                                    </Link>\r\n                                ))}\r\n                            </td>\r\n                            <td>\r\n                                <Form.Control\r\n                                    id=\"periode\"\r\n                                    as=\"select\"\r\n                                    value={item['periodeId']}\r\n                                    onChange={(e) => onWinkelWagenEdit(item['id'], e.target.value)}\r\n                                >\r\n                                    {periodes\r\n                                        .filter(periode => !(\r\n                                            periode['isArchief'] ||\r\n                                            winkelWagen.filter(wwItem => (wwItem['id'] !== item['id'] && wwItem['speelgoedId'] === item['speelgoedId']))\r\n                                                .map(wwItem => wwItem['periodeId'])\r\n                                                .includes(periode['id']) ||\r\n                                            reservaties.filter(res => (!res['isArchief'] && res['speelgoedId'] === item['speelgoedId']))\r\n                                                .map(res => res['periodeId'])\r\n                                                .includes(periode['id'])\r\n                                        ))\r\n                                        .map((periode) => (\r\n                                        <option\r\n                                            value={periode['id']}\r\n                                        >\r\n                                            {\"Van \" + formatDate(periode['startDatum']) + \" tot \" + formatDate(periode['eindDatum'])}\r\n                                        </option>\r\n                                    ))}\r\n                                </Form.Control>\r\n                            </td>\r\n                            <td className=\"jt-table-actions\">\r\n                                <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => onWinkelWagenDeleteLocal(item['id'])}><FaTrashAlt/></Button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                    <tfoot>\r\n                        <td colSpan={4} className=\"text-right\">\r\n                            <Button\r\n                                as={Link}\r\n                                to=\"/\"\r\n                                className=\"mr-2\"\r\n                                variant=\"secondary\"\r\n                            >\r\n                                Verder Winkelen\r\n                            </Button>\r\n                            {!winkelWagen.length\r\n                                ?\r\n                                <Button\r\n                                    variant={winkelWagen.length > 0 ? \"success\" : \"danger\"}\r\n                                    onClick={() => onWinkelWagenCommitLocal()}\r\n                                    className=\"m-2\"\r\n                                    disabled={!winkelWagen.length}\r\n                                >\r\n                                    {winkelWagen.length > 0 ? (committing\r\n                                            ?\r\n                                            <>\r\n                                                <Spinner animation=\"border\" role=\"status\" variant=\"light\">\r\n                                                    <span className=\"sr-only\">Laden...</span>\r\n                                                </Spinner>\r\n                                                <span className=\"ml-2\">\r\n                                            Laden...\r\n                                        </span>\r\n                                            </>\r\n                                            : \"Bevestig\"\r\n                                    ) : \"Winkelwagen is leeg\"}\r\n                                </Button>\r\n                                :\r\n                                <Button\r\n                                    as={Link}\r\n                                    to=\"/winkelwagenBevestigd\"\r\n                                    variant={winkelWagen.length > 0 ? \"success\" : \"danger\"}\r\n                                    onClick={() => onWinkelWagenCommitLocal()}\r\n                                    className=\"m-2\"\r\n                                    disabled={!winkelWagen.length}\r\n                                >\r\n                                    {winkelWagen.length > 0 ? (committing\r\n                                            ?\r\n                                            <>\r\n                                                <Spinner animation=\"border\" role=\"status\" variant=\"light\">\r\n                                                    <span className=\"sr-only\">Laden...</span>\r\n                                                </Spinner>\r\n                                                <span className=\"ml-2\">\r\n                                            Laden...\r\n                                        </span>\r\n                                            </>\r\n                                            : \"Bevestig\"\r\n                                    ) : \"Winkelwagen is leeg\"}\r\n                                </Button>\r\n                            }\r\n                        </td>\r\n                    </tfoot>\r\n                </Table>\r\n            </main>\r\n        </>\r\n    )\r\n}","import {Table} from \"react-bootstrap\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\n\r\nexport default function WinkelWagenBevestigdPage({isLoggedIn, winkelWagenResult, speelgoed, periodes, formatDate}) {\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <main className=\"container\">\r\n            <h1>Uw reservaties werden verstuurd</h1>\r\n            <section className=\"mb-5\">\r\n                <h2>Gelukte reservaties</h2>\r\n                <p>\r\n                    Deze reservaties werden goed verstuurd, ontvangen en verwerkt.\r\n                </p>\r\n                <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th>Speelgoed</th>\r\n                        <th>Periode</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {winkelWagenResult['reservaties'].map(item => (\r\n                        <tr>\r\n                            <td>\r\n                                {speelgoed.filter(spg => (item['speelgoedId'] === spg['id'])).map(spg => (\r\n                                    <Link to={\"/speelgoedfiche?id=\" + spg['id']} id={spg['id'] + \"-naam\"}>\r\n                                        <img src={spg['foto'] ? spg['foto'] : \"/images/placeholder.jpg\"} className=\"jt-table-img\" alt=\"\"/>\r\n                                        <span className=\"jt-table-naam\">{spg['naam']}</span>\r\n                                    </Link>\r\n                                ))}\r\n                            </td>\r\n                            <td>\r\n                                {periodes.filter(periode => (item['periodeId'] === periode['id'])).map(periode => (\r\n                                    \"Van \" + formatDate(periode['startDatum']) + \" tot \" + formatDate(periode['eindDatum'])\r\n                                ))}\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                </Table>\r\n            </section>\r\n\r\n            <section className={winkelWagenResult['doubles'].length > 0 ? \"d-block\" : \"d-none\"}>\r\n                <h2>Mislukte reservaties</h2>\r\n                <p>\r\n                    Deze reservaties konden niet worden doorgevoerd wegens overlap met andere reservaties.\r\n                    Mogelijks heeft een andere gebruiker juist iets eerder gereserveerd.\r\n                </p>\r\n                <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th>Speelgoed</th>\r\n                        <th>Periode</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    {winkelWagenResult['doubles'].map(item => (\r\n                        <tr>\r\n                            <td>\r\n                                {speelgoed.filter(spg => (item['speelgoedId'] === spg['id'])).map(spg => (\r\n                                    <Link to={\"/speelgoedfiche?id=\" + spg['id']} id={spg['id'] + \"-naam\"}>\r\n                                        <img src={spg['foto'] ? spg['foto'] : \"/images/placeholder.jpg\"} className=\"jt-table-img\" alt=\"\"/>\r\n                                        <span className=\"jt-table-naam\">{spg['naam']}</span>\r\n                                    </Link>\r\n                                ))}\r\n                            </td>\r\n                            <td>\r\n                                {periodes.filter(periode => (item['periodeId'] === periode['id'])).map(periode => (\r\n                                    \"Van \" + formatDate(periode['startDatum']) + \" tot \" + formatDate(periode['eindDatum'])\r\n                                ))}\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                </Table>\r\n            </section>\r\n        </main>\r\n    )\r\n}","import Filters from \"../components/Filters\";\r\nimport {Badge, Button, Col, Form, Modal, Row, Spinner, Table} from \"react-bootstrap\";\r\nimport {FaTrashAlt, FaArrowRight} from \"react-icons/fa\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport {useState} from \"react\";\r\nimport SpeelgoedToegevoegd from \"../components/SpeelgoedToegevoegd\";\r\n\r\nexport default function MijnReservatiesPage ({isLoggedIn, userData, filteredReservaties, periodes, speelgoed, filters,\r\n                                        categorieen, leeftijd, updateFilters, removeCategorieFromFilters,\r\n                                        onDeleteReservaties, formatDate, reservaties, winkelWagen, filteredSpeelgoed, onWinkelWagenAdd}) {\r\n    const [allChecked, setAllChecked] = useState(false);\r\n    const [reservatiesChecked, setReservatiesChecked] = useState([]);\r\n    const [filterPeriode, setFilterPeriode] = useState(-1);\r\n\r\n    const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n    const [toDelete, setToDelete] = useState([]);\r\n\r\n    const [showReservatieModal, setShowReservatieModal] = useState(false);\r\n    const [toAddSpeelgoed, setToAddSpeelgoed] = useState({\"speelgoedId\": -1, \"periodeId\": -1});\r\n    const [showToegevoegd, setShowToegevoegd] = useState(false);\r\n    const [toegevoedSpeelgoed, setToegevoegdSpeelgoed] = useState({});\r\n    const [toegevoegdPeriode, setToegevoegdPeriode] = useState({\"startDatum\": \"1995-07-13\", \"eindDatum\": \"1995-07-13\"});\r\n\r\n    const [actionInProgress, setActionInProgress] = useState(\"\");\r\n\r\n    function toggleAllChecked() {\r\n        if (allChecked) {\r\n            setReservatiesChecked([]);\r\n            setAllChecked(false);\r\n        } else {\r\n            setReservatiesChecked(filteredReservaties\r\n                .filter(item => (\r\n                    (filterPeriode === -1 || item['periodeId'] === filterPeriode) &&\r\n                    (item['gebruikerId'] === userData['id'])))\r\n                .map((reservatie) => (reservatie['id'])));\r\n            setAllChecked(true);\r\n        }\r\n    }\r\n\r\n    function toggleReservatieChecked(speelgoedId) {\r\n        setAllChecked(false);\r\n        if (reservatiesChecked.includes(speelgoedId)) {\r\n            setReservatiesChecked(reservatiesChecked.filter((id) => (id !== speelgoedId)))\r\n        } else {\r\n            setReservatiesChecked([...reservatiesChecked, speelgoedId]);\r\n        }\r\n    }\r\n\r\n    function deleteReservatieLocal(id) {\r\n        setShowDeleteModal(true);\r\n        let ids = [];\r\n        if (id === -1) {\r\n            ids = reservatiesChecked;\r\n        } else {\r\n            ids.push(id);\r\n        }\r\n        setToDelete(ids);\r\n    }\r\n\r\n    function reReservatieLocal(id) {\r\n        setShowReservatieModal(true);\r\n        setToAddSpeelgoed({...toAddSpeelgoed, \"speelgoedId\": id});\r\n    }\r\n\r\n    function onWinkelWagenAddLocal(e) {\r\n        e.preventDefault();\r\n        if (!toAddSpeelgoed['periodeId'] || toAddSpeelgoed['periodeId'] === -1) return alert(\"Selecteer een periode\");\r\n        if (winkelWagen.map(item => item['speelgoedId']).includes(toAddSpeelgoed['speelgoedId'] && winkelWagen.filter(item => (item['speelgoedId'] === toAddSpeelgoed['speelgoedId'])).map(item => item['periodeId']).includes(toAddSpeelgoed['periodeId'])))\r\n            return alert(\"Deze reservatie zit reeds in uw winkelwagen\");\r\n\r\n        setActionInProgress(\"Toevoegen\");\r\n        onWinkelWagenAdd(toAddSpeelgoed['speelgoedId'], toAddSpeelgoed['periodeId']);\r\n        onShowModalToegevoegd(toAddSpeelgoed['speelgoedId'], toAddSpeelgoed['periodeId']);\r\n        onHideModalReservatie();\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    function onShowModalToegevoegd(speelgoedId, periodeId) {\r\n        setToegevoegdSpeelgoed(filteredSpeelgoed.find(item => (item['id'] === speelgoedId)));\r\n        setToegevoegdPeriode(periodes.find(item => (item['id'] === periodeId)));\r\n        setShowToegevoegd(true);\r\n    }\r\n\r\n    function onHideModalToegevoegd() {\r\n        setShowToegevoegd(false);\r\n    }\r\n\r\n    async function deleteReservatieRemote() {\r\n        setActionInProgress(\"Delete\");\r\n        const res = await fetch('/php/mijnReservatieDelete.php', {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({toDelete, \"gebruikerId\": userData['id']})\r\n        });\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            onDeleteReservaties(data['ids']);\r\n        } else {\r\n            alert('Het verwijderen van een reservatie is mislukt');\r\n        }\r\n        onHideModalDelete();\r\n    }\r\n\r\n    function onHideModalDelete() {\r\n        setShowDeleteModal(false);\r\n        setToDelete([]);\r\n        setActionInProgress(\"\");\r\n    }\r\n\r\n    function onHideModalReservatie() {\r\n        setShowReservatieModal(false);\r\n        setToAddSpeelgoed({...toAddSpeelgoed, \"speelgoedId\": -1});\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <Redirect to=\"/login\"/>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <main className=\"container\">\r\n                <h1>Mijn Reservaties</h1>\r\n                <Filters\r\n                    filters={filters}\r\n                    updateFilters={updateFilters}\r\n                    categorieen={categorieen}\r\n                    leeftijd={leeftijd}\r\n                    userData={userData}\r\n                    removeCategorieFromFilters={removeCategorieFromFilters}\r\n                />\r\n                <Form.Group as={Row} className=\"px-3 py-2\">\r\n                    <Col xs=\"auto\" className=\"d-flex flex-row align-items-center\">\r\n                        <Form.Label className=\"mb-0\">Periode:</Form.Label>\r\n                    </Col>\r\n                    <Col xs=\"auto\">\r\n                        <Form.Control\r\n                            as=\"select\"\r\n                            value={filterPeriode}\r\n                            onChange={e => setFilterPeriode(parseInt(e.target.value))}\r\n                            required\r\n                        >\r\n                            <option value=\"-1\">Alle periodes</option>\r\n                            {periodes.filter(item => !item['isArchief']).length > 0 ? periodes.filter(item => !item['isArchief']).map((periode) => (\r\n                                    <option\r\n                                        value={periode['id']}\r\n                                    >{\"Van \" + formatDate(periode['startDatum']) + \" tot \" + formatDate(periode['eindDatum'])}</option>\r\n                                )\r\n                            ) : <option value=\"-1\">Geen periodes beschikbaar</option>}\r\n                        </Form.Control>\r\n                    </Col>\r\n                </Form.Group>\r\n                <Table striped bordered hover size=\"sm\" className=\"jt-table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th className=\"jt-table-check-container\"/>\r\n                        <th>Speelgoed</th>\r\n                        <th>Periode</th>\r\n                        <th>Bevestigd</th>\r\n                        <th/>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr>\r\n                        <td className=\"jt-table-id\">\r\n                            <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                    <Form.Check\r\n                                        type=\"checkbox\"\r\n                                        className=\"jt-table-check\"\r\n                                        onChange={() => toggleAllChecked()}\r\n                                        checked={allChecked}\r\n                                    />\r\n                                </Form>\r\n                            </div>\r\n                        </td>\r\n                        <td colSpan={3}/>\r\n                        <td className=\"jt-table-actions\">\r\n                            <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteReservatieLocal(-1)}><FaTrashAlt/></Button>\r\n                        </td>\r\n                    </tr>\r\n                    {filteredReservaties\r\n                        .filter(item => (\r\n                                (filterPeriode === -1 || item['periodeId'] === filterPeriode) &&\r\n                                (item['gebruikerId'] === userData['id'])\r\n                            )\r\n                        )\r\n                        .map((reservatie) => (\r\n                        <tr>\r\n                            <td className=\"jt-table-id\">\r\n                                <div className=\"d-flex justify-content-center align-items-center jt-table-check-container\">\r\n                                    <Form className=\"jt-table-check-container d-flex align-items-center justify-content-center\">\r\n                                        <Form.Check\r\n                                            type=\"checkbox\"\r\n                                            className=\"jt-table-check\"\r\n                                            onChange={() => toggleReservatieChecked(reservatie['id'])}\r\n                                            checked={reservatiesChecked.includes(reservatie['id'])}\r\n                                        />\r\n                                    </Form>\r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                <Link to={\"/speelgoedfiche?id=\" + reservatie['speelgoedId']}>\r\n                                    <img\r\n                                        src={speelgoed.find(spg => (reservatie['speelgoedId'] === spg['id']))['foto']\r\n                                            ? speelgoed.find(spg => (reservatie['speelgoedId'] === spg['id']))['foto']\r\n                                            : \"/images/placeholder.jpg\"}\r\n                                        className=\"jt-table-img\"\r\n                                        alt=\"\"\r\n                                    />\r\n                                    <span className=\"jt-table-naam\">\r\n                                    {speelgoed.find(spg => (reservatie['speelgoedId'] === spg['id']))['naam']}\r\n                                </span>\r\n                                </Link>\r\n                            </td>\r\n                            <td>\r\n                                {periodes.find(periode => (periode['id'] === reservatie['periodeId']))\r\n                                    ?\r\n                                    <>\r\n                                        <div>\r\n                                            {\"Van \" + formatDate(periodes.find(periode => (periode['id'] === reservatie['periodeId']))['startDatum'])}\r\n                                        </div>\r\n                                        <div>\r\n                                            {\"Tot \" + formatDate(periodes.find(periode => (periode['id'] === reservatie['periodeId']))['eindDatum'])}\r\n                                        </div>\r\n                                    </>\r\n                                    :\r\n                                    <></>\r\n                                }\r\n                            </td>\r\n                            <td>\r\n                                {reservatie['bevestigd']\r\n                                    ?\r\n                                    <Badge pill variant=\"primary\">\r\n                                        <span>\r\n                                            Bevestigd\r\n                                        </span>\r\n                                    </Badge>\r\n                                    :\r\n                                    <Badge pill variant=\"danger\">\r\n                                        <span>\r\n                                            Niet bevestigd\r\n                                        </span>\r\n                                    </Badge>\r\n                                }\r\n                            </td>\r\n                            <td className=\"jt-table-actions\">\r\n                                <Button variant=\"primary\" className=\"rounded-circle\" onClick={() => reReservatieLocal(reservatie['speelgoedId'])}><FaArrowRight/></Button>\r\n                                <Button variant=\"danger\" className=\"rounded-circle\" onClick={() => deleteReservatieLocal(reservatie['id'])}><FaTrashAlt/></Button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                    </tbody>\r\n                </Table>\r\n            </main>\r\n\r\n            <Modal show={showDeleteModal} onHide={() => onHideModalDelete()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Verwijder reservatie</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Weet u zeker dat u {toDelete.length} reservatie{toDelete.length > 1 ? \"s\" : \"\"} wilt verwijderen?\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={() => onHideModalDelete()}>\r\n                        Sluiten\r\n                    </Button>\r\n                    {actionInProgress === \"Delete\"\r\n                        ?\r\n                        <Button variant=\"danger\" disabled>\r\n                            <Spinner\r\n                                as=\"span\"\r\n                                animation=\"border\"\r\n                                size=\"sm\"\r\n                                role=\"status\"\r\n                                aria-hidden=\"true\"\r\n                            /> Laden...\r\n                        </Button>\r\n                        :\r\n                        <Button variant=\"danger\" onClick={() => deleteReservatieRemote()}>\r\n                            Verwijder\r\n                        </Button>\r\n                    }\r\n                </Modal.Footer>\r\n            </Modal>\r\n\r\n            <Modal show={showReservatieModal} onHide={() => onHideModalReservatie()}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Opnieuw toevoegen aan winkelwagen</Modal.Title>\r\n                </Modal.Header>\r\n                <Form onSubmit={onWinkelWagenAddLocal}>\r\n                    <Modal.Body>\r\n                        <Form.Group as={Row} className=\"px-3 py-2\">\r\n                            <Col xs=\"auto\" className=\"d-flex flex-row align-items-center\">\r\n                                <Form.Label className=\"mb-0\">Periode:</Form.Label>\r\n                            </Col>\r\n                            <Col xs=\"auto\">\r\n                                <Form.Control\r\n                                    as=\"select\"\r\n                                    value={toAddSpeelgoed['periodeId']}\r\n                                    onChange={e => setToAddSpeelgoed({...toAddSpeelgoed, \"periodeId\": parseInt(e.target.value)})}\r\n                                    required\r\n                                >\r\n                                    <option value=\"-1\">Kies...</option>\r\n                                    {periodes.filter(item => !(\r\n                                        item['isArchief'] || reservaties\r\n                                            .filter(res => (!res['isArchief'] && res['speelgoedId'] === toAddSpeelgoed['speelgoedId']))\r\n                                            .map(res => res['periodeId'])\r\n                                            .includes(item['id']) ||\r\n                                        winkelWagen.filter(wwItem => (wwItem['speelgoedId'] === toAddSpeelgoed['speelgoedId']))\r\n                                            .map(wwItem => wwItem['periodeId'])\r\n                                            .includes(item['id'])\r\n                                    )).length > 0 ? periodes.filter(item => !(\r\n                                            item['isArchief'] || reservaties\r\n                                                .filter(res => (!res['isArchief'] && res['speelgoedId'] === toAddSpeelgoed['speelgoedId']))\r\n                                                .map(res => res['periodeId'])\r\n                                                .includes(item['id']) ||\r\n                                            winkelWagen.filter(wwItem => (wwItem['speelgoedId'] === toAddSpeelgoed['speelgoedId']))\r\n                                                .map(wwItem => wwItem['periodeId'])\r\n                                                .includes(item['id'])\r\n                                        ))\r\n                                        .map((periode) => (\r\n                                            <option\r\n                                                value={periode['id']}\r\n                                            >{\"Van \" + formatDate(periode['startDatum']) + \" tot \" + formatDate(periode['eindDatum'])}</option>\r\n                                        )\r\n                                    ) : <option value=\"-1\">Geen periodes beschikbaar</option>}\r\n                                </Form.Control>\r\n                            </Col>\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={() => onHideModalReservatie()}>\r\n                            Sluiten\r\n                        </Button>\r\n                        {actionInProgress === \"Toevoegen\"\r\n                            ?\r\n                            <Button variant=\"success\" disabled>\r\n                                <Spinner\r\n                                    as=\"span\"\r\n                                    animation=\"border\"\r\n                                    size=\"sm\"\r\n                                    role=\"status\"\r\n                                    aria-hidden=\"true\"\r\n                                /> Laden...\r\n                            </Button>\r\n                            :\r\n                            <Button variant=\"success\" type=\"submit\">\r\n                                Toevoegen\r\n                            </Button>\r\n                        }\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n\r\n            <SpeelgoedToegevoegd\r\n                show={showToegevoegd}\r\n                onHide={() => onHideModalToegevoegd()}\r\n                item={toegevoedSpeelgoed}\r\n                periode={toegevoegdPeriode}\r\n                formatDate={formatDate}\r\n            />\r\n        </>\r\n    )\r\n}","import {BrowserRouter as Router, Route} from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\nimport {Alert} from \"react-bootstrap\";\r\n\r\n// Import components\r\nimport Banner from \"./components/Banner\";\r\nimport Header from \"./components/Header\";\r\nimport Loading from \"./components/Loading\";\r\nimport Footer from \"./components/Footer\";\r\n\r\n// Import pages\r\nimport LoginPage from \"./pages/LoginPage\";\r\nimport SignUpPage from \"./pages/SignUpPage\";\r\nimport HomePage from \"./pages/HomePage\";\r\nimport AdminSpeelgoedPage from \"./pages/admin/AdminSpeelgoedPage\";\r\nimport AdminStatistiekPage from \"./pages/admin/AdminStatistiekPage\";\r\nimport AdminSpeelgoedFichePage from \"./pages/admin/AdminSpeelgoedFichePage\";\r\nimport AdminCategorieenPage from \"./pages/admin/AdminCategorieenPage\";\r\nimport SpeelgoedFichePage from \"./pages/SpeelgoedFichePage\";\r\nimport AdminDoelgroepenPage from \"./pages/admin/AdminDoelgroepenPage\";\r\nimport AdminPeriodesPage from \"./pages/admin/AdminPeriodesPage\";\r\nimport AdminGebruikersPage from \"./pages/admin/AdminGebruikersPage\";\r\nimport AdminReviewPage from \"./pages/admin/AdminReviewPage\";\r\nimport AdminReservatiePage from \"./pages/admin/AdminReservatiePage\";\r\nimport WinkelWagenPage from \"./pages/WinkelWagenPage\";\r\nimport WinkelWagenBevestigdPage from \"./pages/WinkelWagenBevestigdPage\";\r\nimport MijnReservatiesPage from \"./pages/MijnReservatiesPage\";\r\n\r\nfunction App() {\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchbarText, setSearchbarText] = useState('');\r\n    const [sortParam, setSortParam] = useState({\"param\": \"\", \"type\": \"\"});\r\n    const [sortParamRes, setSortParamRes] = useState({\"param\": \"\", \"type\": \"\"});\r\n\r\n    const [userData, setUserData] = useState({\"isLoggedIn\": 0});\r\n    const [doelgroepen, setDoelgroepen] = useState([]);\r\n    const [filters, setFilters] = useState({\"categorieen\": [], \"leeftijden\": [], \"showArchief\": 0});\r\n    const [speelgoed, setSpeelgoed] = useState([]);\r\n    const [filteredSpeelgoed, setFilteredSpeelgoed] = useState([]);\r\n    const [categorieen, setCategorieen] = useState([]);\r\n    const [leeftijd, setLeeftijd] = useState({\"id\": -1, \"naam\": \"Leeftijd\", \"subCategorieen\": []});\r\n    const [periodes, setPeriodes] = useState([]);\r\n    const [gebruikers, setGebruikers] = useState([]);\r\n    const [reviews, setReviews] = useState([]);\r\n    const [reservaties, setReservaties] = useState([]);\r\n    const [filteredReservaties, setFilteredReservaties] = useState([]);\r\n    const [winkelWagen, setWinkelWagen] = useState([]);\r\n    const [winkelWagenResult, setWinkelWagenResult] = useState({\"reservaties\": [], \"doubles\": []});\r\n\r\n    useEffect(() => {\r\n        if (initDoelgroepen()) {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    // Login\r\n    async function login(userData) {\r\n        setLoading(true);\r\n        setUserData(userData);\r\n        const catRes = await initCategorie();\r\n        const spgRes = await initSpeelgoed(catRes[0], catRes[1]);\r\n        await initPeriodes();\r\n        await initGebruikers();\r\n        await initReviews();\r\n        const resRes = await initReservaties();\r\n        const fltSpgRes = await filterSpeelgoed(spgRes, searchbarText, filters);\r\n        const fltResRes = await filterReservaties(resRes, fltSpgRes, filters);\r\n        if (fltResRes) {\r\n            setLoading(false);\r\n        }\r\n        setFilteredSpeelgoed(fltSpgRes);\r\n        setFilteredReservaties(fltResRes);\r\n    }\r\n\r\n    // Logout\r\n    async function logout() {\r\n        setLoading(true);\r\n        setSearchbarText('');\r\n        setUserData({\"isLoggedIn\": 0});\r\n        setDoelgroepen([]);\r\n        setFilters({\"categorieen\": [], \"leeftijden\": [], \"showArchief\": 0});\r\n        setSpeelgoed([]);\r\n        setFilteredSpeelgoed([]);\r\n        setCategorieen([]);\r\n        setLeeftijd({\"id\": -1, \"naam\": \"Leeftijd\", \"subCategorieen\": []});\r\n        setPeriodes([]);\r\n        setGebruikers([]);\r\n        setReviews([]);\r\n        setReservaties([]);\r\n        setFilteredReservaties([]);\r\n        setWinkelWagen([]);\r\n        const doelRes = await initDoelgroepen()\r\n        if (doelRes) {\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    //Date formatter\r\n    function formatDate(date) {\r\n        let dateArray = date.split(\"-\");\r\n        let day = dateArray[2];\r\n        let year = dateArray[0];\r\n        let month;\r\n        switch (parseInt(dateArray[1])) {\r\n            case 1:\r\n                month = \"january\"\r\n                break;\r\n            case 2:\r\n                month = \"february\"\r\n                break;\r\n            case 3:\r\n                month = \"maart\"\r\n                break;\r\n            case 4:\r\n                month = \"april\"\r\n                break;\r\n            case 5:\r\n                month = \"mei\"\r\n                break;\r\n            case 6:\r\n                month = \"juni\"\r\n                break;\r\n            case 7:\r\n                month = \"juli\"\r\n                break;\r\n            case 8:\r\n                month = \"augustus\"\r\n                break;\r\n            case 9:\r\n                month = \"september\"\r\n                break;\r\n            case 10:\r\n                month = \"oktober\"\r\n                break;\r\n            case 11:\r\n                month = \"november\"\r\n                break;\r\n            default:\r\n                month = \"december\"\r\n        }\r\n        return day + \" \" + month + \" \" + year;\r\n    }\r\n\r\n    // Fetch doelgroepen\r\n    async function initDoelgroepen() {\r\n        setLoading(true);\r\n        const res = await fetch('/php/doelgroepen.php');\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            setDoelgroepen(data['doelgroepen']);\r\n            return true;\r\n        }\r\n        alert('Er was een probleem met het laden van de data');\r\n        return false;\r\n    }\r\n\r\n    // Speelgoed functions\r\n    function jsonEscapeReverse(str)  {\r\n        return str.replace(/\\\\n/g, \"\\n\").replace(/\\\\r/g, \"\\r\").replace(/\\\\t/g, \"\\t\");\r\n    }\r\n\r\n    async function initSpeelgoed(categorieen, leeftijd) {\r\n        const res = await fetch('/php/speelgoed.php');\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            if (data['speelgoed']) {\r\n                let newSpeelgoed = [];\r\n                data['speelgoed'].forEach((item) => {\r\n                    newSpeelgoed.push(\r\n                        {...item,\r\n                            \"subCategorieen\": item['subCategorieen'].filter(scId => ([].concat.apply([],categorieen.map(c => (c['subCategorieen'])).map(scen => (scen.map(sc => sc['id'])))).includes(scId))),\r\n                            \"leeftijden\": item['subCategorieen'].filter(scId => (leeftijd['subCategorieen'].map(sc => (sc['id'])).includes(scId))),\r\n                            \"korteInhoud\": jsonEscapeReverse(item['korteInhoud'])\r\n                        });\r\n                })\r\n                setSpeelgoed(newSpeelgoed);\r\n                return newSpeelgoed;\r\n            }\r\n            return speelgoed;\r\n        } else {\r\n            alert('Er was een probleem met het laden van het speelgoed');\r\n        }\r\n    }\r\n\r\n    async function onAddSpeelgoed(newSpeelgoed) {\r\n        const result = [...speelgoed, newSpeelgoed];\r\n        setSpeelgoed(result);\r\n        const fltSpgRes = await filterSpeelgoed(result, searchbarText, filters)\r\n        setFilteredSpeelgoed(fltSpgRes);\r\n        const fltResRes = await filterReservaties(reservaties, fltSpgRes, filters);\r\n        setFilteredReservaties(fltResRes);\r\n    }\r\n\r\n    async function onUpdateSpeelgoed(updatedSpeelgoed) {\r\n        let newSpeelgoed = [];\r\n        speelgoed.forEach(item => {\r\n            if(item['id'] === updatedSpeelgoed['id']) {\r\n                newSpeelgoed.push(updatedSpeelgoed);\r\n            } else {\r\n                newSpeelgoed.push(item);\r\n            }\r\n        })\r\n        setSpeelgoed(newSpeelgoed);\r\n        const fltSpgRes = await filterSpeelgoed(newSpeelgoed, searchbarText, filters)\r\n        setFilteredSpeelgoed(fltSpgRes);\r\n        const fltResRes = await filterReservaties(reservaties, fltSpgRes, filters);\r\n        setFilteredReservaties(fltResRes);\r\n    }\r\n\r\n    async function archiveSpeelgoed(ids, isArchief, archiefDatum) {\r\n        let newSpeelgoed = [];\r\n        speelgoed.forEach(item => {\r\n            if (ids.includes(item['id'])) {\r\n                newSpeelgoed.push({...item, \"isArchief\": isArchief, \"archiefDatum\": archiefDatum});\r\n            } else {\r\n                newSpeelgoed.push(item);\r\n            }\r\n        })\r\n        setSpeelgoed(newSpeelgoed);\r\n        const fltSpgRes = await filterSpeelgoed(newSpeelgoed, searchbarText, filters)\r\n        setFilteredSpeelgoed(fltSpgRes);\r\n        const fltResRes = await filterReservaties(reservaties, fltSpgRes, filters);\r\n        setFilteredReservaties(fltResRes);\r\n    }\r\n\r\n    async function onDeleteSpeelgoed(ids) {\r\n        let newSpeelgoed = speelgoed.filter((item) => (!ids.includes(item['id'])));\r\n        setSpeelgoed(newSpeelgoed);\r\n        const fltSpgRes = await filterSpeelgoed(newSpeelgoed, searchbarText, filters)\r\n        setFilteredSpeelgoed(fltSpgRes);\r\n        const fltResRes = await filterReservaties(reservaties, fltSpgRes, filters);\r\n        setFilteredReservaties(fltResRes);\r\n    }\r\n\r\n    async function onToggleBeschikbaar(id, status) {\r\n        let newSpeelgoed = [];\r\n        speelgoed.forEach(item => {\r\n            if (id === item['id']) {\r\n                newSpeelgoed.push({...item, \"beschikbaar\": status});\r\n            } else {\r\n                newSpeelgoed.push(item);\r\n            }\r\n        })\r\n        setSpeelgoed(newSpeelgoed);\r\n        const fltSpgRes = await filterSpeelgoed(newSpeelgoed, searchbarText, filters)\r\n        setFilteredSpeelgoed(fltSpgRes);\r\n        const fltResRes = await filterReservaties(reservaties, fltSpgRes, filters);\r\n        setFilteredReservaties(fltResRes);\r\n    }\r\n\r\n    async function onToggleSpecialeAanvraag(id, status) {\r\n        let newSpeelgoed = [];\r\n        speelgoed.forEach(item => {\r\n            if (id === item['id']) {\r\n                newSpeelgoed.push({...item, \"specialeAanvraag\": status});\r\n            } else {\r\n                newSpeelgoed.push(item);\r\n            }\r\n        })\r\n        setSpeelgoed(newSpeelgoed);\r\n        const fltSpgRes = await filterSpeelgoed(newSpeelgoed, searchbarText, filters)\r\n        setFilteredSpeelgoed(fltSpgRes);\r\n        const fltResRes = await filterReservaties(reservaties, fltSpgRes, filters);\r\n        setFilteredReservaties(fltResRes);\r\n    }\r\n\r\n    // Sort functions\r\n    async function sortSpeelgoed(newSortParam, newSortType) {\r\n        setSortParam({\"param\": newSortParam, \"type\": newSortType});\r\n        console.log(newSortParam, \" \", newSortType);\r\n\r\n        switch (newSortParam) {\r\n            case \"naam\":\r\n                speelgoed.sort((a, b) => {\r\n                    let naamA = a.naam.toUpperCase();\r\n                    let naamB = b.naam.toUpperCase();\r\n                    if (naamA < naamB) return newSortType === \"asc\" ? -1: 1;\r\n                    if (naamA > naamB) return newSortType === \"asc\" ? 1: -1;\r\n                    return 0;\r\n                });\r\n                break;\r\n            default:\r\n                speelgoed.sort((a, b) => {\r\n                    let oudCodeA = a.oudCode.toUpperCase();\r\n                    let oudCodeB = b.oudCode.toUpperCase();\r\n                    if (oudCodeA < oudCodeB) return newSortType === \"asc\" ? -1: 1;\r\n                    if (oudCodeA > oudCodeB) return newSortType === \"asc\" ? 1: -1;\r\n                    return 0;\r\n                });\r\n                break;\r\n        }\r\n\r\n        const fltSpgResSearch = await filterSpeelgoed(speelgoed, searchbarText, filters)\r\n        setFilteredSpeelgoed(fltSpgResSearch);\r\n        const fltResResSearch = await filterReservaties(reservaties, fltSpgResSearch, filters);\r\n        setFilteredReservaties(fltResResSearch);\r\n    }\r\n\r\n    async function sortReservaties(newSortParam, newSortType) {\r\n        setSortParamRes({\"param\": newSortParam, \"type\": newSortType});\r\n\r\n        switch (newSortParam) {\r\n            case \"naam\":\r\n                reservaties.sort((a, b) => {\r\n                    let naamA = speelgoed.find(spg => (a['speelgoedId'] === spg['id']))['naam'].toUpperCase();\r\n                    let naamB = speelgoed.find(spg => (b['speelgoedId'] === spg['id']))['naam'].toUpperCase();\r\n                    if (naamA < naamB) return newSortType === \"asc\" ? -1: 1;\r\n                    if (naamA > naamB) return newSortType === \"asc\" ? 1: -1;\r\n                    return 0;\r\n                });\r\n                break;\r\n            case \"gebruiker\":\r\n                reservaties.sort((a, b) => {\r\n                    let naamA = gebruikers.find(gebr => (a['gebruikerId'] === gebr['id']))['naam'].toUpperCase();\r\n                    let naamB = gebruikers.find(gebr => (b['gebruikerId'] === gebr['id']))['naam'].toUpperCase();\r\n                    if (naamA < naamB) return newSortType === \"asc\" ? -1: 1;\r\n                    if (naamA > naamB) return newSortType === \"asc\" ? 1: -1;\r\n                    return 0;\r\n                });\r\n                break;\r\n            default:\r\n                reservaties.sort((a, b) => {\r\n                    let oudCodeA = speelgoed.find(spg => (a['speelgoedId'] === spg['id']))['oudCode'].toUpperCase();\r\n                    let oudCodeB = speelgoed.find(spg => (b['speelgoedId'] === spg['id']))['oudCode'].toUpperCase();\r\n                    if (oudCodeA < oudCodeB) return newSortType === \"asc\" ? -1: 1;\r\n                    if (oudCodeA > oudCodeB) return newSortType === \"asc\" ? 1: -1;\r\n                    return 0;\r\n                });\r\n                break;\r\n        }\r\n\r\n        const fltSpgResSearch = await filterSpeelgoed(speelgoed, searchbarText, filters)\r\n        setFilteredSpeelgoed(fltSpgResSearch);\r\n        const fltResResSearch = await filterReservaties(reservaties, fltSpgResSearch, filters);\r\n        setFilteredReservaties(fltResResSearch);\r\n    }\r\n\r\n    // Filter functions\r\n    async function filterSpeelgoed(newSpeelgoed, searchbarText, filters) {\r\n        let toFilter = newSpeelgoed;\r\n        switch (filters['showArchief']) {\r\n            case 0:\r\n                toFilter = toFilter.filter(sg => (!sg['isArchief']));\r\n                break;\r\n            case 1:\r\n                toFilter = toFilter.filter(sg => sg['isArchief']);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        toFilter = toFilter.filter(sg => ((sg['naam'].toLowerCase().includes(searchbarText.toLowerCase())) || (sg['oudCode'].toLowerCase().startsWith(searchbarText.toLowerCase()))));\r\n        if (filters['leeftijden'].length !== 0) {\r\n            toFilter = toFilter.filter(sg => (hasInCommon(sg['leeftijden'], filters['leeftijden'])));\r\n        }\r\n        filters['categorieen'].forEach((categorie) => {\r\n            if (categorie['subCategorieen'].length !== 0) {\r\n                toFilter = toFilter.filter(sg => (hasInCommon(sg['subCategorieen'], categorie['subCategorieen'])));\r\n            }\r\n        })\r\n        return toFilter;\r\n    }\r\n\r\n    async function filterReservaties(newReservaties, filteredSpeelgoed, filters) {\r\n        let toFilter = newReservaties;\r\n        switch (filters['showArchief']) {\r\n            case 0:\r\n                toFilter = toFilter.filter(res => (!res['isArchief']));\r\n                break;\r\n            case 1:\r\n                toFilter = toFilter.filter(res=> res['isArchief']);\r\n                break;\r\n            default: break;\r\n        }\r\n        toFilter = toFilter.filter(res => (filteredSpeelgoed.map(spg => spg['id']).includes(res['speelgoedId'])));\r\n        return toFilter;\r\n    }\r\n\r\n    function hasInCommon(array1, array2) {\r\n        let result = false\r\n        array2.forEach(item => {\r\n            if (array1.includes(item)) {\r\n                result = true;\r\n            }\r\n        })\r\n        return result;\r\n    }\r\n\r\n    async function removeCategorieFromFilters(type, id) {\r\n        let newFilters = {\"categorieen\": [], \"leeftijden\": [], \"showArchief\": 0};\r\n        switch (type) {\r\n            case \"leeftijd\":\r\n                newFilters = {...filters, \"leeftijden\": []};\r\n                break;\r\n            case \"categorie\":\r\n                newFilters = {...filters, \"categorieen\": filters['categorieen'].filter(c => (c['id'] !== id))};\r\n                break;\r\n            default: break;\r\n        }\r\n        setFilters(newFilters);\r\n        const fltSpgRes = await filterSpeelgoed(speelgoed, searchbarText, newFilters)\r\n        setFilteredSpeelgoed(fltSpgRes);\r\n        const fltResRes = await filterReservaties(reservaties, fltSpgRes, newFilters);\r\n        setFilteredReservaties(fltResRes);\r\n    }\r\n\r\n    async function updateFilters(type, newValue, deleteValue, id) {\r\n        let newFilters;\r\n        switch (type) {\r\n            case \"search\":\r\n                setSearchbarText(newValue);\r\n                const fltSpgResSearch = await filterSpeelgoed(speelgoed, newValue, filters)\r\n                setFilteredSpeelgoed(fltSpgResSearch);\r\n                const fltResResSearch = await filterReservaties(reservaties, fltSpgResSearch, filters);\r\n                setFilteredReservaties(fltResResSearch);\r\n                break;\r\n            case \"leeftijd\":\r\n                newFilters = {...filters, \"leeftijden\": [...filters['leeftijden'].filter(lt => (!deleteValue.includes(lt))), ...newValue]}\r\n                setFilters(newFilters);\r\n                const fltSpgResLeeftijd = await filterSpeelgoed(speelgoed, searchbarText, newFilters)\r\n                setFilteredSpeelgoed(fltSpgResLeeftijd);\r\n                const fltResResLeeftijd = await filterReservaties(reservaties, fltSpgResLeeftijd, newFilters);\r\n                setFilteredReservaties(fltResResLeeftijd);\r\n                break;\r\n            case \"subCategorie\":\r\n                let filterCategorie = filters['categorieen'].filter(c => (c['id'] === id));\r\n                let filterSubCategorieen = []\r\n                if (filterCategorie.length > 0) {\r\n                    filterSubCategorieen = filterCategorie[0]['subCategorieen'];\r\n                    filterSubCategorieen = [...filterSubCategorieen.filter(sc => (!deleteValue.includes(sc))), ...newValue];\r\n                } else {\r\n                    filterSubCategorieen = newValue;\r\n                }\r\n                filterCategorie = {\"id\": id, \"subCategorieen\": filterSubCategorieen};\r\n                newFilters = {...filters, \"categorieen\": [...filters['categorieen'].filter(c => !(c['id'] === id)), filterCategorie]}\r\n                setFilters(newFilters);\r\n                const fltSpgResCat = await filterSpeelgoed(speelgoed, searchbarText, newFilters)\r\n                setFilteredSpeelgoed(fltSpgResCat);\r\n                const fltResResCat = await filterReservaties(reservaties, fltSpgResCat, newFilters);\r\n                setFilteredReservaties(fltResResCat);\r\n                break;\r\n            case \"showArchief\":\r\n                newFilters = {...filters, \"showArchief\": newValue};\r\n                setFilters(newFilters);\r\n                const fltSpgRes = await filterSpeelgoed(speelgoed, searchbarText, newFilters)\r\n                setFilteredSpeelgoed(fltSpgRes);\r\n                const fltResRes = await filterReservaties(reservaties, fltSpgRes, newFilters);\r\n                setFilteredReservaties(fltResRes);\r\n                break;\r\n            default: break;\r\n        }\r\n    }\r\n\r\n    // Categorie functions\r\n    async function initCategorie() {\r\n        setLoading(true);\r\n        const res = await fetch('/php/categorieen.php');\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            if (data['categorieen']) {\r\n                let categorieen = data['categorieen'].filter((c) => (c['naam'] !== \"Leeftijd\"));\r\n                let leeftijd = data['categorieen'].filter((c) => (c['naam'] === \"Leeftijd\"))[0]\r\n                    ? data['categorieen'].filter((c) => (c['naam'] === \"Leeftijd\"))[0]\r\n                    : {\"id\": -1, \"naam\": \"Leeftijd\", \"subCategorieen\": []};\r\n                setCategorieen(categorieen);\r\n                setLeeftijd(leeftijd);\r\n                return [categorieen, leeftijd];\r\n            }\r\n            return [categorieen, leeftijd];\r\n        }\r\n        alert('Er was een probleem met het laden van de categorieen');\r\n        return [];\r\n    }\r\n\r\n    function onAddCategorie(categorie) {\r\n        if (categorie['naam'] === \"Leeftijd\") {\r\n            setLeeftijd({...categorie, \"subCategorieen\": []});\r\n        } else {\r\n            setCategorieen([...categorieen, {...categorie, \"subCategorieen\": []}]);\r\n        }\r\n    }\r\n\r\n    function onAddSubCategorie(subCategorie, categorie) {\r\n        if (categorie['naam'] === \"Leeftijd\") {\r\n            setLeeftijd({...categorie, \"subCategorieen\": [...categorie['subCategorieen'], subCategorie]});\r\n            return;\r\n        }\r\n        let newCategorieen = []\r\n        categorieen.forEach(c => {\r\n            if (c['id'] === categorie['id']) {\r\n                newCategorieen.push({...categorie, \"subCategorieen\": [...categorie['subCategorieen'], subCategorie]});\r\n            } else {\r\n                newCategorieen.push(c);\r\n            }\r\n        })\r\n        setCategorieen(newCategorieen);\r\n    }\r\n\r\n    function onEditCategorie(newCategorieNaam, categorie) {\r\n        let newCategorieen = [];\r\n        categorieen.forEach(c => {\r\n            if (c['id'] === categorie['id']) {\r\n                newCategorieen.push({...categorie, \"naam\": newCategorieNaam});\r\n            } else {\r\n                newCategorieen.push(c);\r\n            }\r\n        })\r\n        setCategorieen(newCategorieen);\r\n    }\r\n\r\n    function onEditSubCategorie(newSubCategorieNaam, categorie, subCategorieId) {\r\n        if (categorie['naam'] === \"Leeftijd\") {\r\n            let newSubCategorieen = []\r\n            categorie['subCategorieen'].forEach(sc => {\r\n                if (sc['id'] === subCategorieId) {\r\n                    newSubCategorieen.push({\"id\": subCategorieId, \"naam\": newSubCategorieNaam})\r\n                } else {\r\n                    newSubCategorieen.push(sc);\r\n                }\r\n            })\r\n            setLeeftijd({...categorie, \"subCategorieen\": newSubCategorieen});\r\n            return;\r\n        }\r\n        let newCategorieen = [];\r\n        categorieen.forEach(c => {\r\n            if (c['id'] === categorie['id']) {\r\n                let newSubCategorieen = []\r\n                categorie['subCategorieen'].forEach(sc => {\r\n                    if (sc['id'] === subCategorieId) {\r\n                        newSubCategorieen.push({\"id\": subCategorieId, \"naam\": newSubCategorieNaam})\r\n                    } else {\r\n                        newSubCategorieen.push(sc);\r\n                    }\r\n                })\r\n                newCategorieen.push({...categorie, \"subCategorieen\": newSubCategorieen});\r\n            } else {\r\n                newCategorieen.push(c);\r\n            }\r\n        })\r\n        setCategorieen(newCategorieen);\r\n    }\r\n\r\n    function onRemoveSubCategorie(removedSubCategorieIds, categorie, categorieRemoved) {\r\n        if (categorieRemoved) {\r\n            setCategorieen(categorieen.filter((c) => (c['id'] !== categorie['id'])));\r\n            return;\r\n        }\r\n        if (categorie['naam'] === \"Leeftijd\") {\r\n            setLeeftijd({...categorie, \"subCategorieen\": categorie['subCategorieen'].filter(sc => (!removedSubCategorieIds.includes(sc['id'])))});\r\n            return;\r\n        }\r\n        let newCategorieen = [];\r\n        categorieen.forEach(c => {\r\n            if (c['id'] === categorie['id']) {\r\n                newCategorieen.push({\r\n                    ...categorie,\r\n                    \"subCategorieen\": categorie['subCategorieen'].filter(\r\n                        sc => (!removedSubCategorieIds.includes(sc['id']))\r\n                    )\r\n                });\r\n            } else {\r\n                newCategorieen.push(c);\r\n            }\r\n        })\r\n        setCategorieen(newCategorieen);\r\n    }\r\n\r\n    // Doelgroepen functies\r\n    function onAddDoelgroep(doelgroep) {\r\n        setDoelgroepen([...doelgroepen, doelgroep]);\r\n    }\r\n\r\n    function onEditDoelgroep(doelgroep) {\r\n        let newDoelgroepen = []\r\n        doelgroepen.forEach((item) => {\r\n            if (item['id'] === doelgroep['id']) {\r\n                newDoelgroepen.push({...doelgroep , \"isArchief\": item['isArchief']});\r\n            } else {\r\n                newDoelgroepen.push(item);\r\n            }\r\n        })\r\n        setDoelgroepen(newDoelgroepen);\r\n    }\r\n\r\n    function onArchiveDoelgroep(id, isArchief) {\r\n        let newDoelgroepen = []\r\n        doelgroepen.forEach((doelgroep) => {\r\n            if (doelgroep['id'] === id) {\r\n                newDoelgroepen.push({...doelgroepen.find(item => (item['id'] === id)), \"isArchief\": isArchief});\r\n            } else {\r\n                newDoelgroepen.push(doelgroep);\r\n            }\r\n        })\r\n        setDoelgroepen(newDoelgroepen);\r\n    }\r\n\r\n    // Periode Functions\r\n    async function initPeriodes() {\r\n        const res = await fetch('/php/periodes.php');\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            setPeriodes(data['periodes']);\r\n            return data['periodes'];\r\n        }\r\n        return [];\r\n    }\r\n\r\n    function onAddPeriode(periode) {\r\n        setPeriodes([...periodes, periode]);\r\n    }\r\n\r\n    function onEditPeriode(periode) {\r\n        let newPeriodes = [];\r\n        periodes.forEach(item => {\r\n            if (item['id'] === periode['id']) {\r\n                newPeriodes.push(periode);\r\n            } else {\r\n                newPeriodes.push(item);\r\n            }\r\n        })\r\n        setPeriodes(newPeriodes);\r\n    }\r\n\r\n    function onDeletePeriodes(ids) {\r\n        setPeriodes(periodes.filter(item => !(ids.includes(item['id']))));\r\n    }\r\n\r\n    // Gebruiker functions\r\n    async function initGebruikers() {\r\n        const res = await fetch('/php/gebruikers.php');\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            setGebruikers(data['gebruikers']);\r\n            return data['gebruikers'];\r\n        }\r\n        return [];\r\n    }\r\n\r\n    function onAddGebruiker(gebruiker) {\r\n        setGebruikers([...gebruikers, gebruiker]);\r\n    }\r\n\r\n    function onEditGebruiker(gebruiker) {\r\n        let newGebruikers = [];\r\n        gebruikers.forEach(item => {\r\n            if (item['id'] === gebruiker['id']) {\r\n                newGebruikers.push(gebruiker);\r\n            } else {\r\n                newGebruikers.push(item);\r\n            }\r\n        })\r\n        setGebruikers(newGebruikers);\r\n    }\r\n\r\n    function onDeleteGebruiker(ids) {\r\n        setGebruikers(gebruikers.filter(item => !(ids.includes(item['id']))));\r\n    }\r\n\r\n    // Review functions\r\n    async function initReviews() {\r\n        const res = await fetch('/php/reviews.php');\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            let newReviews = [];\r\n            data['reviews'].forEach((item) => {\r\n                newReviews.push(\r\n                    {...item,\r\n                        \"inhoud\": jsonEscapeReverse(item['inhoud'])\r\n                    });\r\n            })\r\n            setReviews(newReviews);\r\n            return data['reviews'];\r\n        }\r\n        return [];\r\n    }\r\n\r\n    function onAddReview(review) {\r\n        setReviews([...reviews, review]);\r\n    }\r\n\r\n    function onDeleteReview(ids) {\r\n        setReviews(reviews.filter(item => !(ids.includes(item['id']))));\r\n    }\r\n\r\n\r\n    // Reservatie functions\r\n    async function initReservaties() {\r\n        const res = await fetch('/php/reservaties.php');\r\n        const data = await res.json();\r\n\r\n        if (data['ok']) {\r\n            setReservaties(data['reservaties']);\r\n            return data['reservaties'];\r\n        }\r\n        return [];\r\n    }\r\n\r\n    async function onAddReservatie(reservatie) {\r\n        let newReservaties = [...reservaties, reservatie];\r\n        setReservaties(newReservaties);\r\n        const resRes = await filterReservaties(newReservaties, filteredSpeelgoed, filters);\r\n        setFilteredReservaties(resRes);\r\n    }\r\n\r\n    async function onEditReservatie(id, speelgoedId, gebruikerId, periodeId) {\r\n        let newReservaties = [];\r\n        reservaties.forEach(item => {\r\n            if (item['id'] === id) {\r\n                newReservaties.push({...item, speelgoedId, gebruikerId, periodeId});\r\n            } else {\r\n                newReservaties.push(item);\r\n            }\r\n        })\r\n        setReservaties(newReservaties);\r\n        const resRes = await filterReservaties(newReservaties, filteredSpeelgoed, filters);\r\n        setFilteredReservaties(resRes);\r\n    }\r\n\r\n    async function onArchiveReservaties(ids, isArchief, archiefDatum) {\r\n        let newReservaties = [];\r\n        reservaties.forEach(item => {\r\n            if (ids.includes(item['id'])) {\r\n                newReservaties.push({...item, isArchief, archiefDatum});\r\n            } else {\r\n                newReservaties.push(item);\r\n            }\r\n        })\r\n        setReservaties(newReservaties);\r\n        const resRes = await filterReservaties(newReservaties, filteredSpeelgoed, filters);\r\n        setFilteredReservaties(resRes);\r\n    }\r\n\r\n    async function onConfirmReservaties(ids, bevestigd) {\r\n        let newReservaties = [];\r\n        reservaties.forEach(item => {\r\n            if (ids.includes(item['id'])) {\r\n                newReservaties.push({...item, bevestigd});\r\n            } else {\r\n                newReservaties.push(item);\r\n            }\r\n        })\r\n        setReservaties(newReservaties);\r\n        const resRes = await filterReservaties(newReservaties, filteredSpeelgoed, filters);\r\n        setFilteredReservaties(resRes);\r\n    }\r\n\r\n    async function onDeleteReservaties(ids) {\r\n        let newReservaties = reservaties.filter(res => !ids.includes(res['id']));\r\n        setReservaties(newReservaties);\r\n        const resRes = await filterReservaties(newReservaties, filteredSpeelgoed, filters);\r\n        setFilteredReservaties(resRes);\r\n    }\r\n\r\n    // Winkelwagen functions\r\n    function onWinkelWagenAdd(speelgoedId, periodeId) {\r\n        let newItem = {speelgoedId, periodeId, \"gebruikerId\": userData['id']};\r\n        let id = 1;\r\n        if (winkelWagen.length > 0) {\r\n            id = winkelWagen[winkelWagen.length - 1]['id'] + 1;\r\n        }\r\n        newItem = {...newItem, id}\r\n        setWinkelWagen([\r\n            ...winkelWagen,\r\n            newItem\r\n            ]\r\n        )\r\n    }\r\n\r\n    function onWinkelWagenEdit(id, periodeId) {\r\n        let newWinkelwagen = [];\r\n        winkelWagen.forEach(item => {\r\n            if(item['id'] === id) {\r\n                newWinkelwagen.push({...item, \"periodeId\": parseInt(periodeId)});\r\n            } else {\r\n                newWinkelwagen.push(item);\r\n            }\r\n        });\r\n        setWinkelWagen(newWinkelwagen);\r\n    }\r\n\r\n    function onWinkelWagenDelete(ids) {\r\n        setWinkelWagen(winkelWagen.filter(item => (!ids.includes(item['id']))));\r\n    }\r\n\r\n    async function onWinkelWagenCommit(data) {\r\n        setWinkelWagen([]);\r\n        setWinkelWagenResult(data);\r\n        if (data['doubles'].length > 0) {\r\n            setLoading(true);\r\n            const resRes = await initReservaties();\r\n            const fltResRes = await filterReservaties(resRes, speelgoed, filters);\r\n            if (fltResRes) {\r\n                setLoading(false);\r\n            }\r\n            setFilteredReservaties(fltResRes);\r\n        } else {\r\n            let newReservaties = [...reservaties, ...data['reservaties']];\r\n            setReservaties(newReservaties);\r\n            const fltResRes = await filterReservaties(newReservaties, speelgoed, filters);\r\n            setFilteredReservaties(fltResRes);\r\n        }\r\n    }\r\n\r\n    if (loading) {\r\n        return (\r\n            <main className=\"jt-loading-screen\">\r\n                <Loading/>\r\n            </main>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <Router>\r\n            <div className=\"jt-wrapper\">\r\n                <Banner/>\r\n                <Header\r\n                    isLoggedIn={userData['isLoggedIn']}\r\n                    role={userData['role']}\r\n                    onLogout={logout}\r\n                    updateFilters={updateFilters}\r\n                    searchbarText={searchbarText}\r\n                    winkelWagen={winkelWagen}\r\n                    username={userData['user']}\r\n                />\r\n                {userData['isLoggedIn']\r\n                    ?\r\n                    <Alert show={userData['doelgroep'] !== userData['sessDoelgroep']} variant=\"danger\">\r\n                        <p className=\"mb-0\">\r\n                            U bent momenteel ingelogd bij Speelotheek&nbsp;\r\n                            <strong>{doelgroepen.filter(doelgroep => (doelgroep['id'] === userData['sessDoelgroep']))[0]['naam']}</strong>.\r\n                            Gelieve opnieuw in te loggen indien u wenst over te schakelen naar Speelotheek&nbsp;\r\n                            <strong>{doelgroepen.filter(doelgroep => doelgroep['id'] === userData['doelgroep'])[0]['naam']}</strong>.\r\n                        </p>\r\n                    </Alert>\r\n                    : <></>\r\n                }\r\n                <Route path=\"/login\" exact render={() => (\r\n                    <LoginPage\r\n                        onLogin={login}\r\n                        doelgroepen={doelgroepen}\r\n                        isLoggedIn={userData['isLoggedIn']}\r\n                    />\r\n                )}\r\n                />\r\n                <Route path=\"/sign_up\" exact render={() => (\r\n                    <SignUpPage\r\n                        doelgroepen={doelgroepen}\r\n                        isLoggedIn={userData['isLoggedIn']}\r\n                    />\r\n                )}\r\n                />\r\n                <Route path=\"/\" exact render={() => (\r\n                    <HomePage\r\n                        isLoggedIn={userData['isLoggedIn']}\r\n                        filters={filters}\r\n                        updateFilters={updateFilters}\r\n                        categorieen={categorieen}\r\n                        leeftijd={leeftijd}\r\n                        userData={userData}\r\n                        removeCategorieFromFilters={removeCategorieFromFilters}\r\n                        filteredSpeelgoed={filteredSpeelgoed}\r\n                        periodes={periodes}\r\n                        onWinkelWagenAdd={onWinkelWagenAdd}\r\n                        winkelWagen={winkelWagen}\r\n                        reservaties={reservaties}\r\n                        formatDate={formatDate}\r\n                    />\r\n                )}\r\n                />\r\n                <Route path=\"/admin/speelgoed\" exact render={() => (\r\n                    <AdminSpeelgoedPage\r\n                        isLoggedIn={userData['isLoggedIn']}\r\n                        filteredSpeelgoed={filteredSpeelgoed}\r\n                        filters={filters}\r\n                        updateFilters={updateFilters}\r\n                        removeCategorieFromFilters={removeCategorieFromFilters}\r\n                        archiveSpeelgoed={archiveSpeelgoed}\r\n                        onDeleteSpeelgoed={onDeleteSpeelgoed}\r\n                        onToggleBeschikbaar={onToggleBeschikbaar}\r\n                        onToggleSpecialeAanvraag={onToggleSpecialeAanvraag}\r\n                        categorieen={categorieen}\r\n                        leeftijd={leeftijd}\r\n                        userData={userData}\r\n                        sortSpeelgoed={sortSpeelgoed}\r\n                        sortParam={sortParam}\r\n                    />\r\n                )}\r\n                />\r\n                <Route path=\"/admin/statistiek\" exact render={() => (\r\n                    <AdminStatistiekPage\r\n                        isLoggedIn={userData['isLoggedIn']}\r\n                        filteredSpeelgoed={filteredSpeelgoed}\r\n                        filters={filters}\r\n                        updateFilters={updateFilters}\r\n                        categorieen={categorieen}\r\n                        leeftijd={leeftijd}\r\n                        userData={userData}\r\n                        sortSpeelgoed={sortSpeelgoed}\r\n                        sortParam={sortParam}\r\n                        reservaties={reservaties}\r\n                        periodes={periodes}\r\n                    />\r\n                )}\r\n                />\r\n                <Route path=\"/admin/speelgoedfiche\" exact render={() => (\r\n                    <AdminSpeelgoedFichePage\r\n                        isLoggedIn={userData['isLoggedIn']}\r\n                        doelgroepen={doelgroepen}\r\n                        userData={userData}\r\n                        categorieen={categorieen}\r\n                        leeftijd={leeftijd}\r\n                        speelgoed={speelgoed}\r\n                        onAddSpeelgoed={onAddSpeelgoed}\r\n                        onUpdateSpeelgoed={onUpdateSpeelgoed}\r\n                        onDeleteSpeelgoed={onDeleteSpeelgoed}\r\n                    />\r\n                )}\r\n                />\r\n                <Route path=\"/admin/categorieen\" exact render={() => (\r\n                    <AdminCategorieenPage\r\n                        isLoggedIn={userData['isLoggedIn']}\r\n                        categorieen = {categorieen}\r\n                        leeftijd = {leeftijd}\r\n                        onAddCategorie={onAddCategorie}\r\n                        onAddSubCategorie={onAddSubCategorie}\r\n                        onRemoveSubCategorie={onRemoveSubCategorie}\r\n                        onEditCategorie={onEditCategorie}\r\n                        onEditSubCategorie={onEditSubCategorie}\r\n                    />\r\n                )}\r\n                />\r\n                <Route path=\"/speelgoedfiche\" exact render={() => (\r\n                    <SpeelgoedFichePage\r\n                        isLoggedIn={userData['isLoggedIn']}\r\n                        speelgoed={speelgoed}\r\n                        categorieen = {categorieen}\r\n                        leeftijd = {leeftijd}\r\n                        userData={userData}\r\n                        reviews={reviews}\r\n                        gebruikers={gebruikers}\r\n                        periodes={periodes}\r\n                        onAddReview={onAddReview}\r\n                        reservaties={reservaties}\r\n                        onWinkelWagenAdd={onWinkelWagenAdd}\r\n                        winkelWagen={winkelWagen}\r\n                        formatDate={formatDate}\r\n                    />\r\n                )}\r\n                />\r\n                <Route path=\"/admin/doelgroepen\" exact render={() => (\r\n                    <AdminDoelgroepenPage\r\n                        isLoggedIn={userData['isLoggedIn']}\r\n                        doelgroepen={doelgroepen}\r\n                        onAddDoelgroep={onAddDoelgroep}\r\n                        onEditDoelgroep={onEditDoelgroep}\r\n                        onArchiveDoelgroep={onArchiveDoelgroep}\r\n                    />\r\n                )}\r\n                />\r\n                <Route path=\"/admin/periodes\" exact render={() => (\r\n                    <AdminPeriodesPage\r\n                        isLoggedIn={userData['isLoggedIn']}\r\n                        periodes={periodes}\r\n                        onAddPeriode={onAddPeriode}\r\n                        onEditPeriode={onEditPeriode}\r\n                        formatDate={formatDate}\r\n                        onDeletePeriodes={onDeletePeriodes}\r\n                    />\r\n                )}\r\n                />\r\n                <Route path=\"/admin/gebruikers\" exact render={() => (\r\n                    <AdminGebruikersPage\r\n                        isLoggedIn={userData['isLoggedIn']}\r\n                        gebruikers={gebruikers}\r\n                        doelgroepen={doelgroepen}\r\n                        onAddGebruiker={onAddGebruiker}\r\n                        onEditGebruiker={onEditGebruiker}\r\n                        onDeleteGebruiker={onDeleteGebruiker}\r\n                        userData={userData}\r\n                    />\r\n                )}\r\n                />\r\n                <Route path=\"/admin/reviews\" exact render={() => (\r\n                    <AdminReviewPage\r\n                        isLoggedIn={userData['isLoggedIn']}\r\n                        filters={filters}\r\n                        categorieen={categorieen}\r\n                        leeftijd={leeftijd}\r\n                        userData={userData}\r\n                        reviews={reviews}\r\n                        gebruikers={gebruikers}\r\n                        updateFilters={updateFilters}\r\n                        removeCategorieFromFilters={removeCategorieFromFilters}\r\n                        filteredSpeelgoed={filteredSpeelgoed}\r\n                        onDeleteReview={onDeleteReview}\r\n                    />\r\n                )}\r\n                />\r\n                <Route path=\"/admin/reservaties\" exact render={() => (\r\n                    <AdminReservatiePage\r\n                        isLoggedIn={userData['isLoggedIn']}\r\n                        filters={filters}\r\n                        updateFilters={updateFilters}\r\n                        removeCategorieFromFilters={removeCategorieFromFilters}\r\n                        categorieen={categorieen}\r\n                        leeftijd={leeftijd}\r\n                        userData={userData}\r\n                        filteredReservaties={filteredReservaties}\r\n                        speelgoed={speelgoed}\r\n                        gebruikers={gebruikers}\r\n                        periodes={periodes}\r\n                        onAddReservatie={onAddReservatie}\r\n                        onEditReservatie={onEditReservatie}\r\n                        onDeleteReservaties={onDeleteReservaties}\r\n                        reservaties={reservaties}\r\n                        onArchiveReservaties={onArchiveReservaties}\r\n                        onConfirmReservaties={onConfirmReservaties}\r\n                        formatDate={formatDate}\r\n                        sortReservaties={sortReservaties}\r\n                        sortParamRes={sortParamRes}\r\n                    />\r\n                )}\r\n                />\r\n                <Route path=\"/winkelwagen\" exact render={() => (\r\n                    <WinkelWagenPage\r\n                        isLoggedIn={userData['isLoggedIn']}\r\n                        winkelWagen={winkelWagen}\r\n                        onWinkelWagenDelete={onWinkelWagenDelete}\r\n                        speelgoed={speelgoed}\r\n                        periodes={periodes}\r\n                        onWinkelWagenEdit={onWinkelWagenEdit}\r\n                        reservaties={reservaties}\r\n                        onWinkelWagenCommit={onWinkelWagenCommit}\r\n                        formatDate={formatDate}\r\n                    />\r\n                )}\r\n                />\r\n                <Route path=\"/winkelwagenBevestigd\" exact render={() => (\r\n                    <WinkelWagenBevestigdPage\r\n                        isLoggedIn={userData['isLoggedIn']}\r\n                        winkelWagenResult={winkelWagenResult}\r\n                        speelgoed={speelgoed}\r\n                        periodes={periodes}\r\n                        formatDate={formatDate}\r\n                    />\r\n                )}\r\n                />\r\n                <Route path=\"/mijnreservaties\" exact render={() => (\r\n                    <MijnReservatiesPage\r\n                        isLoggedIn={userData['isLoggedIn']}\r\n                        filters={filters}\r\n                        updateFilters={updateFilters}\r\n                        removeCategorieFromFilters={removeCategorieFromFilters}\r\n                        categorieen={categorieen}\r\n                        leeftijd={leeftijd}\r\n                        userData={userData}\r\n                        filteredReservaties={filteredReservaties}\r\n                        speelgoed={speelgoed}\r\n                        periodes={periodes}\r\n                        onDeleteReservaties={onDeleteReservaties}\r\n                        formatDate={formatDate}\r\n                        reservaties={reservaties}\r\n                        winkelWagen={winkelWagen}\r\n                        filteredSpeelgoed={filteredSpeelgoed}\r\n                        onWinkelWagenAdd={onWinkelWagenAdd}\r\n                    />\r\n                )}\r\n                />\r\n                <div className=\"jt-wrapper-fill\"/>\r\n                <Footer/>\r\n                <Banner/>\r\n            </div>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/style.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}